{"version":3,"file":"main.bundle.501c8b.js","sources":["webpack:///main.bundle.501c8b.js"],"sourcesContent":["webpackJsonp([1],{\"./public/images/Etiquette_CO2.jpg\":function(e,t,n){e.exports=n.p+\"img/Etiquette_CO2-91f989526091730e55649a1a1b0dcc6e.jpg\"},\"./public/images/Etiquette_NRJ.jpg\":function(e,t,n){e.exports=n.p+\"img/Etiquette_NRJ-72159dc404dced5481f0ed72005f712d.jpg\"},\"./public/images/Etiquette_cursor.png\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAckAAABICAMAAACqev6KAAAB2lBMVEVMaXEDAwN7e3sEBAQBAQECAgI3NzempqadnZ0AAAAKCgpoaGgICAgPDw9nZ2cGBgYNDQ0MDAwODg4QEBB8fHwLCwsJCQkHBwcFBQVmZmYSEhJpaWk4ODhlZWVjY2MUFBQRERETExN9fX05OTkuLi6dnZ09PT1XV1dOTk4eHh5ycnKlpaUBAABFRUUvLy9VVVV1dXV6enp+fn5hYWFqampkZGSbm5uurq5TU1NfX19aWlqEhIQWFhazs7NwcHAZGRmhoaFvb29RUVFNTU0yMjKFhYWWlpaJiYlAQECNjY0XFxcBAAE7OTpQUFA6Ojp2dnYzMzMoKCg2NjY1NTVra2tubm4VFRVcXFxeXl5nZWYqKiofHx8cHBwpKSkxMTEbGhU/Pz9WVlYgICCfn59GRkaoqKhDQ0M7OzuLi4uIiIhdXV0lJiAICAZ3d3cHBQZJSUkDBACXl5eysrKMjIwjIyOcnJyjo6NsbGxEREQ8PDwCAgB/f3+enp5MTEysrKwCAAEGBAWNi4yioKGRkZEhISFsamtISEgbGxtCQkJEQkNDQUIwMDAnJSaGhoYDAQKvr69BQUF3dXapqakGBQWCgoJHR0ecmpsnJyd5eXkrKystLS2KiopZWVliYmJg0nxxAAAACXRSTlMA////////AgXLeB8mAAAEYklEQVR42u2dh3PbNhSHjRBw+2DAJEhzSJZsy7HTeCSOVzOatNm72enee++9R7r33v9r+UArunPr6ziRinHv8/nuRxKWwfcRNEUfhb4+giD+DVdPnh4fWlhY2PAfGVrhn9bPDw3Nj2/7mQpdNldNntraOHe+ca6/yzQaG3Ma/WfO/vrL+YmIKl02kwoE4Hf34Zy3ow9U6bLxABikQvj8fyLWIN/SMZmSybL5AkoZjn/Bo1KXSyNdqbQC3mVWHSBU63JJoSIE1brUq53jrCKRjMZkqUyLikRyOruWyhRUCJW7NL5drE4jjcky2ZIBJ5MO4CsQNCYdYBivJ8nk+ufjzBNAJtc9Mw0mOJDJ9c/3DKockWSyLPrBByCTDrz98AWQSQfYxgDIpAunVg/IpAtMAJBJB9gzLcikE9zBgEy6wAM9Ekkmu33VCkAmXUACJ5MuMNczj2Syq+wDIJMukAKZdGNEemTSCXYIIJMu4DEgky4w0uMRSSa7RC2DK8Pka3fP3oodukfKeBTDI7LuBbaPgQnUdgxREKlDGA5yaW7GcK/UYYLhcBhmY7a1H0ZyL4ZRrf2LGI6q27KnMexUJk4xvKFDo21rflx7RzDcIKXcj2FzoMUpDPNSy6IDMpNhcWlYD/3XMdyVJNlDGJoqUGcxXJfGkW8bqegm+RyGMGx512O4M5ZyK4bT8Vi0G8NerQPb7z5tUvMSBqN2q1swbEnCwO7KuAmium1kmFQ2RPUgu9b2JA14hr9vMyuedJMJXCEmn3n8iSXs0aZIt+xePxoGcbGzoQnCB221Y+0/j+FNHcU7MexKAm29vxgnwQuFdxn6z2K4z4TKFvIVrsUODNOtJLECZ+JAFjVSWaiOYXi1LtU1GPYrGdmwIQujQreJInsA9I1JrcZtL42UttEFZfSENWla9dg2imNt9tjiaq1exvCwCeQmDE8aNXo7hvuTtF4cJUmU6BkMrViFj9lDKZSjZ6zJKByLVl4yyGzIEiOtySk9ldgniA8wf+XWTgp0dnWBSx8xMukGxzgnk27QJJOu8KEik46w/SdBJt3g/c/IpCscAEYm3eBID1WSya4iaEy6wiEQZNIJvprrlUoy2W2Mz8mkGxwWgky6wQ8wSybd4Osve/OnkirfdT54ikw6wjcnT5BJR/icTLrCp9+RSTf48ZO3T5BJJ3jvnVky6QgnPU4mneDdiWr/y0UVL423DkJlD3DRPZ5y6a/sfjqZLJfm0ZRMOkIsyKQj7CKTrnBjJSYZ51TqslnrrUgxGyHr0F7KtwD3PDslIc5ZyPnq5044ZwLE5anS8jWC05gsf1D6sOoTl9oCVs0vCSsLfsa48FixYA2v+lD1fFW++fI8lCz/8ujsWgEbDfhCKOjMAcr+lvYWLvwEZx5lzGuToVhrMXcq8iU/8/z2RmCeSAWZrIDfhgdrzcHawBoMdihWLC/+MZKTL9eQYWSwufx7c+nCwEjt4sAwvlqt83MDS8sji3NUZ2f4Ew5DZzf5pg38AAAAAElFTkSuQmCC\"},\"./src/App.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./src/styles/App.sass\"),o=a(u),l=n(\"./src/styles/buttons.scss\"),i=(a(l),n(\"./node_modules/classnames/index.js\")),c=(a(i),n(\"./node_modules/history/createHashHistory.js\")),d=a(c),f=n(\"./node_modules/react-router/es/index.js\"),m=n(\"./node_modules/react-router-dom/es/index.js\"),p=n(\"./node_modules/react-portal/build/portal.js\"),E=(a(p),n(\"./src/constants/index.js\")),h=n(\"./src/tracker.js\"),v=n(\"./src/containers/Navigation.js\"),y=a(v),_=n(\"./src/components/elements/Main.jsx\"),b=a(_),g=n(\"./src/components/elements/Footer.jsx\"),C=a(g),S=n(\"./src/components/elements/Page.jsx\"),A=(a(S),n(\"./src/components/elements/Onboarding.jsx\")),O=a(A),T=n(\"./src/containers/Documents.js\"),x=a(T),D=n(\"./src/containers/Contacts.js\"),k=a(D),R=n(\"./src/containers/Recalls.js\"),N=a(R),j=n(\"./src/containers/Trash.js\"),w=a(j),L=n(\"./src/containers/Data.js\"),P=a(L),M=n(\"./src/containers/Assistant.js\"),I=a(M),F=n(\"./src/containers/DataForm.js\"),U=a(F),q=n(\"./src/containers/News.js\"),z=a(q),V=n(\"./src/components/elements/Dashboard.jsx\"),Y=a(V),B=n(\"./src/containers/TaskList.js\"),W=a(B),H=n(\"./src/containers/Preferences.js\"),G=a(H),J=n(\"./src/components/elements/Help.jsx\"),Q=a(J),K=n(\"./src/components/elements/About.jsx\"),Z=a(K),X=n(\"./src/containers/Alerter.js\"),$=a(X),ee=n(\"./src/scripts/initial.js\"),te=a(ee),ne=function(e){var t=(0,d.default)();if((0,h.shouldEnableTracking)()&&(0,h.getTracker)()){var n=(0,h.getTracker)();t=n.connectToHistory(t),n.track(t.location.pathname)}return cozy.client.files.statByPath(E.ROOT_PATH).then(function(){e.initilizeDocs()}).catch(function(t){console.log(\"No route file\"),e.initilizeDocs()}),(0,te.default)(e.alert).then(function(t){console.log(\"Init script done reload:\",t),t&&e.reloadDocs()}),s.default.createElement(f.Router,{history:t},s.default.createElement(\"div\",{className:o.default.app},s.default.createElement(\"div\",{className:o.default.container},s.default.createElement(y.default,null),s.default.createElement(\"div\",{className:o.default.page},s.default.createElement(b.default,null,s.default.createElement(m.Route,{exact:!0,path:\"/\",component:O.default}),s.default.createElement(m.Route,{path:\"/accueil\",component:Y.default}),s.default.createElement(m.Route,{path:\"/Documents/:path*\",component:x.default}),s.default.createElement(m.Route,{path:\"/data/:slug/:id\",component:P.default}),s.default.createElement(m.Route,{path:\"/contacts/:id?\",component:k.default}),s.default.createElement(m.Route,{path:\"/rappels\",component:N.default}),s.default.createElement(m.Route,{path:\"/corbeille\",component:w.default}),s.default.createElement(m.Route,{exact:!0,path:\"/assistant\",component:I.default}),s.default.createElement(m.Route,{path:\"/assistant/:slug\",component:U.default}),s.default.createElement(m.Route,{path:\"/du-nouveau/:id?\",component:W.default}),s.default.createElement(m.Route,{path:\"/actualites\",component:z.default}),s.default.createElement(m.Route,{path:\"/preferences\",component:G.default}),s.default.createElement(m.Route,{path:\"/aide\",component:Q.default}),s.default.createElement(m.Route,{path:\"/a-propos\",component:Z.default}),s.default.createElement(C.default,null)))),s.default.createElement($.default,null)))};t.default=ne},\"./src/actions/alerts.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.alertClear=t.alertDismiss=t.alertShow=t.ALERT_CLEAR=t.ALERT_DISMISS=t.ALERT_SHOW=void 0;var a=n(\"./src/constants/index.js\"),r=t.ALERT_SHOW=\"ALERT_SHOW\",s=t.ALERT_DISMISS=\"ALERT_DISMISS\",u=t.ALERT_CLEAR=\"ALERT_CLEAR\";t.alertShow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ALERT_LEVEL_INFO;return{type:r,alert:{id:Date.now(),message:e,level:t}}},t.alertDismiss=function(e){return{type:s,id:e}},t.alertClear=function(){return{type:u}}},\"./src/actions/contacts.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.contactsSave=t.contactsNew=t.contactsRestore=t.contactsRemove=t.contactsSelect=t.CONTACTS_SELECT=t.CONTACTS_RESTORE_FAILURE=t.CONTACTS_RESTORE_SUCCESS=t.CONTACTS_RESTORE=t.CONTACTS_REMOVE_FAILURE=t.CONTACTS_REMOVE_SUCCESS=t.CONTACTS_REMOVE=t.CONTACTS_SAVE_FAILURE=t.CONTACTS_SAVE_SUCCESS=t.CONTACTS_SAVE=t.CONTACTS_NEW_FAILURE=t.CONTACTS_NEW_SUCCESS=t.CONTACTS_NEW=void 0;var r=n(\"./src/constants/index.js\"),s=t.CONTACTS_NEW=\"CONTACTS_NEW\",u=t.CONTACTS_NEW_SUCCESS=\"CONTACTS_NEW_SUCCESS\",o=t.CONTACTS_NEW_FAILURE=\"CONTACTS_NEW_FAILURE\",l=t.CONTACTS_SAVE=\"CONTACTS_SAVE\",i=t.CONTACTS_SAVE_SUCCESS=\"CONTACTS_SAVE_SUCCESS\",c=t.CONTACTS_SAVE_FAILURE=\"CONTACTS_SAVE_FAILURE\",d=t.CONTACTS_REMOVE=\"CONTACTS_REMOVE\",f=t.CONTACTS_REMOVE_SUCCESS=\"CONTACTS_REMOVE_SUCCESS\",m=t.CONTACTS_REMOVE_FAILURE=\"CONTACTS_REMOVE_FAILURE\",p=t.CONTACTS_RESTORE=\"CONTACTS_RESTORE\",E=t.CONTACTS_RESTORE_SUCCESS=\"CONTACTS_RESTORE_SUCCESS\",h=t.CONTACTS_RESTORE_FAILURE=\"CONTACTS_RESTORE_FAILURE\",v=t.CONTACTS_SELECT=\"CONTACTS_SELECT\";t.contactsSelect=function(e){return{type:v,contact:e}},t.contactsRemove=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var s,u,o,l,i,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:d,contacts:e}),t.prev=1,s=[],u=!0,o=!1,l=void 0,t.prev=6,i=e[Symbol.iterator]();case 8:if(u=(c=i.next()).done){t.next=18;break}return p=c.value,t.t0=s,t.next=13,cozy.client.data.updateAttributes(r.DOCTYPE_CONTACTS,p._id,{trash:!0});case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:u=!0,t.next=8;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(6),o=!0,l=t.t2;case 24:t.prev=24,t.prev=25,!u&&i.return&&i.return();case 27:if(t.prev=27,!o){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt(\"return\",n({type:f,ids:s.map(function(e){return e._id})}));case 35:return t.prev=35,t.t3=t.catch(1),t.abrupt(\"return\",n({type:m,err:t.t3}));case 38:case\"end\":return t.stop()}},t,void 0,[[1,35],[6,20,24,32],[25,,27,31]])}));return function(e,n){return t.apply(this,arguments)}}()},t.contactsRestore=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var s,u,o,l,i,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:p,contacts:e}),t.prev=1,s=[],u=!0,o=!1,l=void 0,t.prev=6,i=e[Symbol.iterator]();case 8:if(u=(c=i.next()).done){t.next=18;break}return d=c.value,t.t0=s,t.next=13,cozy.client.data.updateAttributes(r.DOCTYPE_CONTACTS,d._id,{trash:!1});case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:u=!0,t.next=8;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(6),o=!0,l=t.t2;case 24:t.prev=24,t.prev=25,!u&&i.return&&i.return();case 27:if(t.prev=27,!o){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt(\"return\",n({type:E,ids:s.map(function(e){return e._id})}));case 35:return t.prev=35,t.t3=t.catch(1),t.abrupt(\"return\",n({type:h,err:t.t3}));case 38:case\"end\":return t.stop()}},t,void 0,[[1,35],[6,20,24,32],[25,,27,31]])}));return function(e,n){return t.apply(this,arguments)}}()},t.contactsNew=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,l){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:s,name:e}),n.prev=1,n.next=4,cozy.client.data.create(r.DOCTYPE_CONTACTS,t);case 4:return i=n.sent,n.abrupt(\"return\",a({type:u,contact:i}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt(\"return\",a({type:o,err:n.t0}));case 11:case\"end\":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()},t.contactsSave=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,s){var u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:l,id:e}),n.prev=1,n.next=4,cozy.client.data.updateAttributes(r.DOCTYPE_CONTACTS,e,t);case 4:return u=n.sent,n.abrupt(\"return\",a({type:i,contact:u}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt(\"return\",a({type:c,err:n.t0}));case 11:case\"end\":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()}},\"./src/actions/data.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=t.DATA_REMOVE=\"DATA_REMOVE\",s=t.DATA_REMOVE_SUCCESS=\"DATA_REMOVE_SUCCESS\",u=t.DATA_REMOVE_FAILURE=\"DATA_REMOVE_FAILURE\",o=t.DATA_NEW=\"DATA_NEW\",l=t.DATA_NEW_SUCCESS=\"DATA_NEW_SUCCESS\",i=t.DATA_NEW_FAILURE=\"DATA_NEW_FAILURE\",c=t.DATA_SAVE=\"DATA_SAVE\",d=t.DATA_SAVE_SUCCESS=\"DATA_SAVE_SUCCESS\",f=t.DATA_SAVE_FAILURE=\"DATA_SAVE_FAILURE\",m=t.DATA_RESTORE=\"DATA_RESTORE\",p=t.DATA_RESTORE_SUCCESS=\"DATA_RESTORE_SUCCESS\",E=t.DATA_RESTORE_FAILURE=\"DATA_RESTORE_FAILURE\",h=t.DATA_SELECT=\"DATA_SELECT\",v=t.DATA_LOAD=\"DATA_LOAD\",y=t.DATA_LOAD_SUCCESS=\"DATA_LOAD_SUCCESS\",_=t.DATA_LOAD_FAILURE=\"DATA_LOAD_FAILURE\";t.dataSelect=function(e){return{type:h,data:e}},t.dataRemove=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,o){var l,i,c,d,f,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:r,data:t,doctype:e}),n.prev=1,l=[],i=!0,c=!1,d=void 0,n.prev=6,f=t[Symbol.iterator]();case 8:if(i=(m=f.next()).done){n.next=18;break}return p=m.value,n.t0=l,n.next=13,cozy.client.data.updateAttributes(e,p._id,{trash:!0});case 13:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 15:i=!0,n.next=8;break;case 18:n.next=24;break;case 20:n.prev=20,n.t2=n.catch(6),c=!0,d=n.t2;case 24:n.prev=24,n.prev=25,!i&&f.return&&f.return();case 27:if(n.prev=27,!c){n.next=30;break}throw d;case 30:return n.finish(27);case 31:return n.finish(24);case 32:return n.abrupt(\"return\",a({type:s,ids:l.map(function(e){return e._id}),doctype:e}));case 35:return n.prev=35,n.t3=n.catch(1),n.abrupt(\"return\",a({type:u,err:n.t3}));case 38:case\"end\":return n.stop()}},n,void 0,[[1,35],[6,20,24,32],[25,,27,31]])}));return function(e,t){return n.apply(this,arguments)}}()},t.dataRestore=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var r,s,u,o,l,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m,data:e}),t.prev=1,r=[],s=!0,u=!1,o=void 0,t.prev=6,l=e[Symbol.iterator]();case 8:if(s=(i=l.next()).done){t.next=18;break}return c=i.value,t.t0=r,t.next=13,cozy.client.data.updateAttributes(c.doctype,c._id,{trash:!1});case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:s=!0,t.next=8;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(6),u=!0,o=t.t2;case 24:t.prev=24,t.prev=25,!s&&l.return&&l.return();case 27:if(t.prev=27,!u){t.next=30;break}throw o;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt(\"return\",n({type:p,ids:r.map(function(e){return e._id}),doctypes:r.map(function(e){return e._type})}));case 35:return t.prev=35,t.t3=t.catch(1),t.abrupt(\"return\",n({type:E,err:t.t3}));case 38:case\"end\":return t.stop()}},t,void 0,[[1,35],[6,20,24,32],[25,,27,31]])}));return function(e,n){return t.apply(this,arguments)}}()},t.dataNew=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,r){var s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:o,data:t,doctype:e}),n.prev=1,n.next=4,cozy.client.data.create(e,t);case 4:return s=n.sent,n.abrupt(\"return\",a({type:l,data:s,doctype:e}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt(\"return\",a({type:i,err:n.t0}));case 11:case\"end\":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()},t.dataSave=function(e,t,n){return function(){var r=a(regeneratorRuntime.mark(function a(r,s){var u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:c,id:t,data:n,doctype:e}),a.prev=1,a.next=4,cozy.client.data.updateAttributes(e,t,n);case 4:return u=a.sent,a.abrupt(\"return\",r({type:d,data:u,doctype:e}));case 8:return a.prev=8,a.t0=a.catch(1),a.abrupt(\"return\",r({type:f,err:a.t0}));case 11:case\"end\":return a.stop()}},a,void 0,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}()},t.dataLoad=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,r){var s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:v,id:t,doctype:e}),n.prev=1,n.next=4,cozy.client.data.find(e,t);case 4:return s=n.sent,n.abrupt(\"return\",a({type:y,data:s,doctype:e}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt(\"return\",a({type:_,err:n.t0}));case 11:case\"end\":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()}},\"./src/actions/documents.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.documentsChangeType=t.documentsMove=t.documentsRename=t.documentsRestore=t.documentsRemove=t.documentsInitialize=t.documentsNewFolder=t.documentsDownload=t.documentsClick=t.documentsChangeViewMode=t.documentsChangeFilter=t.documentsSelect=t.HTTP_CODE_CONFLICT=t.DOCUMENTS_CHANGE_TYPE_FAILURE=t.DOCUMENTS_CHANGE_TYPE_SUCCESS=t.DOCUMENTS_CHANGE_TYPE=t.DOCUMENTS_MOVE_FAILURE=t.DOCUMENTS_MOVE_SUCCESS=t.DOCUMENTS_MOVE=t.DOCUMENTS_RENAME_FAILURE=t.DOCUMENTS_RENAME_SUCCESS=t.DOCUMENTS_RENAME=t.DOCUMENTS_CHANGE_FILTER=t.DOCUMENTS_CLICK=t.DOCUMENTS_NEW_FOLDER_FAILURE_DUPLICATE=t.DOCUMENTS_NEW_FOLDER_FAILURE_GENERIC=t.DOCUMENTS_NEW_FOLDER_SUCCESS=t.DOCUMENTS_NEW_FOLDER=t.DOCUMENTS_CHANGE_VIEW_MODE=t.DOCUMENTS_DOWNLOAD_ALL=t.DOCUMENTS_DOWNLOAD=t.DOCUMENTS_INITIALIZE_FAILURE=t.DOCUMENTS_INITIALIZE_SUCCESS=t.DOCUMENTS_INITIALIZE=t.DOCUMENTS_RESTORE_FAILURE=t.DOCUMENTS_RESTORE_SUCCESS=t.DOCUMENTS_RESTORE=t.DOCUMENTS_REMOVE_FAILURE=t.DOCUMENTS_REMOVE_SUCCESS=t.DOCUMENTS_REMOVE=t.DOCUMENTS_SELECT=void 0;var r=n(\"./src/tools/index.js\"),s=n(\"./src/constants/index.js\"),u=n(\"./src/actions/load.js\"),o=n(\"./src/actions/gauge.js\"),l=n(\"./src/actions/importer.js\"),i=t.DOCUMENTS_SELECT=\"DOCUMENTS_SELECT\",c=t.DOCUMENTS_REMOVE=\"DOCUMENTS_REMOVE\",d=t.DOCUMENTS_REMOVE_SUCCESS=\"DOCUMENTS_REMOVE_SUCCESS\",f=t.DOCUMENTS_REMOVE_FAILURE=\"DOCUMENTS_REMOVE_FAILURE\",m=t.DOCUMENTS_RESTORE=\"DOCUMENTS_RESTORE\",p=t.DOCUMENTS_RESTORE_SUCCESS=\"DOCUMENTS_RESTORE_SUCCESS\",E=t.DOCUMENTS_RESTORE_FAILURE=\"DOCUMENTS_RESTORE_FAILURE\",h=t.DOCUMENTS_INITIALIZE=\"DOCUMENTS_INITIALIZE\",v=t.DOCUMENTS_INITIALIZE_SUCCESS=\"DOCUMENTS_INITIALIZE_SUCCESS\",y=t.DOCUMENTS_INITIALIZE_FAILURE=\"DOCUMENTS_INITIALIZE_FAILURE\",_=t.DOCUMENTS_DOWNLOAD=\"DOCUMENTS_DOWNLOAD\",b=(t.DOCUMENTS_DOWNLOAD_ALL=\"DOCUMENTS_DOWNLOAD_ALL\",t.DOCUMENTS_CHANGE_VIEW_MODE=\"DOCUMENTS_CHANGE_VIEW_MODE\"),g=t.DOCUMENTS_NEW_FOLDER=\"DOCUMENTS_NEW_FOLDER\",C=t.DOCUMENTS_NEW_FOLDER_SUCCESS=\"DOCUMENTS_NEW_FOLDER_SUCCESS\",S=t.DOCUMENTS_NEW_FOLDER_FAILURE_GENERIC=\"DOCUMENTS_NEW_FOLDER_FAILURE_GENERIC\",A=t.DOCUMENTS_NEW_FOLDER_FAILURE_DUPLICATE=\"DOCUMENTS_NEW_FOLDER_FAILURE_DUPLICATE\",O=t.DOCUMENTS_CLICK=\"DOCUMENTS_CLICK\",T=t.DOCUMENTS_CHANGE_FILTER=\"DOCUMENTS_CHANGE_FILTER\",x=t.DOCUMENTS_RENAME=\"DOCUMENTS_RENAME\",D=t.DOCUMENTS_RENAME_SUCCESS=\"DOCUMENTS_RENAME_SUCCESS\",k=t.DOCUMENTS_RENAME_FAILURE=\"DOCUMENTS_RENAME_FAILURE\",R=t.DOCUMENTS_MOVE=\"DOCUMENTS_MOVE\",N=t.DOCUMENTS_MOVE_SUCCESS=\"DOCUMENTS_MOVE_SUCCESS\",j=t.DOCUMENTS_MOVE_FAILURE=\"DOCUMENTS_MOVE_FAILURE\",w=t.DOCUMENTS_CHANGE_TYPE=\"DOCUMENTS_CHANGE_TYPE\",L=t.DOCUMENTS_CHANGE_TYPE_SUCCESS=\"DOCUMENTS_CHANGE_TYPE_SUCCESS\",P=t.DOCUMENTS_CHANGE_TYPE_FAILURE=\"DOCUMENTS_CHANGE_TYPE_FAILURE\",M=t.HTTP_CODE_CONFLICT=409,I=(t.documentsSelect=function(e){return{type:i,document:e}},t.documentsChangeFilter=function(e){return{type:T,filter:e}},t.documentsChangeViewMode=function(){return{type:b}},t.documentsClick=function(e){return{type:O,document:e}},t.documentsDownload=function(e){return console.log(\"Download\",e),function(){var t=a(regeneratorRuntime.mark(function t(n){var a,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.length||(0,r.isDirectory)(e[0])){t.next=2;break}return t.abrupt(\"return\",n(I(e[0])));case 2:return a=e.map(function(e){return e.path}),t.next=5,cozy.client.files.getArchiveLinkByPaths(a);case 5:return s=t.sent,t.next=8,cozy.client.fullpath(s);case 8:return u=t.sent,(0,r.forceFileDownload)(u,\"homebook.zip\"),t.abrupt(\"return\",n({type:_,selected:e}));case 11:case\"end\":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n){var a,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cozy.client.files.downloadById(e.id).catch(function(e){throw e});case 2:return a=t.sent,t.next=5,a.blob();case 5:return s=t.sent,u=e.name,(0,r.forceFileDownload)(window.URL.createObjectURL(s),u),t.abrupt(\"return\",n({type:_,file:e}));case 9:case\"end\":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}),F=(t.documentsNewFolder=function(e){return e?function(){var t=a(regeneratorRuntime.mark(function t(n,a){var u,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a().documents.files,!(o=u&&u.find(function(t){return(0,r.isDirectory)(t)&&t.name===e}))){t.next=4;break}return t.abrupt(\"return\",n({type:A,alert:{message:\"L'élément \"+e+\" existe déjà, merci de choisir un nouveau nom.\"}}));case 4:return n({type:g,name:e}),t.prev=5,i=a().documents.folder,t.next=9,cozy.client.files.createDirectory({name:e,dirID:i.id});case 9:c=t.sent,n((0,l.importerTree)()),n({type:C,folder:(0,r.extractFileAttributes)(c),parent:i}),t.next=18;break;case 14:throw t.prev=14,t.t0=t.catch(5),n(t.t0.response&&t.t0.response.status===M?{type:A,alert:{message:\"L'élément \"+e+\" existe déjà, merci de choisir un nouveau nom.\",level:s.ALERT_LEVEL_ERROR}}:{type:S,err:t.t0,alert:{message:\"Impossible de créer le nouveau dossier \"+e,level:s.ALERT_LEVEL_ERROR}}),t.t0;case 18:case\"end\":return t.stop()}},t,void 0,[[5,14]])}));return function(e,n){return t.apply(this,arguments)}}():{type:S,alert:{message:\"Veuillez donner un nom au nouveau dossier\"}}},function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.files.statByPath(t).catch(function(e){var a=t.substring(t.lastIndexOf(\"/\")+1);return console.log(\"Create initial folder\",a),cozy.client.files.createDirectory({name:a,dirID:n}).then(function(e){return e.new=!0,e})});case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}()),U=(t.documentsInitialize=function(){return function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,r,l,i,c,d,f,m,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),a=!1,e.prev=2,e.next=5,F(s.ROOT_PATH,s.COZY_ROOT_ID);case 5:r=e.sent,l=!0,i=!1,c=void 0,e.prev=9,d=s.FOLDER_LIST[Symbol.iterator]();case 11:if(l=(f=d.next()).done){e.next=20;break}return m=f.value,e.next=15,F(m,r._id);case 15:p=e.sent,p.new&&(a=!0);case 17:l=!0,e.next=11;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(9),i=!0,c=e.t0;case 26:e.prev=26,e.prev=27,!l&&d.return&&d.return();case 29:if(e.prev=29,!i){e.next=32;break}throw c;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return a&&t((0,u.loadFolder)(s.ROOT_PATH)),t((0,o.gaugeInitialize)()),e.abrupt(\"return\",t({type:v,useful:a}));case 39:return e.prev=39,e.t1=e.catch(2),e.abrupt(\"return\",t({type:y,err:e.t1,alert:{message:\"Impossible d'initialiser Homebook\",level:s.ALERT_LEVEL_ERROR}}));case 42:case\"end\":return e.stop()}},e,void 0,[[2,39],[9,22,26,34],[27,,29,33]])}));return function(t,n){return e.apply(this,arguments)}}()},s.DATA_LIST.map(function(e){return e.path})),q=function(e){return e.attributes.tags&&e.attributes.tags[0]};t.documentsRemove=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n){var a,r,u,o,l,i,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:c,files:e}),a=[],t.prev=2,r=!0,u=!1,o=void 0,t.prev=6,l=e[Symbol.iterator]();case 8:if(r=(i=l.next()).done){t.next=20;break}if(m=i.value,!m.path||-1===U.indexOf(m.path)){t.next=12;break}return t.abrupt(\"continue\",17);case 12:return t.t0=a,t.next=15,cozy.client.files.trashById(m.id);case 15:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 17:r=!0,t.next=8;break;case 20:t.next=26;break;case 22:t.prev=22,t.t2=t.catch(6),u=!0,o=t.t2;case 26:t.prev=26,t.prev=27,!r&&l.return&&l.return();case 29:if(t.prev=29,!u){t.next=32;break}throw o;case 32:return t.finish(29);case 33:return t.finish(26);case 34:return t.abrupt(\"return\",n({type:d,ids:a.map(function(e){return e._id}),types:a.map(function(e){return q(e)}).filter(function(e){return void 0!==e})}));case 37:return t.prev=37,t.t3=t.catch(2),t.abrupt(\"return\",n({type:f,err:t.t3,alert:{message:\"Impossible de deplacer ces éléments dans la corbeille\",level:s.ALERT_LEVEL_ERROR}}));case 40:case\"end\":return t.stop()}},t,void 0,[[2,37],[6,22,26,34],[27,,29,33]])}));return function(e){return t.apply(this,arguments)}}()},t.documentsRestore=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n){var a,r,s,u,o,l,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m,files:e}),a=[],t.prev=2,r=!0,s=!1,u=void 0,t.prev=6,o=e[Symbol.iterator]();case 8:if(r=(l=o.next()).done){t.next=18;break}return i=l.value,t.t0=a,t.next=13,cozy.client.files.restoreById(i.id);case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:r=!0,t.next=8;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(6),s=!0,u=t.t2;case 24:t.prev=24,t.prev=25,!r&&o.return&&o.return();case 27:if(t.prev=27,!s){t.next=30;break}throw u;case 30:return t.finish(27);case 31:return t.finish(24);case 32:t.next=37;break;case 34:return t.prev=34,t.t3=t.catch(2),t.abrupt(\"return\",n({type:E}));case 37:return t.abrupt(\"return\",n({type:p,ids:e.map(function(e){return e.id}),types:a.map(function(e){return q(e)}).filter(function(e){return void 0!==e})}));case 38:case\"end\":return t.stop()}},t,void 0,[[2,34],[6,20,24,32],[25,,27,31]])}));return function(e){return t.apply(this,arguments)}}()},t.documentsRename=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a){var s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:x,id:e,name:t}),n.prev=1,n.next=4,cozy.client.files.updateAttributesById(e,{name:t});case 4:return s=n.sent,n.abrupt(\"return\",a({type:D,file:(0,r.extractFileAttributes)(s)}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt(\"return\",a({type:k,err:n.t0}));case 11:case\"end\":return n.stop()}},n,void 0,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()},t.documentsMove=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a){var r,s,u,o,i,c,d,f,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:R,files:e,path:t}),r=[],n.prev=2,n.next=5,cozy.client.files.statByPath(t);case 5:s=n.sent,u=!0,o=!1,i=void 0,n.prev=9,c=e[Symbol.iterator]();case 11:if(u=(d=c.next()).done){n.next=23;break}if(f=d.value,!f.path||-1===U.indexOf(f.path)){n.next=15;break}return n.abrupt(\"continue\",20);case 15:return n.t0=r,n.next=18,cozy.client.files.updateAttributesById(f.id,{dir_id:s._id});case 18:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 20:u=!0,n.next=11;break;case 23:n.next=29;break;case 25:n.prev=25,n.t2=n.catch(9),o=!0,i=n.t2;case 29:n.prev=29,n.prev=30,!u&&c.return&&c.return();case 32:if(n.prev=32,!o){n.next=35;break}throw i;case 35:return n.finish(32);case 36:return n.finish(29);case 37:return a((0,l.importerTree)()),n.abrupt(\"return\",a({type:N,ids:r.map(function(e){return e._id})}));case 41:return n.prev=41,n.t3=n.catch(2),m={type:j,err:n.t3},409===n.t3.status&&(m.alert={message:\"Déplacement intérrompu car un élément du même nom existe déjà dans le dossier cible.\"}),n.abrupt(\"return\",a(m));case 46:case\"end\":return n.stop()}},n,void 0,[[2,41],[9,25,29,37],[30,,32,36]])}));return function(e){return n.apply(this,arguments)}}()},t.documentsChangeType=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a){var s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:w,file:e,slug:t}),n.prev=1,n.next=4,cozy.client.files.updateAttributesById(e.id,{tags:[t]});case 4:return s=n.sent,n.abrupt(\"return\",a({type:L,file:(0,r.extractFileAttributes)(s),newTag:t||void 0,oldTag:e.tags&&e.tags[0]}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt(\"return\",a({type:P,err:n.t0}));case 11:case\"end\":return n.stop()}},n,void 0,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()}},\"./src/actions/gauge.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.gaugeInitialize=t.GAUGE_INITIALIZE_FAILURE=t.GAUGE_INITIALIZE_SUCCESS=t.GAUGE_INITIALIZE=void 0;var s=n(\"./node_modules/lodash/map.js\"),u=a(s),o=n(\"./node_modules/lodash/countBy.js\"),l=a(o),i=n(\"./src/constants/index.js\"),c=n(\"./src/tools/index.js\"),d=n(\"./src/scripts/fileTypes.js\"),f=((0,d.getFileTypes)().map(function(e){return e.key}),t.GAUGE_INITIALIZE=\"GAUGE_INITIALIZE\"),m=t.GAUGE_INITIALIZE_SUCCESS=\"GAUGE_INITIALIZE_SUCCESS\",p=t.GAUGE_INITIALIZE_FAILURE=\"GAUGE_INITIALIZE_FAILURE\",E=(t.gaugeInitialize=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t,n){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.prev=1,e.next=4,h();case 4:return a=e.sent,r=[],e.next=8,v(r);case 8:return e.abrupt(\"return\",t({type:m,types:a,data:r}));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt(\"return\",t({type:p,err:e.t0}));case 14:case\"end\":return e.stop()}},e,void 0,[[1,11]])}));return function(t,n){return e.apply(this,arguments)}}()},function(){var e=r(regeneratorRuntime.mark(function e(t,n){var a,r,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,r=[],s=0;case 3:if(!a){e.next=12;break}return e.next=6,cozy.client.data.query(t,{selector:n,wholeResponse:!0,skip:s});case 6:u=e.sent,a=u.next,s+=u.limit,r=r.concat(u.docs),e.next=3;break;case 12:return e.abrupt(\"return\",r);case 13:case\"end\":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}()),h=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.data.defineIndex(\"io.cozy.files\",[\"_id\",\"type\"]);case 2:return n=e.sent,e.next=5,E(n,{_id:{$gt:null},type:\"file\"});case 5:return a=e.sent,r=a.map(function(e){return e.tags&&e.tags.length>0&&e.tags[0]}).filter(function(e){return!!e}),s=(0,l.default)(r),o=(0,u.default)(s,function(e,t){return{type:t,count:e}}),e.abrupt(\"return\",o);case 10:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,r,s,u,o,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[i.DOCTYPE_DIAGNOSIS,i.DOCTYPE_EQUIPMENTS,i.DOCTYPE_HOMEDATA,i.DOCTYPE_MAINTENANCES,i.DOCTYPE_WORKS],a=!0,r=!1,s=void 0,e.prev=4,u=n[Symbol.iterator]();case 6:if(a=(o=u.next()).done){e.next=16;break}return l=o.value,e.next=10,(0,c.getDataElements)(l);case 10:d=e.sent,f=d.filter(function(e){return!e.trash}),f.length>0&&t.push({doctype:l,count:f.length});case 13:a=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),r=!0,s=e.t0;case 22:e.prev=22,e.prev=23,!a&&u.return&&u.return();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case\"end\":return e.stop()}},e,void 0,[[4,18,22,30],[23,,25,29]])}));return function(t){return e.apply(this,arguments)}}()},\"./src/actions/importer.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.importerFilesUpload=t.importerTree=t.importerViewChange=t.importerDirectoryChange=t.importerClick=t.IMPORTER_TREE_FAILURE=t.IMPORTER_TREE_SUCCESS=t.IMPORTER_TREE=t.IMPORTER_VIEW_CHANGE=t.IMPORTER_DIRECTORY_CHANGE=t.IMPORTER_FILE_UPLOAD_FAILURE=t.IMPORTER_FILE_UPLOAD_SUCESS=t.IMPORTER_FILE_UPLOAD=t.IMPORTER_CLICK=void 0;var r=n(\"./node_modules/lodash/isEmpty.js\"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),u=n(\"./src/tools/index.js\"),o=n(\"./src/constants/index.js\"),l=t.IMPORTER_CLICK=\"IMPORTER_CLICK\",i=t.IMPORTER_FILE_UPLOAD=\"IMPORTER_FILE_UPLOAD\",c=t.IMPORTER_FILE_UPLOAD_SUCESS=\"IMPORTER_FILE_UPLOAD_SUCESS\",d=t.IMPORTER_FILE_UPLOAD_FAILURE=\"IMPORTER_FILE_UPLOAD_FAILURE\",f=t.IMPORTER_DIRECTORY_CHANGE=\"IMPORTER_DIRECTORY_CHANGE\",m=t.IMPORTER_VIEW_CHANGE=\"IMPORTER_VIEW_CHANGE\",p=t.IMPORTER_TREE=\"IMPORTER_TREE\",E=t.IMPORTER_TREE_SUCCESS=\"IMPORTER_TREE_SUCCESS\",h=t.IMPORTER_TREE_FAILURE=\"IMPORTER_TREE_FAILURE\",v=(t.importerClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";return\"\"===e&&(e=o.ROOT_PATH),function(n,a){return(0,s.default)(a().importer.documentsTree)&&n(y()),n({type:l,slug:t,path:e})}},t.importerDirectoryChange=function(e){return{type:f,path:e}},t.importerViewChange=function(e){return{type:m,view:e}},function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,r,s,u,o,l,i,c,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.files.statByPath(t.path);case 2:n=e.sent,a=[],r=n.relations(\"contents\"),s=!0,u=!1,o=void 0,e.prev=8,l=r[Symbol.iterator]();case 10:if(s=(i=l.next()).done){e.next=27;break}if(c=i.value,\"directory\"!==c.attributes.type){e.next=22;break}return d={path:c.attributes.path,name:c.attributes.name,childs:[],dir:!0},e.t0=a,e.next=17,v(d);case 17:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),t.childs.push(d),e.next=24;break;case 22:f={path:n.attributes.path+\"/\"+c.attributes.name,name:c.attributes.name},t.childs.push(f);case 24:s=!0,e.next=10;break;case 27:e.next=33;break;case 29:e.prev=29,e.t2=e.catch(8),u=!0,o=e.t2;case 33:e.prev=33,e.prev=34,!s&&l.return&&l.return();case 36:if(e.prev=36,!u){e.next=39;break}throw o;case 39:return e.finish(36);case 40:return e.finish(33);case 41:return e.abrupt(\"return\",a);case 42:case\"end\":return e.stop()}},e,void 0,[[8,29,33,41],[34,,36,40]])}));return function(t){return e.apply(this,arguments)}}()),y=t.importerTree=function(){return function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),e.prev=1,a={path:o.ROOT_PATH,childs:[],name:o.ROOT_NAME.substring(1),dir:!0},e.next=5,v(a);case 5:return e.abrupt(\"return\",t({type:E,tree:a}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt(\"return\",t({type:h,err:e.t0}));case 11:case\"end\":return e.stop()}},e,void 0,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()};t.importerFilesUpload=function(e,t){return console.log(\"Data\",e),function(){var n=a(regeneratorRuntime.mark(function n(a,r){var s,l,f,m,p,E,h,v,y,_,b,g,C,S,A,O,T,x;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:i,dirId:t}),s=[],l=[],n.prev=3,f=!0,m=!1,p=void 0,n.prev=7,E=e[Symbol.iterator]();case 9:if(f=(h=E.next()).done){n.next=89;break}if(v=h.value,y=void 0,!v.isDirectory){n.next=65;break}return n.prev=13,n.next=16,cozy.client.files.createDirectory({name:v.name,dirID:t});case 16:_=n.sent,b=!0,g=!1,C=void 0,n.prev=20,S=v.content[Symbol.iterator]();case 22:if(b=(A=S.next()).done){n.next=38;break}if(O=A.value,!(O.size>o.MAX_FILE_SIZE)){n.next=26;break}return n.abrupt(\"continue\",35);case 26:return n.prev=26,n.next=29,cozy.client.files.create(O,{name:O.name,dirID:_._id});case 29:O=n.sent,n.next=35;break;case 32:throw n.prev=32,n.t0=n.catch(26),n.t0;case 35:b=!0,n.next=22;break;case 38:n.next=44;break;case 40:n.prev=40,n.t1=n.catch(20),g=!0,C=n.t1;case 44:n.prev=44,n.prev=45,!b&&S.return&&S.return();case 47:if(n.prev=47,!g){n.next=50;break}throw C;case 50:return n.finish(47);case 51:return n.finish(44);case 52:s.push(_),n.next=63;break;case 55:if(n.prev=55,n.t2=n.catch(13),409!==n.t2.status){n.next=62;break}console.log(\"Confict with file\",v.name),l.push(v),n.next=63;break;case 62:throw n.t2;case 63:n.next=86;break;case 65:if(!(v.size>o.MAX_FILE_SIZE)){n.next=67;break}return n.abrupt(\"continue\",86);case 67:return n.prev=67,n.next=70,cozy.client.files.create(v,{name:v.name,dirID:t});case 70:if(y=n.sent,!v.typeFile){n.next=75;break}return n.next=74,cozy.client.files.updateAttributesById(y._id,{tags:[v.typeFile]});case 74:y=n.sent;case 75:s.push(y),n.next=86;break;case 78:if(n.prev=78,n.t3=n.catch(67),409!==n.t3.status){n.next=85;break}console.log(\"Confict with file\",v.name),l.push(v),n.next=86;break;case 85:throw n.t3;case 86:f=!0,n.next=9;break;case 89:n.next=95;break;case 91:n.prev=91,n.t4=n.catch(7),m=!0,p=n.t4;case 95:n.prev=95,n.prev=96,!f&&E.return&&E.return();case 98:if(n.prev=98,!m){n.next=101;break}throw p;case 101:return n.finish(98);case 102:return n.finish(95);case 103:return T={type:c,files:s.map(function(e){return(0,u.extractFileAttributes)(e)}),conflits:l},x=r().documents.folder,x&&(T.currentDir=x.id===t),l.length>0&&(T.alert={message:\"Plusieurs fichiers n'ont pas était ajouté car ils existaient deja dans ce dossier : \\n\"+l.map(function(e){return e.name}).join(\"\\n\")}),n.abrupt(\"return\",a(T));case 110:return n.prev=110,n.t5=n.catch(3),n.abrupt(\"return\",a({type:d,err:n.t5,alert:{message:\"Impossible d'ajouter le(s) élément(s)\",level:o.ALERT_LEVEL_ERROR}}));case 113:case\"end\":return n.stop()}},n,void 0,[[3,110],[7,91,95,103],[13,55],[20,40,44,52],[26,32],[45,,47,51],[67,78],[96,,98,102]])}));return function(e,t){return n.apply(this,arguments)}}()}},\"./src/actions/index.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./src/actions/contacts.js\");Object.keys(a).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n(\"./src/actions/documents.js\");Object.keys(r).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var s=n(\"./src/actions/importer.js\");Object.keys(s).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=n(\"./src/actions/load.js\");Object.keys(u).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var o=n(\"./src/actions/recalls.js\");Object.keys(o).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var l=n(\"./src/actions/trash.js\");Object.keys(l).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var i=n(\"./src/actions/data.js\");Object.keys(i).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var c=n(\"./src/actions/gauge.js\");Object.keys(c).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var d=n(\"./src/actions/alerts.js\");Object.keys(d).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})})},\"./src/actions/load.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadTrash=t.loadData=t.loadNews=t.loadContacts=t.loadRecalls=t.loadFolder=t.LOAD_NEWS_FAILURE=t.LOAD_NEWS_SUCCESS=t.LOAD_NEWS=t.LOAD_FILE_SUCCESS=t.LOAD_TRASH_FAILURE=t.LOAD_TRASH_SUCCESS=t.LOAD_TRASH=t.LOAD_DATA_FAILURE=t.LOAD_DATA_SUCCESS=t.LOAD_DATA=t.LOAD_CONTACTS_FAILURE=t.LOAD_CONTACTS_SUCCESS=t.LOAD_CONTACTS=t.LOAD_RECALLS_FAILURE=t.LOAD_RECALLS_SUCCESS=t.LOAD_RECALLS=t.LOAD_DOCS_FAILURE=t.LOAD_DOCS_SUCCESS=t.LOAD_DOCS=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=n(\"./node_modules/moment/moment.js\"),o=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(\"./src/tools/index.js\"),i=n(\"./src/constants/index.js\"),c=t.LOAD_DOCS=\"LOAD_DOCS\",d=t.LOAD_DOCS_SUCCESS=\"LOAD_DOCS_SUCCESS\",f=t.LOAD_DOCS_FAILURE=\"LOAD_DOCS_FAILURE\",m=t.LOAD_RECALLS=\"LOAD_RECALLS\",p=t.LOAD_RECALLS_SUCCESS=\"LOAD_RECALLS_SUCCESS\",E=t.LOAD_RECALLS_FAILURE=\"LOAD_RECALLS_FAILURE\",h=t.LOAD_CONTACTS=\"LOAD_CONTACTS\",v=t.LOAD_CONTACTS_SUCCESS=\"LOAD_CONTACTS_SUCCESS\",y=t.LOAD_CONTACTS_FAILURE=\"LOAD_CONTACTS_FAILURE\",_=t.LOAD_DATA=\"LOAD_DATA\",b=t.LOAD_DATA_SUCCESS=\"LOAD_DATA_SUCCESS\",g=t.LOAD_DATA_FAILURE=\"LOAD_DATA_FAILURE\",C=t.LOAD_TRASH=\"LOAD_TRASH\",S=t.LOAD_TRASH_SUCCESS=\"LOAD_TRASH_SUCCESS\",A=t.LOAD_TRASH_FAILURE=\"LOAD_TRASH_FAILURE\",O=t.LOAD_FILE_SUCCESS=\"LOAD_FILE_SUCCESS\",T=t.LOAD_NEWS=\"LOAD_NEWS\",x=t.LOAD_NEWS_SUCCESS=\"LOAD_NEWS_SUCCESS\",D=t.LOAD_NEWS_FAILURE=\"LOAD_NEWS_FAILURE\",k=(t.loadFolder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ROOT_PATH;return function(){var t=r(regeneratorRuntime.mark(function t(n,a){var r,s,u,o,i,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c,path:e}),t.prev=1,t.next=4,cozy.client.files.statByPath(e);case 4:if(r=t.sent,s=r.attributes.dir_id,t.t0=!!s,!t.t0){t.next=11;break}return t.next=10,cozy.client.files.statById(s).catch(function(e){if(403!==e.status)throw e;console.warn(\"User don't have access to parent folder\")});case 10:t.t0=t.sent;case 11:if(u=t.t0,\"directory\"!==r.attributes.type){t.next=24;break}if(o=r.relationships.contents,i=r.relations(\"contents\").filter(function(e){return void 0!==e})||[],!((m=o.meta.count||0)>i.length)){t.next=21;break}return console.log(\"More files\",r._id),t.next=20,k(r._id,i,m);case 20:i=t.sent;case 21:return t.abrupt(\"return\",n({type:d,folder:Object.assign((0,l.extractFileAttributes)(r),{parent:(0,l.extractFileAttributes)(u)}),fileCount:m,files:i.map(function(e){return(0,l.extractFileAttributes)(e)})}));case 24:return t.abrupt(\"return\",n({type:O,file:Object.assign((0,l.extractFileAttributes)(r),{parent:(0,l.extractFileAttributes)(u),path:u.attributes.path+\"/\"+r.attributes.name})}));case 25:t.next=30;break;case 27:return t.prev=27,t.t1=t.catch(1),t.abrupt(\"return\",n({type:f,error:t.t1}));case 30:case\"end\":return t.stop()}},t,void 0,[[1,27]])}));return function(e,n){return t.apply(this,arguments)}}()},function(){var e=r(regeneratorRuntime.mark(function e(t,n,a){var r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.files.statById(t,!0,{skip:n.length});case 2:if(r=e.sent,s=r.relations(\"contents\").filter(function(e){return void 0!==e})||[],n=n.concat(s),!(a>n.length)){e.next=9;break}return e.next=8,k(t,n,a);case 8:n=e.sent;case 9:return e.abrupt(\"return\",n);case 10:case\"end\":return e.stop()}},e,void 0)}));return function(t,n,a){return e.apply(this,arguments)}}()),R=(t.loadRecalls=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m}),e.prev=1,e.next=4,(0,l.getDataElements)(i.DOCTYPE_RECALLS);case 4:return a=e.sent,a.map(function(e){return s({},e,{deadline:(0,o.default)(e.deadline,\"DD/MM/YYYY\"),alert:(0,o.default)(e.alert,\"DD/MM/YYYY\")})}),e.abrupt(\"return\",t({type:p,recalls:a}));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt(\"return\",t({type:E,error:e.t0}));case 12:case\"end\":return e.stop()}},e,void 0,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},t.loadContacts=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t,n){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.prev=1,e.next=4,(0,l.getDataElements)(i.DOCTYPE_CONTACTS);case 4:return a=e.sent,r=a.filter(function(e){return!e.trash}),e.abrupt(\"return\",t({type:v,contacts:r}));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt(\"return\",t({type:y,error:e.t0}));case 12:case\"end\":return e.stop()}},e,void 0,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},t.loadNews=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:T}),e.prev=1,e.next=4,(0,l.getDataElements)(i.DOCTYPE_NEWS);case 4:return a=e.sent,e.abrupt(\"return\",t({type:x,news:a}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt(\"return\",t({type:D,error:e.t0}));case 11:case\"end\":return e.stop()}},e,void 0,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()},t.loadData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.DOCTYPE_DIAGNOSIS;return R(_,b,g,e)},function(e,t,n,a){return function(){var s=r(regeneratorRuntime.mark(function r(s,u){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:e}),r.prev=1,r.next=4,(0,l.getDataElements)(a);case 4:return o=r.sent,i=o.filter(function(e){return!e.trash}),r.abrupt(\"return\",s({type:t,data:i.map(function(e){return e.doctype=a,e}),doctype:a}));case 9:return r.prev=9,r.t0=r.catch(1),r.abrupt(\"return\",s({type:n,error:r.t0}));case 12:case\"end\":return r.stop()}},r,void 0,[[1,9]])}));return function(e,t){return s.apply(this,arguments)}}()});t.loadTrash=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r,s,u,o,c,d,f,m,p,E,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:C}),e.prev=1,e.next=4,cozy.client.files.listTrash();case 4:return r=e.sent,e.next=7,(0,l.getDataElements)(i.DOCTYPE_CONTACTS);case 7:s=e.sent,u=s.filter(function(e){return e.trash}),o=[],c=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getDataElements)(t.doctype);case 2:n=e.sent,r=n.filter(function(e){return e.trash}).map(function(e){return e.doctype=t.doctype,e}),o.push.apply(o,a(r));case 5:case\"end\":return e.stop()}},e,void 0)}),d=!0,f=!1,m=void 0,e.prev=14,p=i.DATA_LIST[Symbol.iterator]();case 16:if(d=(E=p.next()).done){e.next=22;break}return h=E.value,e.delegateYield(c(h),\"t0\",19);case 19:d=!0,e.next=16;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(14),f=!0,m=e.t1;case 28:e.prev=28,e.prev=29,!d&&p.return&&p.return();case 31:if(e.prev=31,!f){e.next=34;break}throw m;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt(\"return\",t({type:S,files:r.map(function(e){return(0,l.extractFileAttributes)(e)}),contacts:u,data:o}));case 39:return e.prev=39,e.t2=e.catch(1),e.abrupt(\"return\",t({type:A,error:e.t2}));case 42:case\"end\":return e.stop()}},e,void 0,[[1,39],[14,24,28,36],[29,,31,35]])}));return function(t,n){return e.apply(this,arguments)}}()}},\"./src/actions/recalls.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.recallsSave=t.recallsNew=t.recallsRemove=t.recallsCalendarClick=t.RECALLS_REMOVE_FAILURE=t.RECALLS_REMOVE_SUCCESS=t.RECALLS_REMOVE=t.RECALLS_SAVE_FAILURE=t.RECALLS_SAVE_SUCCESS=t.RECALLS_SAVE=t.RECALLS_NEW_FAILURE=t.RECALLS_NEW_SUCCESS=t.RECALLS_NEW=t.RECALLS_CALENDAR_CLICK=void 0;var r=n(\"./src/constants/index.js\"),s=n(\"./src/scripts/cozyRecalls.js\"),u=t.RECALLS_CALENDAR_CLICK=\"RECALLS_CALENDAR_CLICK\",o=t.RECALLS_NEW=\"RECALLS_NEW\",l=t.RECALLS_NEW_SUCCESS=\"RECALLS_NEW_SUCCESS\",i=t.RECALLS_NEW_FAILURE=\"RECALLS_NEW_FAILURE\",c=t.RECALLS_SAVE=\"RECALLS_SAVE\",d=t.RECALLS_SAVE_SUCCESS=\"RECALLS_SAVE_SUCCESS\",f=t.RECALLS_SAVE_FAILURE=\"RECALLS_SAVE_FAILURE\",m=t.RECALLS_REMOVE=\"RECALLS_REMOVE\",p=t.RECALLS_REMOVE_SUCCESS=\"RECALLS_REMOVE_SUCCESS\",E=t.RECALLS_REMOVE_FAILURE=\"RECALLS_REMOVE_FAILURE\";t.recallsCalendarClick=function(e){return{type:u,id:e}},t.recallsRemove=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var u,o,l,i,c,d,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m,recalls:e}),t.prev=1,u=[],o=!0,l=!1,i=void 0,t.prev=6,c=e[Symbol.iterator]();case 8:if(o=(d=c.next()).done){t.next=20;break}return f=d.value,t.next=12,(0,s.deleteTrigger)(f.triggerId);case 12:return t.t0=u,t.next=15,cozy.client.data.delete(r.DOCTYPE_RECALLS,f);case 15:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 17:o=!0,t.next=8;break;case 20:t.next=26;break;case 22:t.prev=22,t.t2=t.catch(6),l=!0,i=t.t2;case 26:t.prev=26,t.prev=27,!o&&c.return&&c.return();case 29:if(t.prev=29,!l){t.next=32;break}throw i;case 32:return t.finish(29);case 33:return t.finish(26);case 34:return t.abrupt(\"return\",n({type:p,ids:u.map(function(e){return e.id})}));case 37:return t.prev=37,t.t3=t.catch(1),t.abrupt(\"return\",n({type:E,err:t.t3}));case 40:case\"end\":return t.stop()}},t,void 0,[[1,37],[6,22,26,34],[27,,29,33]])}));return function(e,n){return t.apply(this,arguments)}}()},t.recallsNew=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,u){var c,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:o,name:e}),n.prev=1,n.next=4,(0,s.trigger)({date:t.alert||t.deadline,recallName:t.name,deadline:t.deadline});case 4:return c=n.sent,t.triggerId=c.data.id,n.next=8,cozy.client.data.create(r.DOCTYPE_RECALLS,t);case 8:return d=n.sent,n.abrupt(\"return\",a({type:l,recall:d}));case 12:return n.prev=12,n.t0=n.catch(1),n.abrupt(\"return\",a({type:i,err:n.t0}));case 15:case\"end\":return n.stop()}},n,void 0,[[1,12]])}));return function(e,t){return n.apply(this,arguments)}}()},t.recallsSave=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,u){var o,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:c,id:e}),n.prev=1,n.next=4,(0,s.deleteTrigger)(t.triggerId);case 4:return n.next=6,(0,s.trigger)({date:t.alert||t.deadline,recallName:t.name,deadline:t.deadline});case 6:return o=n.sent,t.triggerId=o.data.id,n.next=10,cozy.client.data.updateAttributes(r.DOCTYPE_RECALLS,e,t);case 10:return l=n.sent,n.abrupt(\"return\",a({type:d,recall:l}));case 14:return n.prev=14,n.t0=n.catch(1),n.abrupt(\"return\",a({type:f,err:n.t0}));case 17:case\"end\":return n.stop()}},n,void 0,[[1,14]])}));return function(e,t){return n.apply(this,arguments)}}()}},\"./src/actions/trash.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.trashEmpty=t.trashSelectAll=t.trashSelectData=t.trashSelectDocument=t.trashSelectContact=t.trashChangeViewMode=t.TRASH_SELECT_ALL=t.TRASH_SELECT_DATA=t.TRASH_SELECT_CONTACT=t.TRASH_SELECT_DOCUMENT=t.TRASH_CHANGE_VIEW_MODE=t.TRASH_EMPTY_FAILURE=t.TRASH_EMPTY_SUCCESS=t.TRASH_EMPTY=void 0;var r=n(\"./src/constants/index.js\"),s=t.TRASH_EMPTY=\"TRASH_EMPTY\",u=t.TRASH_EMPTY_SUCCESS=\"TRASH_EMPTY_SUCCESS\",o=t.TRASH_EMPTY_FAILURE=\"TRASH_EMPTY_FAILURE\",l=t.TRASH_CHANGE_VIEW_MODE=\"TRASH_CHANGE_VIEW_MODE\",i=t.TRASH_SELECT_DOCUMENT=\"TRASH_SELECT_DOCUMENT\",c=t.TRASH_SELECT_CONTACT=\"TRASH_SELECT_CONTACT\",d=t.TRASH_SELECT_DATA=\"TRASH_SELECT_DATA\",f=t.TRASH_SELECT_ALL=\"TRASH_SELECT_ALL\";t.trashChangeViewMode=function(){return{type:l}},t.trashSelectContact=function(e){return{type:c,contact:e}},t.trashSelectDocument=function(e){return{type:i,document:e}},t.trashSelectData=function(e){return{type:d,data:e}},t.trashSelectAll=function(e){return{type:f,count:e}},t.trashEmpty=function(){return function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,l,i,c,d,f,m,p,E,h,v,y,_,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s}),e.prev=1,e.next=4,cozy.client.files.clearTrash();case 4:a=n().trash.contacts,l=!0,i=!1,c=void 0,e.prev=8,d=a[Symbol.iterator]();case 10:if(l=(f=d.next()).done){e.next=17;break}return m=f.value,e.next=14,cozy.client.data.delete(r.DOCTYPE_CONTACTS,m);case 14:l=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),i=!0,c=e.t0;case 23:e.prev=23,e.prev=24,!l&&d.return&&d.return();case 26:if(e.prev=26,!i){e.next=29;break}throw c;case 29:return e.finish(26);case 30:return e.finish(23);case 31:p=n().trash.data,E=!0,h=!1,v=void 0,e.prev=35,y=p[Symbol.iterator]();case 37:if(E=(_=y.next()).done){e.next=44;break}return b=_.value,e.next=41,cozy.client.data.delete(b.doctype,b);case 41:E=!0,e.next=37;break;case 44:e.next=50;break;case 46:e.prev=46,e.t1=e.catch(35),h=!0,v=e.t1;case 50:e.prev=50,e.prev=51,!E&&y.return&&y.return();case 53:if(e.prev=53,!h){e.next=56;break}throw v;case 56:return e.finish(53);case 57:return e.finish(50);case 58:return e.abrupt(\"return\",t({type:u,alert:{message:\"La corbeille a bien été vidé\"}}));case 61:return e.prev=61,e.t2=e.catch(1),e.abrupt(\"return\",t({type:o,err:e.t2,alert:{message:\"Impossible de vider la corbeille\",level:r.ALERT_LEVEL_ERROR}}));case 64:case\"end\":return e.stop()}},e,void 0,[[1,61],[8,19,23,31],[24,,26,30],[35,46,50,58],[51,,53,57]])}));return function(t,n){return e.apply(this,arguments)}}()}},\"./src/components/elements/About.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.About=void 0;var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./src/components/elements/Page.jsx\"),o=a(u),l=t.About=function(e){return s.default.createElement(o.default,{title:\"À propos de HOMEBOOK\"},s.default.createElement(\"article\",null,s.default.createElement(\"h3\",null,\"Qui sommes-nous ?\"),s.default.createElement(\"br\",null),s.default.createElement(\"p\",null,\"Homebook est une application de carnet numérique de suivi et d’entretien du logement développée par EDF & Cozy Cloud dans le cadre d’une expérimentation lancée par le Ministère du Logement et du Développement Durable en 2016. \",s.default.createElement(\"a\",null,\"(1)\"),s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),s.default.createElement(\"b\",null,\"EDF\"),\": Electricité De France est le premier producteur et fournisseur d'électricité en France et dans le monde.\",s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),s.default.createElement(\"b\",null,\"Cozy Cloud\"),\": Startup reconnue dans le domaine de la confidentialité des données qui offre un service de cloud personnel garantissant la non diffusion des données privées.\")),s.default.createElement(\"article\",null,s.default.createElement(\"h3\",null,\"Pourquoi une expérimentation ?\"),s.default.createElement(\"br\",null),s.default.createElement(\"p\",null,\"La \",s.default.createElement(\"i\",null,\"Loi pour Transition Energétique et la Croissance Verte\"),\" du 17 août 2015 (Article 11), instaure un « carnet numérique de suivi et d’entretien du logement » (hors bailleurs sociaux)\",s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),\"Lecarnet numérique sera obligatoire dès 2017 dans le neuf et à partir de 2025 dans l’existant (à la mutation)\",s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),\"NB: Le décret d’application n’a pas été publié\",s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),\"Septembre 2016 : Lancement d’un appel à projets par l’Etat\",s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),\"Objectif:alimenter les réflexions pour la rédaction du décret d’application définissant le contenu du carnet numérique et les modalités de mise en oeuvre .\",s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),\"Juin 2016 : COZY CLOUD & EDF font parti des 12 lauréats de l’Appel A Projet du Plan Transition Numérique dans le Bâtiment (PTNB)\",s.default.createElement(\"br\",null),s.default.createElement(\"br\",null),\"L’expérimentation commence!\")),s.default.createElement(\"article\",null,s.default.createElement(\"h3\",null,\"Dois-je être client EDF pour utiliser Homebook ?\"),s.default.createElement(\"br\",null),s.default.createElement(\"p\",null,\"Non, tout le monde peut utiliser Homebook !\")),s.default.createElement(\"article\",{style:{fontSize:\"13px\",color:\"grey\",margin:\"35px 10px 0 10px\"}},s.default.createElement(\"p\",{id:\"note1\"},\"Note 1 : « Appel à Projets : mise en œuvre du carnet numérique de suivi et d’entretien du logement ; appel à projet d’expérimentation » ; date de publication : 10 juin 2016, date de cloture : 30 septembre 2016 ; lancé par le Ministère du logement et de l’habitat durable & Plan Transition Numérique pour le Bâtiment\")))};t.default=l},\"./src/components/elements/Assistant.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=n(\"./node_modules/lodash/find.js\"),i=a(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(\"./node_modules/react/react.js\"),f=a(d),m=n(\"./node_modules/classnames/index.js\"),p=a(m),E=n(\"./node_modules/react-portal/build/portal.js\"),h=a(E),v=n(\"./src/components/modals/Modal.jsx\"),y=a(v),_=n(\"./src/containers/Importer.js\"),b=a(_),g=n(\"./src/components/elements/Page.jsx\"),C=a(g),S=n(\"./src/scripts/fileTypes.js\"),A=n(\"./src/styles/Assistant.sass\"),O=a(A),T=n(\"./src/constants/index.js\"),x=n(\"./src/tools/index.js\"),D=[{doctype:T.DOCTYPE_DIAGNOSIS,display:\"Ajouter un diagnostic\",path:\"/assistant/diagnosis\",unique:!1},{doctype:T.DOCTYPE_EQUIPMENTS,display:\"Ajouter un équipement\",path:\"/assistant/equipments\",unique:!1},{doctype:T.DOCTYPE_HOMEDATA,display:\"Ajouter une donnée de propriété\",slug:\"homedata\",path:\"/assistant/homedata\",unique:!0},{doctype:T.DOCTYPE_MAINTENANCES,display:\"Ajouter un entretien\",path:\"/assistant/maintenances\",unique:!1},{doctype:T.DOCTYPE_WORKS,display:\"Ajouter des travaux\",path:\"/assistant/works\",unique:!1}],k=function(e){function t(e){s(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fileTypes=(0,S.getFileTypes)(),n.typeGroup=(0,S.getTypesByGroup)(),n.state={open:!1,search:\"\"},n}return o(t,e),c(t,[{key:\"componentWillMount\",value:function(){this.computeWidth(this.props)}},{key:\"componentWillReceiveProps\",value:function(e){this.computeWidth(e)}},{key:\"computeWidth\",value:function(e){this.width=0;var t=this.fileTypes.filter(function(e){return!e.perso}),n=e.usedType.filter(function(e){return void 0===(0,i.default)(t,function(t){return t.key===e.type})}),a=n.length+e.dataCreated.length,r=t.length+D.length;this.width=a/r*100}},{key:\"clickDocument\",value:function(e,t){this.props.onFileClick(t,e),this.setState({open:!0})}},{key:\"render\",value:function(){var e=this;return f.default.createElement(C.default,{title:\"Assistant de données\"},f.default.createElement(\"div\",{className:O.default.main},f.default.createElement(\"div\",{className:O.default.gaugeBox},f.default.createElement(\"div\",{className:O.default.gauge,title:\"Jauge : \"+this.width.toFixed(1)+\"%\",style:{marginTop:this.state.marginTop+\"px\"}},f.default.createElement(\"div\",{className:O.default.progress,style:{height:this.width+\"%\"}})),f.default.createElement(\"span\",null,this.width.toFixed(0)+\"%\")),f.default.createElement(\"div\",{className:O.default.entries},f.default.createElement(\"h3\",null,\"Ajouter une donnée\"),f.default.createElement(\"ul\",{className:O.default.list},D.map(function(t,n){var a=(0,i.default)(e.props.dataCreated,function(e){return e.doctype===t.doctype});return f.default.createElement(\"li\",{key:n},f.default.createElement(R,{title:t.display,check:a,unique:t.unique,onAdd:function(n){t.unique&&a?(0,x.getDataElements)(t.doctype).then(function(n){n.length>0&&e.props.history.push(\"/data/\"+t.slug+\"/\"+n[0]._id)}):e.props.history.push(t.path)}}))})),f.default.createElement(\"div\",{className:O.default.sectionSearch},f.default.createElement(\"h3\",null,\"Ajouter un document\"),f.default.createElement(\"input\",{type:\"text\",placeholder:\"Recherche...\",onChange:function(t){return e.setState({search:t.target.value})},value:this.state.search})),f.default.createElement(\"ul\",{className:O.default.list},this.typeGroup.map(function(t,n){var a=t.types;return\"\"!==e.state.search&&(a=t.types.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e.state.search.toLowerCase())})),a.length>0?f.default.createElement(\"li\",{key:n},f.default.createElement(\"h4\",null,t.name),f.default.createElement(\"ul\",{className:O.default.list},a.map(function(t,n){return f.default.createElement(\"li\",{key:n},f.default.createElement(R,{title:t.name,check:(0,i.default)(e.props.usedType,function(e){return e.type===t.key}),unique:!1,onAdd:function(n){return e.clickDocument(t.key,t.location)}}))}))):null})))),f.default.createElement(h.default,{isOpened:this.state.open,closeOnEsc:!0,onClose:function(){return e.setState({open:!1})}},f.default.createElement(y.default,null,f.default.createElement(b.default,null))))}}]),t}(d.Component);t.default=k;var R=function(e){var t=e.unique?e.check?\"Modifier\":\"Ajouter\":e.check?\"Ajouter un nouveau\":\"Ajouter\";return f.default.createElement(\"div\",{className:(0,p.default)(O.default.row)},f.default.createElement(\"div\",{className:(0,p.default)(O.default.check,r({},O.default.checked,e.check))},e.check&&f.default.createElement(\"i\",{className:\"ion-ios-checkmark-outline\"})),f.default.createElement(\"div\",{className:O.default.name},e.title),f.default.createElement(\"div\",{onClick:function(t){return e.onAdd&&e.onAdd(t)},className:(0,p.default)(O.default.button)},t))}},\"./src/components/elements/ContactList.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.ContactList=void 0;var s=n(\"./node_modules/react/react.js\"),u=a(s),o=n(\"./node_modules/classnames/index.js\"),l=a(o),i=n(\"./node_modules/moment/moment.js\"),c=(a(i),n(\"./src/styles/ElementList.sass\")),d=a(c),f=n(\"./src/constants/index.js\"),m=t.ContactList=function(e){var t;return u.default.createElement(\"div\",{className:(0,l.default)(d.default.list,(t={},r(t,d.default.viewList,e.view===f.VIEW_LIST),r(t,d.default.viewGrid,e.view===f.VIEW_GRID),t))},e.children.map(function(t,n){var a=void 0;return t.lastName&&t.firstName?a=t.firstName+\" \"+t.lastName:t.lastName?a=t.lastName:t.firstName&&(a=t.firstName),u.default.createElement(\"div\",{key:n,onClick:function(a){return e.onClickItem(t,a,n)},className:(0,l.default)(d.default.document,r({},d.default.selected,t.selected))},e.onSelectItem&&t.selected&&u.default.createElement(\"i\",{className:(0,l.default)(d.default.checkbox,\"ion-android-checkbox-outline\"),onClick:function(a){a.stopPropagation(),e.onSelectItem(t,a,n,!1)}}),e.onSelectItem&&!t.selected&&u.default.createElement(\"i\",{className:(0,l.default)(d.default.checkbox,\"ion-android-checkbox-outline-blank\"),onClick:function(a){a.stopPropagation(),e.onSelectItem(t,a,n,!0)}}),u.default.createElement(\"div\",{className:d.default.content},u.default.createElement(\"img\",{src:t.selected?\"/images/contact.selected.png\":\"/images/contact.png\",onError:function(e){return console.log(\"Error icon\")}})),u.default.createElement(\"div\",{className:d.default.name,title:a},u.default.createElement(\"span\",null,a),t.company&&u.default.createElement(\"span\",null,u.default.createElement(\"br\",null),t.company)),u.default.createElement(\"div\",{className:d.default.contact,title:t.email},t.telephones&&t.telephones[0]&&u.default.createElement(\"span\",null,\"Tel : \",t.telephones[0].phone),t.type&&u.default.createElement(\"span\",null,\"Spec : \",t.type),t.email&&u.default.createElement(\"span\",null,\"@ : \",t.email)))}))};t.default=m},\"./src/components/elements/Contacts.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(\"./node_modules/lodash/groupBy.js\"),l=a(o),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(\"./node_modules/react/react.js\"),d=a(c),f=n(\"./node_modules/classnames/index.js\"),m=a(f),p=n(\"./node_modules/react-portal/build/portal.js\"),E=a(p),h=n(\"./src/styles/buttons.scss\"),v=a(h),y=n(\"./src/styles/Contacts.sass\"),_=a(y),b=n(\"./src/components/elements/ToolBoxOptions.jsx\"),g=a(b),C=n(\"./src/components/elements/Page.jsx\"),S=a(C),A=n(\"./src/components/elements/Loader.jsx\"),O=a(A),T=n(\"./src/components/elements/ContactList.jsx\"),x=a(T),D=n(\"./src/components/modals/Modal.jsx\"),k=a(D),R=n(\"./src/components/modals/ContactsModal.jsx\"),N=a(R),j=n(\"./src/constants/index.js\"),w=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={current:null,modalOpen:!1,edition:!1},a.idDetected=!1,a}return u(t,e),i(t,[{key:\"componentWillMount\",value:function(){this.props.onLoadContacts()}},{key:\"componentWillReceiveProps\",value:function(e){if(e.elements.length!==e.count)return e.onLoadContacts();if(this.props.match.params.id&&!this.idDetected&&e.elements.length>0){this.idDetected=!0;var t=!0,n=!1,a=void 0;try{for(var r,s=e.elements[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var u=r.value;if(u._id===this.props.match.params.id){this.setState({current:u,modalOpen:!0});break}}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}}}},{key:\"add\",value:function(){this.setState({current:null,modalOpen:!0,edition:!0})}},{key:\"open\",value:function(e){this.setState({current:e,modalOpen:!0})}},{key:\"select\",value:function(e){this.props.onSelectContact(e)}},{key:\"remove\",value:function(){this.state.current&&(this.props.onRemoveContacts([this.state.current]),this.setState({modalOpen:!1,current:null}))}},{key:\"addOrSaveContact\",value:function(e){this.state.current?this.props.onSaveContact(this.state.current._id,e):this.props.onNewContact(e.firstName,e),this.setState({modalOpen:!1,current:null})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.elements,a=t.count,r=t.selectedCount,s=t.status,u=s===j.STATUS_LOAD,o=d.default.createElement(\"button\",{onClick:function(){return e.add()},className:(0,m.default)(v.default.button,v.default.default)},d.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),\"AJOUTER\"),i=d.default.createElement(g.default,null,d.default.createElement(\"ul\",null,d.default.createElement(\"li\",{onClick:function(){e.props.onSelectAll()}},d.default.createElement(\"i\",{className:\"ion-ios-checkmark-outline\"},\"TOUT SELECTIONNER\")))),c=d.default.createElement(\"button\",{onClick:function(){return e.props.onRemoveContacts(n.filter(function(e){return e.selected}))},className:(0,m.default)(v.default.button,v.default.assertive)},d.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),\"SUPPRIMER\"),f=[o,i];r>0&&f.unshift(c);var p=void 0;if(!u&&n.length>0){var h=n.sort(function(e,t){return e.lastName<t.lastName?-1:e.lastName>t.lastName?1:0}),y=(0,l.default)(h,function(e){var t=e.lastName||e.firstName||e.company||\"_\";t=t.trim().toUpperCase();var n=t[0];return/[0-9]/g.test(n)?\"#\":n}),b=Object.keys(y),C=b.sort(function(e,t){return e<t?-1:e>t?1:0});p=[];var A=!0,T=!1,D=void 0;try{for(var R,w=C[Symbol.iterator]();!(A=(R=w.next()).done);A=!0){var L=R.value,P=y[L];p.push(d.default.createElement(\"div\",{key:L},d.default.createElement(\"h3\",{className:_.default.letter},L),d.default.createElement(x.default,{view:j.VIEW_LIST,onClickItem:function(t){return e.open(t)},onSelectItem:function(t){return e.select(t)}},P)))}}catch(e){T=!0,D=e}finally{try{!A&&w.return&&w.return()}finally{if(T)throw D}}}return d.default.createElement(S.default,{title:\"Contacts\",subtitle:null!==a&&a+(a>1?\" contacts\":\" contact\"),actions:f},d.default.createElement(O.default,{display:u}),p,!u&&0===n.length&&\"Aucun contacts\",d.default.createElement(E.default,{isOpened:this.state.modalOpen,closeOnEsc:!0,onClose:function(){return e.setState({modalOpen:!1,current:null,edition:!1})}},d.default.createElement(k.default,null,d.default.createElement(N.default,{item:this.state.current,title:this.state.current?\"Modifier contact\":\"Nouveau contact\",onSave:function(t){return e.addOrSaveContact(t)},onRemove:function(){return e.remove()},edit:this.state.edition}))))}}]),t}(c.Component);t.default=w},\"./src/components/elements/Dashboard.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,\"__esModule\",{value:!0});var i,c=n(\"./node_modules/lodash/find.js\"),d=a(c),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=n(\"./node_modules/react/react.js\"),p=a(m),E=n(\"./node_modules/moment/moment.js\"),h=a(E),v=n(\"./node_modules/react-router-dom/es/index.js\"),y=n(\"./node_modules/classnames/index.js\"),_=a(y),b=n(\"./src/components/elements/Page.jsx\"),g=a(b),C=n(\"./src/components/utils/EtiquetteEnergy.jsx\"),S=a(C),A=n(\"./src/styles/Dashboard.sass\"),O=a(A),T=n(\"./src/tools/index.js\"),x=n(\"./src/scripts/dataFields.js\"),D=n(\"./src/constants/index.js\"),k=(i={},l(i,D.DOCTYPE_DIAGNOSIS,(0,x.getInfosFromDoctype)(D.DOCTYPE_DIAGNOSIS)),l(i,D.DOCTYPE_HOMEDATA,(0,x.getInfosFromDoctype)(D.DOCTYPE_HOMEDATA)),l(i,D.DOCTYPE_EQUIPMENTS,(0,x.getInfosFromDoctype)(D.DOCTYPE_EQUIPMENTS)),l(i,D.DOCTYPE_MAINTENANCES,(0,x.getInfosFromDoctype)(D.DOCTYPE_MAINTENANCES)),l(i,D.DOCTYPE_WORKS,(0,x.getInfosFromDoctype)(D.DOCTYPE_WORKS)),i),R=function(e){function t(e){s(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={recalls:[],homedata:{},news:[],events:[],NRJconsommation:void 0,CO2emission:void 0,timelineFilterSlug:\"\",pictureLink:void 0},n.renderTimelineFilter=n.renderTimelineFilter.bind(n),n.filterTimeline=n.filterTimeline.bind(n),n.unmounted=!1,n}return o(t,e),f(t,[{key:\"componentWillMount\",value:function(){this.load()}},{key:\"componentWillUnmount\",value:function(){this.unmounted=!0}},{key:\"componentWillReceiveProps\",value:function(e){}},{key:\"load\",value:function(){var e=this;(0,T.getDataElements)(D.DOCTYPE_NEWS).then(function(t){e.unmounted||e.setState({news:t})}),(0,T.getDataElements)(D.DOCTYPE_HOMEDATA).then(function(t){var n=(0,d.default)(t,function(e){return!e.trash});if(n&&!e.unmounted){var a={homedata:n};n.constructionDate&&\"Invalid date\"!==n.constructionDate&&(a.events=[].concat(r(e.state.events),[{name:\"Construction du logement\",date:n.constructionDate,slug:k[D.DOCTYPE_HOMEDATA].slug,id:n._id,doctypeName:k[D.DOCTYPE_HOMEDATA].name}])),n.buyDate&&\"Invalid date\"!==n.buyDate&&(a.events=[].concat(r(e.state.events),[{name:\"Achat du logement\",date:n.buyDate,slug:k[D.DOCTYPE_HOMEDATA].slug,id:n._id,doctypeName:k[D.DOCTYPE_HOMEDATA].name}])),e.setState(a)}});var t=(0,h.default)();(0,T.getDataElements)(D.DOCTYPE_RECALLS).then(function(e){return e.filter(function(e){return(0,h.default)(e.deadline,\"DD/MM/YYYY\").isAfter(t)})}).then(function(t){e.unmounted||e.setState({recalls:t})}),(0,T.getDataElements)(D.DOCTYPE_DIAGNOSIS).then(function(t){var n=void 0,a=void 0,s=[],u=!0,o=!1,l=void 0;try{for(var i,c=t[Symbol.iterator]();!(u=(i=c.next()).done);u=!0){var d=i.value;if(!d.trash){if(\"DPE\"===d.type){var f=(0,h.default)(d.date,\"DD/MM/YYYY\").unix();(!a||a<f)&&(a=f,n=d)}var m=d.date;m&&s.push({date:m,name:d.name||d.type,slug:k[D.DOCTYPE_DIAGNOSIS].slug,id:d._id,doctypeName:k[D.DOCTYPE_DIAGNOSIS].name})}}}catch(e){o=!0,l=e}finally{try{!u&&c.return&&c.return()}finally{if(o)throw l}}var p={events:[].concat(r(e.state.events),s)};n&&(p.CO2emission=n.CO2emission,p.NRJconsommation=n.realEnergyConsommation,p.lastDPEId=n._id),e.unmounted||e.setState(p)});var n=[(0,T.getDataElements)(D.DOCTYPE_EQUIPMENTS,!0),(0,T.getDataElements)(D.DOCTYPE_WORKS,!0),(0,T.getDataElements)(D.DOCTYPE_MAINTENANCES,!0)];Promise.all(n).then(function(t){var n=[],a=!0,s=!1,u=void 0;try{for(var o,l=t[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var i=o.value,c=!0,d=!1,f=void 0;try{for(var m,p=i[Symbol.iterator]();!(c=(m=p.next()).done);c=!0){var E=m.value;if(!E.trash){var h=E.date||E.dateStart||E.buyDate;h&&n.push({date:h,name:E.name||E.type,slug:k[E.doctype].slug,id:E._id,doctypeName:k[E.doctype].name})}}}catch(e){d=!0,f=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw f}}}}catch(e){s=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}e.unmounted||e.setState({events:[].concat(r(e.state.events),n)})}),cozy.client.data.defineIndex(\"io.cozy.files\",[\"_id\",\"tags\"]).then(function(e){return console.log(\"Index\",e),cozy.client.data.query(e,{selector:{_id:{$gt:null},tags:{$in:[\"home_picture\"]}},limit:3})}).then(function(e){var t=0;e.length>1&&(t=parseInt(Math.random()*e.length));var n=e[t];return cozy.client.files.getDownloadLinkById(n._id)}).then(function(e){return cozy.client.fullpath(e)}).then(function(t){return e.setState({pictureLink:t})}).catch(function(e){return console.error(\"Load Picture\",e)})}},{key:\"renderTimelineFilter\",value:function(){var e=this,t=Object.keys(k);return p.default.createElement(\"select\",{value:this.state.timelineFilterSlug,onChange:function(t){return e.setState({timelineFilterSlug:t.target.value})}},p.default.createElement(\"option\",{key:-1,value:\"\"},\"Tout\"),t.map(function(e,t){return p.default.createElement(\"option\",{key:t,value:k[e].slug},k[e].name)}))}},{key:\"filterTimeline\",value:function(e){return\"\"===this.state.timelineFilterSlug||e.slug===this.state.timelineFilterSlug}},{key:\"render\",value:function(){var e=this.state.events&&this.state.events.filter(this.filterTimeline),t=[];return this.state.homedata.address&&(this.state.homedata.address.way&&t.push(p.default.createElement(\"span\",{key:0},this.state.homedata.address.way,\", \")),this.state.homedata.address.code&&t.push(p.default.createElement(\"span\",{key:1},this.state.homedata.address.code,\", \")),this.state.homedata.address.city&&t.push(p.default.createElement(\"span\",{key:2},this.state.homedata.address.city))),p.default.createElement(g.default,{title:\"Accueil\"},p.default.createElement(\"div\",{className:O.default.main},p.default.createElement(\"div\",{className:O.default.row},p.default.createElement(\"div\",{className:(0,_.default)(O.default.home,\"panel\",\"panel-default\")},p.default.createElement(\"div\",{className:\"panel-heading\"},\"Fiche d’identité de mon logement\"),p.default.createElement(\"div\",{className:\"panel-body\"},this.state.homedata&&p.default.createElement(\"div\",{className:O.default.infos},p.default.createElement(\"p\",null,\"Type de logement : \",this.state.homedata.type||\"Donnée non renseignée\"),p.default.createElement(\"p\",null,\"Votre statut : \",this.state.homedata.status||\"Donnée non renseignée\"),p.default.createElement(\"p\",null,\"Adresse : \",this.state.homedata.address&&t),p.default.createElement(\"p\",null,\"Date de construction : \",this.state.homedata.constructionDate||\"Donnée non renseignée\"),p.default.createElement(\"p\",null,\"Nombre de pièces : \",this.state.homedata.roomsCount||\"Donnée non renseignée\"),p.default.createElement(\"p\",null,\"Surface habitable : \",this.state.homedata.livingArea||\"Donnée non renseignée\")),p.default.createElement(\"strong\",null,\"Consommation calculée au dernier DPE :\",this.state.lastDPEId&&p.default.createElement(v.Link,{to:\"/data/\"+k[D.DOCTYPE_DIAGNOSIS].slug+\"/\"+this.state.lastDPEId},\" Dernier DPE\")),p.default.createElement(\"div\",{className:O.default.etiquettes},p.default.createElement(S.default,{type:C.NRJ,value:this.state.NRJconsommation,size:320}),p.default.createElement(S.default,{type:C.CO2,value:this.state.CO2emission,size:320})))),p.default.createElement(\"div\",{className:O.default.col},this.state.pictureLink&&p.default.createElement(\"div\",{className:(0,_.default)(O.default.actus,\"panel\",\"panel-default\")},p.default.createElement(\"div\",{className:\"panel-heading\"},\"Photo du bien\"),p.default.createElement(\"div\",{className:\"panel-body\"},p.default.createElement(\"img\",{style:{maxWidth:\"400px\",width:\"100%\"},src:this.state.pictureLink,alt:\"Photo du bien\"}))),p.default.createElement(\"div\",{className:(0,_.default)(O.default.actus,\"panel\",\"panel-default\")},p.default.createElement(\"div\",{className:\"panel-heading\"},\"Fil d'actualités\"),p.default.createElement(\"div\",{className:\"panel-body\"},this.state.news&&this.state.news.length>0&&this.state.news.slice(0,5).map(function(e,t){return p.default.createElement(v.Link,{to:\"/actualites\",key:t,style:{display:\"block\"}},p.default.createElement(\"strong\",null,e.title),\" - \",p.default.createElement(\"span\",null,(0,h.default)(e.updatedAt).format(\"DD/MM/YYYY\")))}),this.state.news&&0===this.state.news.length&&p.default.createElement(v.Link,{to:\"/actualites\",style:{display:\"block\"}},p.default.createElement(\"span\",null,\"Aucune actualité\")))),p.default.createElement(\"div\",{className:(0,_.default)(O.default.recalls,\"panel\",\"panel-default\")},p.default.createElement(\"div\",{className:\"panel-heading\"},\"Prochains rappels\"),p.default.createElement(\"div\",{className:\"panel-body\"},this.state.recalls&&this.state.recalls.length>0&&this.state.recalls.slice(0,5).map(function(e,t){return p.default.createElement(v.Link,{to:\"/rappels\",key:t,style:{display:\"block\"}},p.default.createElement(\"strong\",null,e.name),\" - \",p.default.createElement(\"span\",null,e.deadline))}),this.state.recalls&&0===this.state.recalls.length&&p.default.createElement(v.Link,{to:\"/rappels\",style:{display:\"block\"}},p.default.createElement(\"span\",null,\"Aucun rappels\")))))),p.default.createElement(\"div\",{className:(0,_.default)(O.default.timeline,\"panel\",\"panel-default\")},p.default.createElement(\"div\",{className:(0,_.default)(\"panel-heading\",O.default.panelTitle)},p.default.createElement(\"span\",null,\"Historique\"),p.default.createElement(\"span\",null,\"Filtre: \",this.renderTimelineFilter())),p.default.createElement(\"div\",{className:\"panel-body\"},this.state.events&&e.length>0&&e.filter(this.filterTimeline).sort(N).map(function(e,t){return p.default.createElement(\"div\",{className:O.default.timeRow,key:t},p.default.createElement(\"div\",{className:O.default.date},e.date),p.default.createElement(v.Link,{to:\"/data/\"+e.slug+\"/\"+e.id,style:{display:\"block\"}},e.doctypeName+\": \"+e.name))}),this.state.events&&0===e.length&&p.default.createElement(v.Link,{to:\"/assistant\",style:{display:\"block\"}},p.default.createElement(\"span\",null,\"Aucun événements\"))))))}}]),t}(m.Component);t.default=R;var N=function(e,t){var n=(0,h.default)(e.date,\"DD/MM/YYYY\"),a=(0,h.default)(t.date,\"DD/MM/YYYY\");return n.isAfter(a)?1:n.isBefore(a)?-1:0}},\"./src/components/elements/Data.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(\"./node_modules/lodash/sortBy.js\"),l=a(o),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(\"./node_modules/react/react.js\"),d=a(c),f=n(\"./node_modules/classnames/index.js\"),m=a(f),p=n(\"./node_modules/react-router-dom/es/index.js\"),E=n(\"./node_modules/react-portal/build/portal.js\"),h=a(E),v=n(\"./src/styles/buttons.scss\"),y=a(v),_=n(\"./src/styles/Documents.sass\"),b=a(_),g=n(\"./src/components/elements/Loader.jsx\"),C=a(g),S=n(\"./src/components/modals/Modal.jsx\"),A=a(S),O=n(\"./src/components/elements/Page.jsx\"),T=a(O),x=n(\"./src/components/elements/DataTable.jsx\"),D=a(x),k=n(\"./src/components/elements/DocumentList.jsx\"),R=a(k),N=n(\"./src/containers/Selector.js\"),j=a(N),w=n(\"./src/scripts/dataFields.js\"),L=n(\"./src/constants/index.js\"),P=n(\"./src/tools/index.js\"),M=n(\"./src/scripts/confirm.js\"),I=a(M),F=n(\"./src/components/modals/ConfirmModal.jsx\"),U=a(F),q=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={edition:!1,referenced:!1,modalOpen:!1},a.renderData=a.renderData.bind(a),a}return u(t,e),i(t,[{key:\"componentWillMount\",value:function(){var e=this;this.infos=(0,w.getInfosFromSlug)(this.props.match.params.slug),this.id=this.props.match.params.id,this.props.onLoadData(this.infos.doctype,this.id),this.unblock=this.props.history.block(function(t,n){if(e.state.edition)return\"Attention, vos modifications ne seront pas sauvegardées.\"})}},{key:\"componentWillUnmount\",value:function(){this.unblock&&this.unblock()}},{key:\"componentWillReceiveProps\",value:function(e){var t=this;this.props.current!=e.current&&e.current._id&&cozy.client.data.listReferencedFiles(e.current).then(function(e){return Promise.all(e.map(function(e){return cozy.client.files.statById(e)}))}).then(function(e){var n=e.filter(function(e){return!e.attributes.trashed}).map(P.extractFileAttributes);t.setState({referenced:n})})}},{key:\"openModal\",value:function(){this.props.onImporterClick(this.infos.path),this.setState({modalOpen:!0})}},{key:\"dropRef\",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=e.dataTransfer.files&&e.dataTransfer.files[0];if(n){var a=this.infos.path;cozy.client.files.statByPath(a).then(function(e){return t.props.fileUpload([n],e._id)}).then(function(e){return console.log(\"ici\",e),cozy.client.data.addReferencedFiles(t.props.current,e.files[0].id)}).then(function(){return t.props.onLoadData(t.infos.doctype,t.id)})}}},{key:\"addRef\",value:function(e){var t=this;cozy.client.files.statByPath(e).then(function(e){if(\"directory\"!==e.attributes.type)return cozy.client.data.addReferencedFiles(t.props.current,e._id)}).then(function(){return t.props.onLoadData(t.infos.doctype,t.id)})}},{key:\"removeRef\",value:function(e){var t=this;(0,I.default)(V).then(function(){return cozy.client.data.removeReferencedFiles(t.props.current,e)}).then(function(){return t.props.onLoadData(t.infos.doctype,t.id)})}},{key:\"save\",value:function(){this.setState({edition:!1}),this.props.dataSave(this.infos.doctype,this.props.current)}},{key:\"edit\",value:function(){this.setState({edition:!0})}},{key:\"remove\",value:function(){var e=this;(0,I.default)(z).then(function(){return e.props.dataRemove(e.infos.doctype,[e.props.current])}).then(function(t){e.unblock&&e.unblock(),e.props.history.goBack()})}},{key:\"addMulti\",value:function(e,t){if(this.state.edition){var n=this.props.current,a=t.map(function(e){return{key:e.name,value:e.values&&e.values[0]||\"\"}}),r={},s=!0,u=!1,o=void 0;try{for(var l,i=a[Symbol.iterator]();!(s=(l=i.next()).done);s=!0){var c=l.value;r[c.key]=c.value}}catch(e){u=!0,o=e}finally{try{!s&&i.return&&i.return()}finally{if(u)throw o}}n[e]&&Array.isArray(n[e])?n[e].push(r):n[e]=[r],this.forceUpdate()}}},{key:\"removeMulti\",value:function(e,t){if(this.state.edition){var n=this.props.current,a=n[e];a&&(a.splice(t,1),this.forceUpdate())}}},{key:\"renderData\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.props.current){var n=(0,w.getFields)(this.infos.doctype);if(n){var a=this.props.current;return d.default.createElement(D.default,null,n.map(function(t,n){if(t.multi){var r=a[t.type];if(!r||!Array.isArray(r)||r.length<=0){var s=d.default.createElement(\"button\",{onClick:function(n){n.preventDefault(),e.addMulti(t.type,t.group)},className:(0,m.default)(y.default.button,y.default.stable),title:\"Ajouter\"},d.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),\"AJOUTER \",t.name.toUpperCase());return d.default.createElement(D.default.Group,{title:t.name,key:n,displayAdd:e.state.edition,onAdd:e.state.edition&&s},d.default.createElement(\"tr\",null,d.default.createElement(\"th\",null,d.default.createElement(\"p\",null,\"Aucun élément\"))))}var u=void 0,o=void 0;return e.state.edition&&(u=d.default.createElement(\"button\",{onClick:function(n){n.preventDefault(),e.addMulti(t.type,t.group)},className:(0,m.default)(y.default.button,y.default.stable),title:\"Ajouter\"},d.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),\"AJOUTER \",t.name.toUpperCase()),o=function(n){return d.default.createElement(\"button\",{onClick:function(a){a.preventDefault(),e.removeMulti(t.type,n)},className:(0,m.default)(y.default.button,y.default.stable,y.default.clear),title:\"Supprimer\"},d.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))}),r.map(function(a,s){return d.default.createElement(D.default.Group,{title:t.name+\" \"+(s+1),key:1e3*n+s,onAdd:s===r.length-1&&u,onRemove:o&&o(s)},t.group.map(function(t,n){return d.default.createElement(D.default.Item,{key:n,title:t.display,value:a[t.name],type:t.type,updatable:e.state.edition,values:t.values,onChange:function(e){return a[t.name]=e}})}))})}return d.default.createElement(D.default.Group,{title:t.name,key:n},t.group.map(function(t,n){return d.default.createElement(D.default.Item,{key:n,title:t.display,value:a[t.name],type:t.type,updatable:e.state.edition,values:t.values,onChange:function(e){return a[t.name]=e}})}))}),this.state.edition&&t&&d.default.createElement(\"div\",{style:{textAlign:\"right\"}},t))}}}},{key:\"render\",value:function(){var e=this,t=this.props.status===L.STATUS_LOAD,n=[],a=d.default.createElement(\"button\",{onClick:function(){return e.remove()},className:(0,m.default)(y.default.button,y.default.assertive),title:\"Supprimer\"},d.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),d.default.createElement(\"span\",{className:y.default.text},\"SUPPRIMER\"));n.push(a);var r=void 0;if(this.state.edition)r=d.default.createElement(\"button\",{onClick:function(){return e.save()},className:(0,m.default)(y.default.button,y.default.stable),title:\"Sauvegarder\"},d.default.createElement(\"i\",{className:\"fa fa-floppy-o\"}),d.default.createElement(\"span\",{className:y.default.text},\"SAUVEGARDER\")),n.unshift(r);else{var s=d.default.createElement(\"button\",{onClick:function(){return e.edit()},className:(0,m.default)(y.default.button,y.default.stable),title:\"Modifier\"},d.default.createElement(\"i\",{className:\"fa fa-edit\"}),d.default.createElement(\"span\",{className:y.default.text},\"MODIFIER\"));n.unshift(s)}var u=d.default.createElement(\"span\",{className:b.default.breadcrums},d.default.createElement(p.Link,{to:(0,P.createFakePath)(this.infos.path)},this.infos.name),this.props.current&&this.props.current.name&&d.default.createElement(\"strong\",null,\"/\",this.props.current.name));return d.default.createElement(T.default,{title:u,subtitle:\"\",actions:n,onBackPress:function(){return e.props.history.goBack()}},d.default.createElement(C.default,{display:t}),!t&&this.renderData(r),!t&&this.state.referenced&&d.default.createElement(\"div\",{className:\"referencedFiles\"},d.default.createElement(\"hr\",null),d.default.createElement(\"div\",{className:b.default.row},d.default.createElement(\"h3\",null,\"Documents liés\"),d.default.createElement(\"button\",{onClick:function(){return e.openModal()},onDragOver:function(e){return e.preventDefault()},onDrop:function(t){return e.dropRef(t)},className:(0,m.default)(y.default.button,y.default.stable),title:\"Rattacher un document\"},d.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),\"RATTACHER UN DOCUMENT\")),d.default.createElement(R.default,{view:L.VIEW_LIST,onClickItem:function(t){if((0,P.isDirectory)(t)){var n=(0,P.createFakePath)(t.path);e.props.history.push(n)}else cozy.client.files.statById(t.dir_id).then(function(n){var a=(0,P.createFakePath)(n.attributes.path+\"/\"+t.name);e.props.history.push(a)})},onRemove:function(t){return e.removeRef(t.id)}},(0,l.default)(this.state.referenced,\"name\"))),d.default.createElement(h.default,{closeOnEsc:!0,isOpened:this.state.modalOpen,onClose:function(){return e.setState({modalOpen:!1})}},d.default.createElement(A.default,null,d.default.createElement(j.default,{files:!0,onSelect:function(t){return e.addRef(t)}}))))}}]),t}(c.Component);t.default=q;var z=d.default.createElement(U.default,null,d.default.createElement(\"p\",null,\"Voulez-vous supprimer cet élément ?\")),V=d.default.createElement(U.default,null,d.default.createElement(\"p\",null,\"Supprimer ce document ?\"))},\"./src/components/elements/DataForm.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=n(\"./node_modules/lodash/isObject.js\"),i=a(l),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(\"./node_modules/react/react.js\"),m=a(f),p=n(\"./node_modules/classnames/index.js\"),E=a(p),h=n(\"./node_modules/moment/moment.js\"),v=a(h),y=n(\"./src/components/elements/Page.jsx\"),_=a(y),b=n(\"./src/styles/buttons.scss\"),g=a(b),C=n(\"./src/styles/DataForm.sass\"),S=a(C),A=n(\"./src/components/utils/CustomInput.jsx\"),O=a(A),T=n(\"./src/constants/index.js\"),x=n(\"./src/scripts/dataFields.js\"),D=n(\"./src/tools/index.js\"),k=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={values:{},step:0},a}return o(t,e),d(t,[{key:\"componentWillMount\",value:function(){this.infos=(0,x.getInfosFromSlug)(this.props.match.params.slug),this.fields=(0,x.getFields)(this.infos.doctype)}},{key:\"previousStep\",value:function(){var e=this.state.step-1;e<0||this.setState({step:e})}},{key:\"nextStepSkip\",value:function(){var e=this.fields[0].group,t=e[this.state.step];this.state.values[t.name]=\"\",this.nextStep()}},{key:\"nextStep\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.fields[0].group.length-1,n=this.fields[0].group,a=n[this.state.step];if(!a.required||void 0!==this.state.values[a.name]&&\"\"!==this.state.values[a.name]){var s=this.state.step+e;if(s<=t){var u=n[s];if(u.depend)if((0,i.default)(u.depend)){if(this.state.values[u.depend.key]!==u.depend.value)return this.nextStep(e+1)}else if(u.depend instanceof String&&!this.state.values[u.depend])return this.nextStep();var o=c({},this.state.values,r({},u.name,void 0));switch(u.type){case\"list\":o[u.name]=u.values[0];break;case\"number\":o[u.name]=0;break;case\"date\":o[u.name]=(0,v.default)().format(\"DD/MM/YYYY\");break;case\"contract\":case\"address\":o[u.name]={};break;case\"text\":case\"\":case void 0:o[u.name]=\"\"}this.setState({step:s,values:o})}else{var l=c({},this.state.values);this.props.onNewData(this.infos.doctype,l),this.props.history.replace((0,D.createFakePath)(this.infos.path)||T.ROOT_NAME)}}}},{key:\"change\",value:function(e,t){var n=c({},this.state.values,r({},t,e));this.setState({values:n})}},{key:\"cancel\",value:function(){this.props.history.goBack()}},{key:\"render\",value:function(){var e=this,t=this.fields[0].group,n=t[this.state.step],a=this.state.values[n.name],r=\"Questionnaire \"+this.infos.name,s=void 0===a||\"\"===a,u=this.fields[0].group.length,o=this.state.step+1;return m.default.createElement(_.default,{title:r},m.default.createElement(\"div\",{className:\"content\"},m.default.createElement(\"div\",{className:S.default.row},m.default.createElement(\"h3\",null,n.question||n.display),m.default.createElement(\"button\",{onClick:function(){return e.cancel()},className:(0,E.default)(g.default.stable,g.default.button),title:\"Retour\"},\"Retour\")),m.default.createElement(O.default,{className:S.default.input,autoFocus:!0,type:n.type,value:a,values:n.values,placeholder:n.display,onChange:function(t){return e.change(t,n.name)}})),m.default.createElement(\"div\",{className:S.default.footer},m.default.createElement(\"button\",{onClick:function(){return e.previousStep()},className:(0,E.default)(S.default.button,g.default.button,g.default.default),title:\"Précédent\",disabled:0===this.state.step},m.default.createElement(\"i\",{className:\"ion-ios-arrow-thin-left\"}),\"Précédent\"),m.default.createElement(\"button\",{onClick:function(){return e.nextStep()},className:(0,E.default)(S.default.button,g.default.button,g.default.default),title:\"Suivant\",disabled:s},m.default.createElement(\"i\",{className:\"ion-ios-arrow-thin-right\"}),\"Suivant\"),m.default.createElement(\"button\",{onClick:function(){return e.nextStepSkip()},className:(0,E.default)(S.default.button,g.default.button,g.default.default),title:\"Passer\",disabled:n.required},m.default.createElement(\"i\",{className:\"ion-ios-arrow-thin-right\"}),\"Passer\")),m.default.createElement(\"div\",{className:S.default.steps},o,\"/\",u))}}]),t}(f.Component);t.default=k},\"./src/components/elements/DataList.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.DataList=void 0;var s=n(\"./node_modules/react/react.js\"),u=a(s),o=n(\"./node_modules/classnames/index.js\"),l=a(o),i=n(\"./node_modules/moment/moment.js\"),c=(a(i),n(\"./src/styles/ElementList.sass\")),d=a(c),f=n(\"./src/constants/index.js\"),m=t.DataList=function(e){var t;return u.default.createElement(\"div\",{className:(0,l.default)(d.default.list,(t={},r(t,d.default.viewList,e.view===f.VIEW_LIST),r(t,d.default.viewGrid,e.view===f.VIEW_GRID),t))},e.children.map(function(t,n){return u.default.createElement(\"div\",{key:n,onClick:function(n){return e.onClickItem(t,n)},className:(0,l.default)(d.default.document,r({},d.default.selected,t.selected))},e.onSelectItem&&t.selected&&u.default.createElement(\"i\",{className:(0,l.default)(d.default.checkbox,\"ion-android-checkbox-outline\"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),e.onSelectItem&&!t.selected&&u.default.createElement(\"i\",{className:(0,l.default)(d.default.checkbox,\"ion-android-checkbox-outline-blank\"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),u.default.createElement(\"div\",{className:d.default.content},u.default.createElement(\"img\",{src:p(t),onError:function(e){return console.log(\"Error icon\",e)}})),u.default.createElement(\"div\",{className:d.default.name,title:t.type||t.name},t.type&&t.name?t.type+\" : \"+t.name:t.type?t.type:t.name))}))},p=function(e){var t=\"/images/\";switch(e._type||e.doctype){case f.DOCTYPE_DIAGNOSIS:t+=\"data-diagnostics\";break;case f.DOCTYPE_HOMEDATA:t+=\"data-donnees-de-propriete\";break;case f.DOCTYPE_EQUIPMENTS:t+=\"data-equipements\";break;case f.DOCTYPE_MAINTENANCES:case f.DOCTYPE_WORKS:t+=\"data-travaux-et-entretien\";break;default:t+=\"data-element\"}return e.selected&&(t+=\".selected\"),t+\".png\"};t.default=m},\"./src/components/elements/DataTable.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.DataTable=t.DataTableItem=t.DataTableGroup=void 0;var r=n(\"./node_modules/lodash/map.js\"),s=a(r),u=n(\"./node_modules/lodash/isObject.js\"),o=a(u),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=(a(c),n(\"./src/styles/DataTable.sass\")),f=a(d),m=n(\"./src/styles/buttons.scss\"),p=(a(m),n(\"./node_modules/moment/moment.js\")),E=(a(p),n(\"./src/components/utils/CustomInput.jsx\")),h=a(E),v=t.DataTableGroup=function(e){return i.default.createElement(\"div\",null,i.default.createElement(\"div\",{className:f.default.row},i.default.createElement(\"h3\",null,e.title||\" \"),i.default.createElement(\"div\",null,e.onAdd,e.onRemove)),i.default.createElement(\"table\",{className:f.default.group},i.default.createElement(\"tbody\",null,e.children)))},y=t.DataTableItem=function(e){return i.default.createElement(\"tr\",{className:f.default.item},i.default.createElement(\"th\",null,i.default.createElement(\"div\",null,e.title)),i.default.createElement(\"td\",null,e.updatable&&i.default.createElement(h.default,{value:e.value,values:e.values,placeholder:e.title,type:e.type,onChange:e.onChange}),function(){if(!e.updatable){if((0,o.default)(e.value))return(0,s.default)(e.value,function(e,t){return i.default.createElement(\"div\",{key:t},e)});var t=e.value;switch(e.type){case\"boolean\":t=1===t?\"Oui\":\"Non\"}return t}}()))},_=t.DataTable=function(e){return i.default.createElement(\"form\",{className:f.default.main,onSubmit:function(){return e.onSubmit&&e.onSubmit()}},e.children)};_.Item=y,_.Group=v,t.default=_},\"./src/components/elements/DirectoryPicker.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=n(\"./node_modules/lodash/isFunction.js\"),i=a(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(\"./node_modules/react/react.js\"),f=a(d),m=n(\"./src/styles/DirectoryPicker.sass\"),p=a(m),E=n(\"./node_modules/classnames/index.js\"),h=a(E),v=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.props.root?(a.default=a.props.default,a.state={current:a.props.default||a.props.root},a):u(a)}return o(t,e),c(t,[{key:\"_onItemClick\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.props.files&&t||(this.props.files||t)&&e&&(this.setState({current:e}),(0,i.default)(this.props.onPathChange)&&this.props.onPathChange(e))}},{key:\"_toggleDir\",value:function(e){this.toggleDirRec(e,this.props.dirs.childs)&&this.setState({})}},{key:\"toggleDirRec\",value:function(e,t){var n=!0,a=!1,r=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var o=s.value;if(o.path===e)return o.open=!o.open,!0;if(o.childs&&o.childs.length>0){if(this.toggleDirRec(e,o.childs))return!0}}}catch(e){a=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw r}}return!1}},{key:\"_renderDirs\",value:function(){var e=this;if(this.props.dirs){var t=this.createDirList(this.props.dirs.childs),n=this.props.dirs.name;return f.default.createElement(\"div\",{className:p.default.container},f.default.createElement(\"span\",{className:(0,h.default)(p.default.name,r({},p.default.selected,this.props.dirs.path===this.state.current)),onClick:function(){return e._onItemClick(e.props.dirs.path,!0)}},f.default.createElement(\"i\",{className:(0,h.default)(p.default.icon,\"ion-ios-arrow-down\")}),f.default.createElement(\"i\",{className:(0,h.default)(p.default.icon,\"ion-ios-folder-outline\")}),n),t)}return null}},{key:\"createDirList\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===t.length)return null;var n=[],a=!0,s=!1,u=void 0;try{for(var o,l=t[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var i=o.value;if(!this.props.hideFiles||i.dir){var c=i.name.substring(i.name.lastIndexOf(\"/\")+1);n.push(f.default.createElement(\"li\",{key:i.name},f.default.createElement(\"span\",{className:(0,h.default)(p.default.name,r({},p.default.selected,i.path===this.state.current)),\"data-path\":i.path,\"data-dir\":i.dir,onDoubleClick:function(t){return e._toggleDir(t.target.dataset.path)},onClick:function(t){return e._onItemClick(t.target.dataset.path,t.target.dataset.dir)}},i.dir&&f.default.createElement(\"i\",{onClick:function(t){return e._toggleDir(t.target.dataset.path)},\"data-path\":i.path,className:(0,h.default)(p.default.icon,{\"ion-ios-arrow-right\":i.childs.length>0&&!i.open,\"ion-ios-arrow-down\":i.childs.length>0&&i.open})}),f.default.createElement(\"i\",{className:(0,h.default)(p.default.icon,r({\"ion-ios-folder-outline\":i.dir,\"ion-ios-paper-outline\":!i.dir},p.default.file,!i.dir))}),c),i.open&&i.childs.length>0?this.createDirList(i.childs):null))}}}catch(e){s=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}return f.default.createElement(\"ul\",{className:p.default.content},n)}},{key:\"render\",value:function(){return f.default.createElement(\"div\",{className:p.default.main},this._renderDirs.bind(this)())}}]),t}(f.default.Component);t.default=v},\"./src/components/elements/DocumentList.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.DocumentList=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./node_modules/classnames/index.js\"),f=a(d),m=n(\"./node_modules/moment/moment.js\"),p=a(m),E=n(\"./src/styles/ElementList.sass\"),h=a(E),v=n(\"./src/styles/buttons.scss\"),y=a(v),_=n(\"./src/constants/index.js\"),b=n(\"./src/scripts/fileTypes.js\"),g=t.DocumentList=function(e){var t;return c.default.createElement(\"div\",{className:(0,f.default)(h.default.list,(t={},o(t,h.default.viewList,e.view===_.VIEW_LIST),o(t,h.default.viewGrid,e.view===_.VIEW_GRID),t))},e.children.map(function(t,n){var a;return c.default.createElement(\"div\",{key:n,onClick:function(a){return e.onClickItem&&e.onClickItem(t,a,n)},className:(0,f.default)(h.default.document,o({},h.default.selected,t.selected)),title:t.title?t.title:\"\",onDragOver:function(e){return e.preventDefault()},onDrop:function(n){return e.onDrop&&e.onDrop(t,n)}},e.onSelectItem&&t.selected&&c.default.createElement(\"i\",{className:(0,f.default)(h.default.checkbox,\"ion-android-checkbox-outline\"),onClick:function(a){a.stopPropagation(),e.onSelectItem(t,a,n,!1)}}),e.onSelectItem&&!t.selected&&c.default.createElement(\"i\",{className:(0,f.default)(h.default.checkbox,\"ion-android-checkbox-outline-blank\"),onClick:function(a){a.stopPropagation(),e.onSelectItem(t,a,n,!0)}}),c.default.createElement(\"div\",{className:h.default.content},c.default.createElement(C,{id:t.id,selected:t.selected,type:t.type,name:t.name,links:t.links,image:\"image\"===t.class})),c.default.createElement(\"div\",{className:h.default.name,title:t.name},t.name),c.default.createElement(\"span\",{style:{marginRight:\"5px\"},className:h.default.type},t.tags&&t.tags.length>0&&(0,b.getDisplayName)(t.tags[0])),!e.noDate&&c.default.createElement(\"div\",{className:h.default.date},c.default.createElement(\"span\",null,(0,p.default)(t.updated_at).format(\"DD/MM/YYYY\"))),e.onRemove&&!t.noRemove&&c.default.createElement(\"button\",{onClick:function(n){n.stopPropagation(),e.onRemove(t,n)},className:(0,f.default)(y.default.button,y.default.clear,(a={},o(a,y.default.default,t.selected),o(a,y.default.stable,!t.selected),a)),title:\"Supprimer\"},c.default.createElement(\"i\",{className:\"ion-ios-close-empty\"})))}))},C=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={icon:a.getItemIcon(e)},a}return u(t,e),l(t,[{key:\"componentWillReceiveProps\",value:function(e){e.selected==this.props.selected||this.props.image||(this.state={icon:this.getItemIcon(e)})}},{key:\"getItemIcon\",value:function(e){var t=this,n=e.type||\"file\",a=\"/images/file\";if(\"file\"===n)e.image&&e.links&&e.links.small&&cozy.client.fullpath(e.links.small).then(function(e){t.state.icon!=e&&t.setState({icon:e})});else switch(a=\"/images/\",e.name){case\"Diagnostics\":a+=\"folder-diagnostic\";break;case\"Documents de propriété\":a+=\"folder-document-de-propriete\";break;case\"Équipements\":a+=\"folder-equipements\";break;case\"Travaux\":a+=\"folder-travaux\";break;case\"Entretiens\":a+=\"folder-entretien\";break;case\"Usages\":a+=\"folder-document-de-propriete\";break;default:a+=\"folder\"}return e.selected&&(a+=\".selected\"),a+\".png\"}},{key:\"iconErr\",value:function(){var e=this;this.props.image&&cozy.client.files.getDownloadLinkById(this.props.id).then(function(e){return cozy.client.fullpath(e)}).then(function(t){return e.setState({icon:t})})}},{key:\"render\",value:function(){var e=this;return c.default.createElement(\"img\",{src:this.state.icon,onError:function(t){return e.iconErr(t)}})}}]),t}(i.Component);t.default=g},\"./src/components/elements/DocumentView.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./node_modules/react-router-dom/es/index.js\"),f=n(\"./node_modules/classnames/index.js\"),m=a(f),p=n(\"./src/components/utils/PDFViewer.jsx\"),E=a(p),h=n(\"./src/components/utils/TXTViewer.jsx\"),v=a(h),y=n(\"./src/components/elements/Loader.jsx\"),_=a(y),b=n(\"./src/components/elements/Page.jsx\"),g=a(b),C=n(\"./src/components/elements/ToolBoxOptions.jsx\"),S=a(C),A=n(\"./src/components/modals/Modal.jsx\"),O=(a(A),n(\"./src/components/utils/TypeChanger.jsx\")),T=a(O),x=n(\"./src/styles/Documents.sass\"),D=a(x),k=n(\"./src/styles/buttons.scss\"),R=a(k),N=n(\"./src/scripts/fileTypes.js\"),j=n(\"./src/constants/index.js\"),w=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={url:\"\",loading:!0,modalOpen:!0,zoom:.1,changeType:!1,imgLoad:!0},a.type=void 0,a.touch={start:!1,lastDistance:0},a.renderMethod=a.renderSimple.bind(a),a}return o(t,e),l(t,[{key:\"componentWillMount\",value:function(){var e,t=this;cozy.client.files.getDownloadLinkById(this.props.current.id).then(function(e){return cozy.client.fullpath(e)}).then(function(e){return t.setState({url:e,loading:!1})});var n=(e={},r(e,\"application/pdf\",this.renderPDF),r(e,\"text/plain\",this.renderText),r(e,\"image/\",this.renderImage),e),a=!0,s=!1,u=void 0;try{for(var o,l=Object.keys(n)[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var i=o.value;if(-1!==this.props.current.mime.indexOf(i)){this.renderMethod=n[i].bind(this),this.type=i;break}}}catch(e){s=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}if(\"image/\"===this.type){var c=window.innerWidth,d=this.props.current.metadata.width;this.state.zoom=Math.min(Math.max(c/d,.1),1)}else void 0===this.type&&this.props.onAlert(\"Impossible de lire ce type de fichier, veuillez le télécharger afin de le lire sur votre ordinateur\")}},{key:\"componentWillReceiveProps\",value:function(e){}},{key:\"download\",value:function(){this.props.onDownload(this.props.current)}},{key:\"open\",value:function(){if(this.state.url){window.open(this.state.url,\"_blank\").focus()}}},{key:\"remove\",value:function(){var e=this;this.props.onRemove(this.props.current).then(function(){return e.props.history.goBack()})}},{key:\"renderSimple\",value:function(){return c.default.createElement(\"div\",null,c.default.createElement(\"div\",null,\"URL du fichier : \",c.default.createElement(\"a\",{href:this.state.url},this.state.url)))}},{key:\"renderText\",value:function(){return c.default.createElement(v.default,{url:this.state.url})}},{key:\"renderImage\",value:function(){var e=this,t=this.props.current.metadata.width*this.state.zoom,n=this.props.current.metadata.height*this.state.zoom;return c.default.createElement(\"div\",{ref:\"imagebox\",style:{overflow:\"auto\",flex:1,display:\"inline-block\"},onTouchStart:function(t){return e.handleTouchStart(t)},onTouchEnd:function(t){return e.handleTouchStop(t)},onTouchMove:function(t){return e.handleTouchMove(t)}},c.default.createElement(_.default,{display:this.state.imgLoad}),c.default.createElement(\"img\",{style:{width:t+\"px\",height:n+\"px\"},src:this.state.url,alt:this.props.current.name,onWheel:function(t){return e.imageZoom(t)},onLoad:function(t){return e.setState({imgLoad:!1})}}))}},{key:\"componentDidUpdate\",value:function(){if(this.refs.imagebox&&\"image/\"===this.type){var e=this.refs.imagebox,t=e.scrollWidth-e.clientWidth,n=e.scrollHeight-e.clientHeight;e.scrollLeft=t/2,e.scrollTop=n/2}}},{key:\"imageZoom\",value:function(e){if(e.preventDefault(),e.stopPropagation(),e.deltaY>0){if(this.state.zoom<=.21)return this.setState({zoom:.1});this.setState({zoom:this.state.zoom-.2})}else{if(this.state.zoom>=4)return this.setState({zoom:4});this.setState({zoom:this.state.zoom+.2})}}},{key:\"getPointFromTouch\",value:function(e,t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}},{key:\"getDistance\",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:\"handleTouchMove\",value:function(e){if(this.touch.start&&!(e.touches.length<2)){var t=this.getPointFromTouch(e.touches[0],this.refs.imagebox),n=this.getPointFromTouch(e.touches[1],this.refs.imagebox),a=this.getDistance(t,n),r=a-this.touch.lastDistance;if(this.touch.lastDistance=a,r<-10||r>10){var s=this.state.zoom+r/600;if(s<=.1||s>=5)return;console.log(\"New zoom\",s),this.setState({zoom:s})}}}},{key:\"handleTouchStart\",value:function(e){if(!(this.touch.start||e.touches.length<2)){this.touch.start=!0;var t=this.getPointFromTouch(e.touches[0],this.refs.imagebox),n=this.getPointFromTouch(e.touches[1],this.refs.imagebox);this.touch.lastDistance=this.getDistance(t,n)}}},{key:\"handleTouchStop\",value:function(){this.touch.start=!1}},{key:\"renderPDF\",value:function(){return c.default.createElement(E.default,{url:this.state.url})}},{key:\"createBreadcrums\",value:function(){var e=this.props.location.pathname.substring(1),t=e.split(\"/\"),n=[];if(t.length>1){var a=t[0];if(n.push({path:a,fullPath:\"/\"+a}),t.length>3){t[t.length-3];n.push({path:\"/...\",fullPath:\"/\"+t.slice(0,t.length-2).join(\"/\")});var r=t[t.length-2];n.push({path:\"/\"+r,fullPath:\"/\"+t.slice(0,t.length-1).join(\"/\")})}else if(t.length>2){var r=t[t.length-2];n.push({path:\"/\"+r,fullPath:\"/\"+t.slice(0,t.length-1).join(\"/\")})}}var s=(t.length>1?\"/\":\"\")+t[t.length-1];return c.default.createElement(\"span\",{className:D.default.breadcrums},n.map(function(e,t){return c.default.createElement(d.Link,{key:t,to:e.fullPath},e.path)}),c.default.createElement(\"strong\",null,s))}},{key:\"render\",value:function(){var e=this,t=null;t=this.state.changeType?c.default.createElement(T.default,{type:this.props.current.tags[0],onCancel:function(){return e.setState({changeType:!1})},onChange:function(t){e.setState({changeType:!1}),e.props.onChangeType(e.props.current,t)}}):this.props.current.tags&&(0,N.getDisplayName)(this.props.current.tags[0]);var n=c.default.createElement(S.default,null,c.default.createElement(\"ul\",null,c.default.createElement(\"li\",{onClick:function(){e.setState({changeType:!0})}},c.default.createElement(\"i\",{className:\"ion-ios-cloud-download-outline\"},\"CHANGE TYPE\")))),a=c.default.createElement(\"button\",{onClick:function(){return e.download()},className:(0,m.default)(R.default.button,R.default.stable),title:\"Télécharger\"},c.default.createElement(\"i\",{className:\"ion-ios-cloud-download-outline\"}),c.default.createElement(\"span\",{className:R.default.text},\"TELECHARGER\")),r=c.default.createElement(\"button\",{onClick:function(){return e.open()},className:(0,m.default)(R.default.button,R.default.stable),title:\"Ouvrir\"},c.default.createElement(\"i\",{className:\"ion-ios-book-outline\"}),c.default.createElement(\"span\",{className:R.default.text},\"OUVRIR\")),s=c.default.createElement(\"button\",{onClick:function(){return e.remove()},className:(0,m.default)(R.default.button,R.default.assertive),title:\"Supprimer\"},c.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),c.default.createElement(\"span\",{className:R.default.text},\"SUPPRIMER\")),u=this.state.loading;return c.default.createElement(g.default,{title:this.createBreadcrums(),subtitle:!u&&status!=j.STATUS_ERROR&&t,actions:[a,r,s,n],onBackPress:function(){return e.props.history.goBack()},flex:-1!==this.props.current.mime.indexOf(\"image/\")},c.default.createElement(_.default,{display:u}),!u&&this.renderMethod())}}]),t}(i.Component);t.default=w},\"./src/components/elements/Documents.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./src/containers/DocumentView.js\"),d=a(c),f=n(\"./src/containers/Explorer.js\"),m=a(f),p=n(\"./src/constants/index.js\"),E=(n(\"./src/scripts/dataFields.js\"),function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.newPath=null,a}return u(t,e),o(t,[{key:\"componentWillMount\",value:function(){this.newPath=this.createRealPath(this.props),this.newPath===this.props.path&&this.props.fileCount===this.props.files.length||this.props.onOpenFolder(this.newPath)}},{key:\"componentWillReceiveProps\",value:function(e){if(this.newPath=this.createRealPath(e),e.status===p.STATUS_ERROR){if(this.newPath===e.path)return;return e.onOpenFolder(this.newPath)}e.status!==p.STATUS_LOAD&&(this.newPath===e.path&&e.fileCount===e.files.length||e.onOpenFolder(this.newPath))}},{key:\"createRealPath\",value:function(e){var t=e.match.params.path,n=p.ROOT_PATH;return t&&(n+=\"/\"+t),n}},{key:\"render\",value:function(){var e=this.props.lastType;return e===p.TYPE_FILE?i.default.createElement(d.default,{location:this.props.location,history:this.props.history,match:this.props.match}):e===p.TYPE_FOLDER?i.default.createElement(m.default,{path:this.newPath,location:this.props.location,history:this.props.history,match:this.props.match}):null}}]),t}(l.Component));t.default=E},\"./src/components/elements/Explorer.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./node_modules/classnames/index.js\"),f=a(d),m=n(\"./node_modules/react-portal/build/portal.js\"),p=a(m),E=n(\"./node_modules/react-router-dom/es/index.js\"),h=n(\"./src/tools/index.js\"),v=n(\"./src/styles/Documents.sass\"),y=a(v),_=n(\"./src/styles/buttons.scss\"),b=a(_),g=n(\"./src/components/elements/Page.jsx\"),C=a(g),S=n(\"./src/components/elements/Loader.jsx\"),A=a(S),O=n(\"./src/components/elements/DocumentList.jsx\"),T=a(O),x=n(\"./src/components/elements/DataList.jsx\"),D=a(x),k=n(\"./src/components/elements/DocumentView.jsx\"),R=(a(k),n(\"./src/components/elements/ToolBoxOptions.jsx\")),N=a(R),j=n(\"./src/components/modals/Modal.jsx\"),w=a(j),L=n(\"./src/containers/Importer.js\"),P=a(L),M=n(\"./src/containers/Selector.js\"),I=a(M),F=n(\"./src/components/utils/RenameInput.jsx\"),U=a(F),q=n(\"./src/constants/index.js\"),z=n(\"./src/scripts/dataFields.js\"),V=(n(\"./src/scripts/fileTypes.js\"),n(\"./src/scripts/confirm.js\")),Y=a(V),B=n(\"./src/components/modals/ConfirmModal.jsx\"),W=a(B),H=n(\"./src/components/modals/PromptModal.jsx\"),G=a(H),J=q.FOLDER_LIST,Q=c.default.createElement(W.default,null,c.default.createElement(\"p\",null,\"Voulez-vous supprimer ce(s) élément(s) ?\")),K=function(e,t){var n=!0,a=!1,r=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var o=s.value;if(o.path&&-1!==t.indexOf(o.path))return!0}}catch(e){a=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw r}}return!1},Z=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={importerOpen:!1,moveModalOpen:!1,doctype:!1,renaming:!1},a}return o(t,e),l(t,[{key:\"componentWillMount\",value:function(){this.checkForData(this.props.path)}},{key:\"componentWillReceiveProps\",value:function(e){this.checkForData(e.path)}},{key:\"checkForData\",value:function(e){var t=(0,z.getInfosFromPath)(e);t?this.state.doctype?this.state.doctype!==t.doctype&&this.props.onLoadData(t.doctype):(this.state.doctype=t.doctype,this.props.onLoadData(t.doctype)):this.state.doctype=!1}},{key:\"openImporter\",value:function(){this.props.onImporterClick(this.props.path),this.setState({importerOpen:!0})}},{key:\"openMover\",value:function(){this.props.onImporterClick(this.props.path),this.setState({moveModalOpen:!0})}},{key:\"remove\",value:function(){var e=this;this.props.selectedCount+this.props.selectedDataCount<=0||(0,Y.default)(Q).then(function(){e.props.selectedCount>0&&e.props.onRemove(e.props.files.filter(function(e){return e.selected})),e.props.selectedDataCount>0&&e.props.onRemoveData(e.state.doctype,e.props.data.filter(function(e){return e.selected}))}).catch(function(e){})}},{key:\"move\",value:function(e){this.props.folder.path!==e&&this.props.onMoveFile(this.props.files.filter(function(e){return e.selected}),e)}},{key:\"download\",value:function(){this.props.onDownload(this.props.files.filter(function(e){return e.selected}))}},{key:\"rename\",value:function(e){this.props.onRename(this.state.renaming.id,e),this.setState({renaming:!1})}},{key:\"createBreadcrums\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.location.pathname.substring(1),n=t.split(\"/\"),a=[];if(n.length>1){var r=n[0];if(a.push({path:r,fullPath:\"/\"+r}),n.length>3){n[n.length-3];a.push({path:\"/...\",fullPath:\"/\"+n.slice(0,n.length-2).join(\"/\")});var s=n[n.length-2];a.push({path:\"/\"+s,fullPath:\"/\"+n.slice(0,n.length-1).join(\"/\")})}else if(n.length>2){var s=n[n.length-2];a.push({path:\"/\"+s,fullPath:\"/\"+n.slice(0,n.length-1).join(\"/\")})}}var u=(n.length>1?\"/\":\"\")+n[n.length-1];return c.default.createElement(\"span\",{className:y.default.breadcrums},a.map(function(t,n){return c.default.createElement(E.Link,{key:n,to:t.fullPath,onClick:function(t){e&&t.preventDefault()}},t.path)}),c.default.createElement(\"strong\",null,u))}},{key:\"renderDocuments\",value:function(){if(!(this.props.files.length<=0)){var e=this.props,t=e.history,n=e.viewMode,a=e.files,r=e.folder,s=e.onSelect;return c.default.createElement(T.default,{view:n,onClickItem:function(e){var n=void 0;n=(0,h.isDirectory)(e)?(0,h.createFakePath)(e.path):(0,h.createFakePath)(r.path+\"/\"+e.name),t.push(n)},onSelectItem:function(e){return s(e)}},a)}}},{key:\"renderData\",value:function(){if(this.state.doctype){var e=this.props,t=e.history,n=e.viewMode,a=e.data,r=e.onSelectData,s=(0,z.getInfosFromPath)(this.props.path).slug;return c.default.createElement(D.default,{view:n,onClickItem:function(e){t.push(\"/data/\"+s+\"/\"+e._id)},onSelectItem:function(e){return r(e)}},a)}}},{key:\"renderError\",value:function(){return c.default.createElement(\"div\",null,c.default.createElement(\"h3\",null,\"Error\"),c.default.createElement(\"p\",null,\"Essayer plus trad\"))}},{key:\"render\",value:function(){var e=this,t=this.props,n=(t.files,t.folder,t.fileCount),a=t.status,s=t.selectedCount,u=t.dataStatus,o=t.dataCount,l=t.selectedDataCount,i=a===q.STATUS_LOAD||u===q.STATUS_LOAD,d=!i&&0===n&&this.state.doctype&&0===o,m=null;m=this.state.renaming?c.default.createElement(U.default,{name:this.state.renaming.name,onRename:function(t){return e.rename(t)},onCancel:function(){return e.setState({renaming:!1})}}):this.createBreadcrums(i);var E=c.default.createElement(\"button\",{disabled:i,onClick:function(){return e.openImporter()},className:(0,f.default)(b.default.button,b.default.default),title:\"Importer\"},c.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),c.default.createElement(\"span\",{className:b.default.text},\"AJOUTER\")),h=c.default.createElement(N.default,{disabled:i},c.default.createElement(\"ul\",null,c.default.createElement(\"li\",{onClick:function(){e.props.onChangeViewMode()}},this.props.viewMode===q.VIEW_LIST?c.default.createElement(\"i\",{className:\"ion-grid\"},\"VUE GRILLE\"):c.default.createElement(\"i\",{className:\"ion-navicon\"},\"VUE LISTE\")),c.default.createElement(\"li\",{onClick:function(){(0,Y.default)(c.default.createElement(G.default,null)).then(function(t){return e.props.onNewFolder(t)}).catch(function(e){})}},c.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"},\"NOUVEAU DOSSIER\")),c.default.createElement(\"li\",{onClick:function(){e.props.onDownloadAll(e.props.files.slice(0))}},c.default.createElement(\"i\",{className:\"ion-ios-cloud-download-outline\"},\"TOUT TELECHARGER\")))),v=!0,y=!0,_=!0,g=!0,S=this.props.files.filter(function(e){return e.selected}),O=!1;(s>0||l>0)&&((O=K(S,J))||(v=!1)),s>0&&(y=!1,O||(_=!1,1===s&&(g=!1)));var T=c.default.createElement(\"button\",{disabled:v,onClick:function(){return e.remove()},className:(0,f.default)(b.default.button,b.default.assertive,r({},b.default.disabled,v)),title:\"Supprimer\"},c.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),c.default.createElement(\"span\",{className:b.default.text},\"SUPPRIMER\")),x=c.default.createElement(\"button\",{disabled:y,onClick:function(){return e.download()},className:(0,f.default)(b.default.button,b.default.stable,r({},b.default.disabled,y)),title:\"Télécharger\"},c.default.createElement(\"i\",{className:\"ion-ios-cloud-download-outline\"}),c.default.createElement(\"span\",{className:b.default.text},\"TELECHARGER\")),D=c.default.createElement(\"button\",{disabled:_,onClick:function(){return e.openMover()},className:(0,f.default)(b.default.button,b.default.stable,r({},b.default.disabled,_)),title:\"Déplacer\"},c.default.createElement(\"i\",{className:\"ion-ios-browsers-outline\"}),c.default.createElement(\"span\",{className:b.default.text},\"DEPLACER\")),k=c.default.createElement(\"button\",{disabled:g,className:(0,f.default)(b.default.button,b.default.stable,r({},b.default.disabled,g)),onClick:function(){return e.setState({renaming:S.pop()})},title:\"Renommer\"},c.default.createElement(\"i\",{className:\"ion-ios-compose-outline\"}),c.default.createElement(\"span\",{className:b.default.text},\"RENOMMER\")),R=c.default.createElement(\"select\",{defaultValue:this.props.filter,onChange:function(t){return e.props.onChangeFilter(t.target.value)}},c.default.createElement(\"option\",{value:q.SORT_DATE},\"TRIER PAR DATE\"),c.default.createElement(\"option\",{value:q.SORT_NAME},\"TRIER PAR NOM\")),j=[k,D,x,T,E,h],L=n;this.state.doctype&&(L+=o);var M=void 0,F=void 0,z=void 0;i||(this.props.status!==q.STATUS_ERROR&&this.props.dataStatus!==q.STATUS_ERROR?(M=this.renderDocuments(),F=this.renderData()):z=this.renderError());var V=L+\" élément\"+(L>1?\"s\":\"\");return c.default.createElement(C.default,{title:m,subtitle:!i&&V,actions:j,onBackPress:this.props.match.params.path&&!i&&function(){return e.props.history.goBack()},options:[R]},c.default.createElement(A.default,{display:i}),d&&\"Dossier vide\",F,M,z,c.default.createElement(p.default,{closeOnEsc:!0,isOpened:this.state.importerOpen,onClose:function(){return e.setState({importerOpen:!1})}},c.default.createElement(w.default,null,c.default.createElement(P.default,null))),c.default.createElement(p.default,{closeOnEsc:!0,isOpened:this.state.moveModalOpen,onClose:function(){return e.setState({moveModalOpen:!1})}},c.default.createElement(w.default,null,c.default.createElement(I.default,{onSelect:function(t){return e.move(t)},hideFiles:!0}))))}}]),t}(i.Component);t.default=Z},\"./src/components/elements/Footer.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getMeta=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./src/styles/Footer.sass\"),f=a(d),m=n(\"./src/constants/index.js\"),p=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={actors:null},a}return o(t,e),l(t,[{key:\"componentWillMount\",value:function(){var e=this;E(m.DOCTYPE_META).then(function(t){e.setState({actor:t.map(function(e){return e.actor}).shift()})})}},{key:\"render\",value:function(){return c.default.createElement(\"footer\",{className:f.default.main},c.default.createElement(\"div\",{className:f.default.content},c.default.createElement(\"span\",null,\"HOMEBOOK est un service proposé par \"),c.default.createElement(\"img\",{src:\"/images/logo.edf.png\",alt:\"logo_edf\"}),this.state.actor&&c.default.createElement(\"span\",null,\" pour \"),this.state.actor&&c.default.createElement(\"img\",{src:\"/images/logo.\"+this.state.actor+\".png\",alt:\"logo \"+this.state.actor}),c.default.createElement(\"br\",null),c.default.createElement(\"span\",null,\"V\",\"2.4.6\")))}}]),t}(i.Component);t.default=p;var E=t.getMeta=function(){var e=r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cozy.client.data.defineIndex(m.DOCTYPE_META,[\"name\"]);case 3:return t=e.sent,n=cozy.client.data.query(t,{selector:{name:\"actors\"}}),e.abrupt(\"return\",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt(\"return\",[]);case 11:case\"end\":return e.stop()}},e,void 0,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},\"./src/components/elements/Help.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.Help=void 0;var s=n(\"./node_modules/react/react.js\"),u=a(s),o=n(\"./node_modules/classnames/index.js\"),l=(a(o),n(\"./node_modules/react-bootstrap/lib/Accordion.js\")),i=a(l),c=n(\"./node_modules/react-bootstrap/lib/Panel.js\"),d=a(c),f=n(\"./src/styles/help.sass\"),m=a(f),p=n(\"./src/components/elements/Page.jsx\"),E=a(p),h=t.Help=function(e){return u.default.createElement(E.default,{title:\"Aide\"},u.default.createElement(\"h3\",null,\"Besoin d’aide ?\"),u.default.createElement(\"p\",null,\"Si vous avez besoin d’aide, envoyer un message à \",u.default.createElement(\"a\",{href:\"mailto:retd-sav-homebook@edf.fr\"},\"retd-sav-homebook@edf.fr\"),\".\"),u.default.createElement(\"br\",null),u.default.createElement(\"h3\",null,\"Questions fréquemment posées\"),u.default.createElement(i.default,null,u.default.createElement(d.default,r({header:\"Mon logement\",eventKey:\"2\",className:m.default.tab},\"className\",m.default.tab),u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment ajouter des documents ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Pour ajouter des documents dans votre homebook, cliquer sur le dossier dans le homebook dans lequel vous souhaitez rajouter un document et utiliser le bouton en haut à droite « + Ajouter » puis sélectionner le document sur votre ordinateur.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Par défaut le document est ajouté au niveau du dossier dans lequel vous étiez à la suite des autres documents et/ou dossiers.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Visualiser / télécharger un document :\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Sélectionner le document à visualiser en cochant la case à gauche puis cliquez sur « Télécharger ». Une nouvelle fenêtre s’ouvre dans laquelle vous pouvez visualiser le document, l’imprimer ou le télécharger sur votre ordinateur.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Renommer un document :\"),u.default.createElement(\"p\",null,\"Sélectionner le document à visualiser en cochant la case à gauche puis cliquez sur « Renommer ». Une nouvelle fenêtre s’ouvre dans laquelle vous pouvez modifier le nom.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Deplacer un document :\"),u.default.createElement(\"p\",null,\"Sélectionner le document à visualiser en cochant la case à gauche puis cliquez sur « Déplacer ». Une nouvelle fenêtre s’ouvre dans laquelle vous pouvez choisir le répertoire d’arrivée du fichier.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Je ne trouve pas le document que j’ai ajouté ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Par défaut le document est ajouté au niveau du dossier dans lequel vous étiez à la suite des autres documents et/ou dossiers. Il est peut être à la fin.\"),u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Je ne trouve toujours pas votre document ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Vérifiez que vous avez bien ajouté votre document depuis l’application Homebook. Si ce n’est pas le cas, rendez-vous dans l’application « Cozy Drive » où vous retrouverez l’intégralité de tous vos documents en navigant dans les différents dossiers.\")))),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Ajouter un document : quelle différence entre « Homebook » et « Cozy Drive » ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Homebook : est l’endroit dédié à privilégier pour les documents et données liés à votre logement afin de bénéficier de fonctionnalités supplémentaires.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Cozy Drive :  c’est le navigateur de fichiers uniquement (pas les données) qui vous permet de gérer l’ensemble de vos fichiers qu’ils soient dans votre homebook ou non mais qui ne présente pas de fonctionnalités avancées pour vous aider à gérer votre logement.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment sont classés les documents ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Dans Homebook, vous disposez de 6 répertoires prédéfinis (Diagnostics, Documents de propriété, Équipements, Travaux, Entretiens et Usages) selon les documents importants à garder pour votre logement. Vous pouvez ajouter vos propres répertoires.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Par défauts les documents sont classés par ordre alphabétique.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"A quoi correspond « dernière modification » ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Cette information correspond à la dernière modification du dossier ou du fichier correspondant.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment créer un dossier ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"div\",{className:\"pull-left\"},u.default.createElement(\"img\",{src:\"images/add_folder.png\"})),u.default.createElement(\"div\",{className:\"pull-left\"},\"Cliquez sur le bouton « … » en haut à droite puis sur « Nouveau dossier ».\"),u.default.createElement(\"div\",{className:\"clearfix\"})),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Quels documents ajouter ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\" L’onglet : « Remplir son carnet » est un outil pour vous faciliter la collecte de documents possibles concernant votre logement. Il vous permet d’évaluer la liste des documents et données à mettre au sein du homebook.\"),u.default.createElement(\"p\",null,\"Pensez à collecter tous les documents qui ont un lien avec le logement.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"On peut esquisser 6 catégories :\"),u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"Documents contractuels de propriétés : il s’agit ici des plans, des documents notariaux, etc..\"),u.default.createElement(\"li\",null,\"Documents concernant les équipements : il s’agit ici des caractéristiques et documents concernant par exemple, la climatisation, vos équipements de cuisine, etc…\"),u.default.createElement(\"li\",null,\"Documents concernant les travaux : il s’agit ici des devis, factures, caractéristiques, des travaux effectués dans votre logement (fenêtre, douche,…)\"),u.default.createElement(\"li\",null,\"Documents concernant les entretiens : il s’agit ici des devis, factures, caractéristiques, des entretiens effectués dans votre logement\"),u.default.createElement(\"li\",null,\"Documents concernant les diagnostics : il s’agit ici des documents type diagnostique thermique, analyse fuite d’eau, etc…\"),u.default.createElement(\"li\",null,\"Document privés, autres : il s’agit ici par exemple de vos contrats et factures, d’eau, de téléphone, d’électricité, en lien avec votre logement\")))),u.default.createElement(i.default,null,u.default.createElement(d.default,r({header:\"DURÉE DE CONSERVATION DES DOCUMENTS DE VOTRE LOGEMENT\",eventKey:\"1\",className:m.default.tab},\"className\",m.default.tab),u.default.createElement(\"table\",{className:\"table\"},u.default.createElement(\"thead\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"th\",null,\"Type de document\"),u.default.createElement(\"th\",null,\"Durée de conservation\"),u.default.createElement(\"th\",null,\"Précisions\"))),u.default.createElement(\"tbody\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Factures d'électricité et de gaz\"),u.default.createElement(\"td\",null,\"5 ans\"),u.default.createElement(\"td\",null,\"Délai pour contester une facture.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Votre fournisseur a 2 ans pour réclamer un paiement.\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Factures d'eau\"),u.default.createElement(\"td\",null,\"5 ans\"),u.default.createElement(\"td\",null,\"Délai pour contester une facture.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Pour réclamer un paiement, votre fournisseur a :\",u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"4 ans (fournisseur public),\"),u.default.createElement(\"li\",null,\"2 ans (fournisseur privé).\")))),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Factures de téléphonie (fixe et mobile) et internet\"),u.default.createElement(\"td\",null,\"1 an\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Preuve de restitution de matériel (box)\"),u.default.createElement(\"td\",null,\"2 ans (à compter de la restitution)\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Factures liées aux travaux\"),u.default.createElement(\"td\",null,\"10 ans ou 2 ans selon la nature des travaux\"),u.default.createElement(\"td\",null,u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"Gros-œuvre : 10 ans\"),u.default.createElement(\"li\",null,\"Petits travaux (fenêtres par exemple) : 2 ans\")))),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Certificats de ramonage\"),u.default.createElement(\"td\",null,\"1 an\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Attestations d'entretien annuel des \",u.default.createElement(\"a\",{href:\"https://www.service-public.fr/particuliers/vosdroits/F20760\",target:\"_blank\"},\"chaudières\"),\"  \"),u.default.createElement(\"td\",null,\"2 ans\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Titre de propriété\"),u.default.createElement(\"td\",null,\"Permanente\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Preuve du paiement des charges de copropriété, correspondances avec le \",u.default.createElement(\"a\",{href:\"https://www.service-public.fr/particuliers/glossaire/R12430\",target:\"_blank\"},\"syndic\"),\", procès verbaux des assemblées générales de copropriété...\"),u.default.createElement(\"td\",null,\"10 ans\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Contrat de location, état des lieux, quittances de loyer\"),u.default.createElement(\"td\",null,\"Durée de la location + 3 ans\"),u.default.createElement(\"td\",null,\"Ces délais s'appliquent aux logements loués comme résidence principale (vides ou meublés).\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Courrier de \",u.default.createElement(\"a\",{href:\"https://www.service-public.fr/particuliers/vosdroits/F1311\",target:\"_blank\"},\"révision de loyer\")),u.default.createElement(\"td\",null,\"Durée de la location + 1 an\"),u.default.createElement(\"td\",null,\"Ce délai s'applique aux logements loués à titre de résidence principale (vides ou meublés).\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Inventaire du mobilier pour les locations meublées\"),u.default.createElement(\"td\",null,\"Durée de la location\"),u.default.createElement(\"td\",null,\"Jusqu'à la restitution de l'éventuel dépôt de garantie\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Échéance APL\"),u.default.createElement(\"td\",null,\"2 ans\"),u.default.createElement(\"td\",null))))),u.default.createElement(d.default,{header:\"DIAGNOSTICS OBLIGATOIRES EN CAS DE VENTE OU LOCATION\",eventKey:\"2\",className:m.default.tab},u.default.createElement(\"p\",null,\"Diagnostiques obligatoires en cas de vente ou location.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Les diagnostics immobiliers visent à informer l'acquéreur ou le locataire sur certains aspects du logement qu'il projette d'acheter ou de louer.\"),u.default.createElement(\"table\",{className:\"table\"},u.default.createElement(\"thead\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"th\",null,\"Type de document\"),u.default.createElement(\"th\",null,\"Durée de conservation\"),u.default.createElement(\"th\",null,\"Précisions\"))),u.default.createElement(\"tbody\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,u.default.createElement(\"b\",null,\"DPE\"),u.default.createElement(\"br\",null),\"Diagnostic de perfomance Énergétique\"),u.default.createElement(\"td\",null,\"Le DPE est valable 10 ans.\"),u.default.createElement(\"td\",null,\"Tout immeuble bâti à l'exception de ceux destinés à un bail rural ou à une location saisonnière.\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,u.default.createElement(\"b\",null,\"Superficie habitable\"),u.default.createElement(\"br\",null),\"Loi Boutin\"),u.default.createElement(\"td\",null,\"Aucune limite de validité sans modification de la surface\"),u.default.createElement(\"td\",null,\"Tous les logements\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,u.default.createElement(\"b\",null,\"ERNMT\"),u.default.createElement(\"br\",null),\"État des Risques Naturels, Miniers et Technologiques\"),u.default.createElement(\"td\",null,\"6 mois\"),u.default.createElement(\"td\",null,\"Tout bailleur a le devoir d'avertir les locataires de tout logement de l'existence des risques auxquels ce dernier est exposé\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,u.default.createElement(\"b\",null,\"PLOMB (CREP)\"),u.default.createElement(\"br\",null),\"Constat de Risque d'Exposition au Plomb\"),u.default.createElement(\"td\",null,\"Aucune limite de validité si absence de plomb 6 ans sinon\"),u.default.createElement(\"td\",null,\"Bien immoblier à usage d'habitation et construit avant le 01/01/1949\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,u.default.createElement(\"b\",null,\"AMIANTE (DAPP)\"),u.default.createElement(\"br\",null),\"Dossier Amiante Parties Privatives\"),u.default.createElement(\"td\",null,\"Aucune limite de validité si négatif. Préconisations à suivre dans le cas contraire.\"),u.default.createElement(\"td\",null,\"Logement à usage d'habitation et construit avant le 01/07/1997\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,u.default.createElement(\"b\",null,\"Diagnostic Electricité:\"),u.default.createElement(\"br\",null),\"état de l'installation intérieure d'électricité\"),u.default.createElement(\"td\",null,\"3 ans\"),u.default.createElement(\"td\",null,\"Les logements concernés sont ceux :\",u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"dont l'installation du gaz a plus de 15 ans,\"),u.default.createElement(\"li\",null,\"ou dont le dernier certificat de conformité date de plus de 15 ans.\")))),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"état de l'installation d'assainissement non collectif\"),u.default.createElement(\"td\",null,\"Le diagnostic doit dater de moins de 3 ans au moment de la signature de la promesse de vente ou de l'acte de vente.\"),u.default.createElement(\"td\",null,\"L'obligation de faire réaliser un état de l'installation concerne les maisons et immeubles non raccordés :\",u.default.createElement(\"br\",null),u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"soit parce qu'il n'existe pas encore de réseau de collecte des eaux usées,\"),u.default.createElement(\"li\",null,\"soit parce que le réseau ne peut pas se faire pour des raisons techniques.\"))))))),u.default.createElement(d.default,{header:\"IMPOTS ET TAXES\",eventKey:\"3\",className:m.default.tab},u.default.createElement(\"table\",{className:\"table\"},u.default.createElement(\"thead\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"th\",null,\"Type de document\"),u.default.createElement(\"th\",null,\"Durée de conservation\"),u.default.createElement(\"th\",null,\"Précisions\"))),u.default.createElement(\"tbody\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Déclarations de revenus et avis d'imposition sur le revenu\"),u.default.createElement(\"td\",null,\"3 ans (droit de reprise de l'administration)\"),u.default.createElement(\"td\",null,\"À partir de l'année qui suit l'année d'imposition\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"(exemple : déclaration 2013 à conserver jusqu'à la fin 2016)\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Avis d'impôts locaux (taxe foncière, taxe d'habitation)\"),u.default.createElement(\"td\",null,\"1 an (droit de reprise de l'administration)\"),u.default.createElement(\"td\",null,\"3 ans en cas de dégrèvement, exonération ou abattement\"))))),u.default.createElement(d.default,{header:\"ASSURANCE\",eventKey:\"4\",className:m.default.tab},u.default.createElement(\"table\",{className:\"table\"},u.default.createElement(\"thead\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"th\",null,\"Type de document\"),u.default.createElement(\"th\",null,\"Durée de conservation\"),u.default.createElement(\"th\",null,\"Précisions\"))),u.default.createElement(\"tbody\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Quittances, avis d'échéance, courriers de résiliation, preuves du règlement\"),u.default.createElement(\"td\",null,\"Date du document + 2 ans\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Contrat\"),u.default.createElement(\"td\",null,\"Durée du contrat + 2 ans\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Relevé d'information automobile\"),u.default.createElement(\"td\",null,\"Permanente\"),u.default.createElement(\"td\",null)),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,u.default.createElement(\"a\",{href:\"https://www.service-public.fr/particuliers/vosdroits/F15337\",target:\"_blank\"},\"Assurance-vie\")),u.default.createElement(\"td\",null,\"10 ans\"),u.default.createElement(\"td\",null,\"Ce délai s'applique dès que vous avez connaissance du contrat en tant que bénéficiaire de l'assurance-vie.\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Dommages corporels\"),u.default.createElement(\"td\",null,\"10 ans\"),u.default.createElement(\"td\",null))))),u.default.createElement(d.default,{header:\"BANQUE\",eventKey:\"5\",className:m.default.tab},u.default.createElement(\"table\",{className:\"table\"},u.default.createElement(\"thead\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"th\",null,\"Type de document\"),u.default.createElement(\"th\",null,\"Durée de conservation\"),u.default.createElement(\"th\",null,\"Précisions\"))),u.default.createElement(\"tbody\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Chèques à encaisser\"),u.default.createElement(\"td\",null,\"1 an et 8 jours\"),u.default.createElement(\"td\",null,\"Passé ce délai, le chèque ne peut plus être encaissé mais la dette reste due.\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Contrat de prêt (immobilier et consommation) et autres justificatifs\"),u.default.createElement(\"td\",null,\"2 ans\"),u.default.createElement(\"td\",null,\"À partir de la dernière échéance\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Relevés de compte, talons de chèque\"),u.default.createElement(\"td\",null,\"5 ans\"),u.default.createElement(\"td\",null,\"Un débit frauduleux peut être contesté dans un délai maximum de 18 mois.\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Convention de compte bancaire\"),u.default.createElement(\"td\",null,\"Durée d'ouverture du compte\"),u.default.createElement(\"td\",null))))),u.default.createElement(d.default,{header:\"VEHICULE\",eventKey:\"6\",className:m.default.tab},u.default.createElement(\"table\",{className:\"table\"},u.default.createElement(\"thead\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"th\",null,\"Type de document\"),u.default.createElement(\"th\",null,\"Durée de conservation\"),u.default.createElement(\"th\",null,\"Précisions\"))),u.default.createElement(\"tbody\",null,u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"PV pour \",u.default.createElement(\"a\",{href:\"https://www.service-public.fr/particuliers/vosdroits/F18509\",target:\"_blank\"},\"amende forfaitaire\")),u.default.createElement(\"td\",null,\"3 ans\"),u.default.createElement(\"td\",null,\"Si le Trésor public n'a rien fait pour obtenir le paiement de l'amende 3 ans après sa notification, vous ne devez plus rien.\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Factures (achat, réparation...)\"),u.default.createElement(\"td\",null,\"Durée de conservation du véhicule\"),u.default.createElement(\"td\",null,\"+ 2 ans en cas de revente (\",u.default.createElement(\"a\",{href:\"https://www.service-public.fr/particuliers/vosdroits/F11007\",target:\"_blank\"},\"vice caché\"),\")\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Certificat d'examen du permis de conduire\"),u.default.createElement(\"td\",null,\"4 mois\"),u.default.createElement(\"td\",null,\"+ jusqu'à réception du permis\")),u.default.createElement(\"tr\",null,u.default.createElement(\"td\",null,\"Certificat de cession du véhicule\"),u.default.createElement(\"td\",null,\"Durée de conservation du véhicule\"),u.default.createElement(\"td\",null,\"Il peut être utile de conserver ce certificat après la vente du véhicule, en cas de litige avec l'ancien propriétaire.\")))))),u.default.createElement(\"div\",null,u.default.createElement(\"p\",null,\"Source : \",u.default.createElement(\"a\",{href:\"https://www.service-public.fr/particuliers/vosdroits/F19134\",target:\"_blank\"},\"https://www.service-public.fr/particuliers/vosdroits/F19134\")),u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Mes documents ne sont pas sous format numérique, comment faire ?\"),u.default.createElement(\"br\",null),\"Vous avez la possibilité :\",u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"prendre une photo avec un téléphone mobile ou une tablette, en s’attachant à obtenir un document net.\"),u.default.createElement(\"li\",null,\"scanner le document au format .pdf\")),u.default.createElement(\"p\",null,\"La meilleure solution reste de scanner vos documents en .pdf, ce qui permettra éventuellement d’en extraire des informations automatiquement.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"N’oubliez pas rajouter ensuite vos documents ou images dans votre homebook.\"))))),u.default.createElement(d.default,{header:\"Mes données\",eventKey:\"3\",className:m.default.tab},u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Quelle est la différence entre documents et données ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Les documents sont des fichiers qui sont présents dans votre homebook. Ils peuvent avoir différents formats (.pdf, .Jpg, .doc, …).\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Les données correspondent à des informations sur votre logements, extraites ou non des documents présents dans votre homebook ou fournies lors de questionnaires. Les données brutes sont des données dans leur forme la plus simple, à savoir par exemple un nombre(comme la superficie du pièce), un ou plusieurs mots(comme un propriétaire), exempt de tout traitement final(mise en document PDF, image etc).\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment saisir / modifier des données ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Dans l’ onglet « remplir son carnet » on dispose au début de quelques éléments pour renter des données :\",u.default.createElement(\"br\",null),\"- Ajouter un diagnostic\",u.default.createElement(\"br\",null),\"- Ajouter un équipement\",u.default.createElement(\"br\",null),\"- Ajouter une donnée de propriété\",u.default.createElement(\"br\",null),\"- Ajouter un entretien\",u.default.createElement(\"br\",null),\"- Ajouter des travaux\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"A chaque fiche correspond quelques questions qui vont permettre de caractériser la donnée qui sera positionnée dans le répertoire correspondant.Dans la page, cliquez sur « Ajouter» à droite pour rentrer les données en les tapants dans les champs correspondants.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment ajouter un nouveau jeu de données ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"div\",{className:\"pull-left\"},\"Dans l’onglet « remplir mon carnet » (par exemple ici « Diagnostics »), cliquez sur le bouton en haut à droite « Ajouter un diagnostic ».\"),u.default.createElement(\"div\",{className:\"pull-left\"},u.default.createElement(\"img\",{src:\"images/add_diagnostic.png\"})),u.default.createElement(\"div\",{className:\"clearfix\"})),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"A quoi servent les données ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Les données sont utilisées dans pour effectuer des recherche via la barre de recherche mais aussi pour vous proposer des services personnalisés spécifiques : exemples : notifications, rappels adaptés à l’entretien de votre logement, conseils…\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Qui utilisent mes données ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"A aucun moment vos données ne sortent de votre espace personnel. Vos données ne peuvent être utilisées par une autre application de l’espace Cozy que sous votre autorisation.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Pour plus d’information, vous pouvez vous référer à la convention d’expérimentation que vous avez signée.\")))),u.default.createElement(d.default,{header:\"Equipements\",eventKey:\"5\",className:m.default.tab},u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Quels équipements ajouter ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Pensez à ajouter les équipements clés de votre logement. Il n’y a pas de limite dans le nombre d’équipements que vous pouvez rajouter.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Nous vous conseillons d’ajouter vos équipements : (vous trouverez une liste en proposition dans « remplir mon carnet : ajouter un équipement »)\"),u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"Ventilation (ventilation naturelle, VMC, VMC gaz)\"),u.default.createElement(\"li\",null,\"Eau chaude sanitaire (ballon d’accumulation électrique, eau chaude sanitaire thermodynamique, gaz, solaire)\"),u.default.createElement(\"li\",null,\"Chauffage (électricité, gaz, autre combustible)\"),u.default.createElement(\"li\",null,\"Autre installations liées à l’énergie (installation photovoltaïque, batterie)\"),u.default.createElement(\"li\",null,\"Gros électroménager : machine à laver, four, frigo, lave-linge, sèche-linge, lave-vaisselle…\"),u.default.createElement(\"li\",null,\"Petit électroménager : télévision, chaîne hi-fi, aspirateur,…\"))),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Pourquoi rajouter un équipement ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Pour capitaliser les informations en cas de panne, dysfonctionnement, travaux. Faciliter la récupération des notices et le suivi des garanties.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment ajouter un équipement ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Dans l’onglet « remplir mon carnet », dans la ligne « Equipements » puis à droite « Ajouter un équipement ».\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Quels documents ajouter avec mes équipements ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Pensez à ajouter les devis/factures, documents liés à l’entretien.\")))),u.default.createElement(d.default,{header:\"Applications\",eventKey:\"6\",className:m.default.tab},u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"A quoi correspond le bouton « Applications » ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Votre Homebook est intégré dans un environnement sécurisé de stockage Cozy Cloud. Cozy Cloud permet d’ajouter d’autres applications pour vous faciliter la vie.\",u.default.createElement(\"br\",null),u.default.createElement(\"br\",null),\"Parmi elles vous trouverez :\"),u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,\"Cozy Collect : cette application vous aidera à lier votre compte facilement à d’autres services pour récupérer automatiquement les documents, comme par exemple vos factures d’énergie, vos documents d’assurance, santé, banque…\"),u.default.createElement(\"li\",null,\"Cozy Drive : vous permet de gérer tous vos documents (qu’ils soient dans homebook ou non)\"),u.default.createElement(\"li\",null,\"EDF : si vous êtes client EDF, cette application vous permet de retrouver directement toutes les informations liées à votre consommation énergétique et factures.\"),u.default.createElement(\"li\",null,\"Homebook : pour vous aider à mieux gérer votre logement\"),u.default.createElement(\"li\",null,\"Photos : pour ajouter facilement des photos\"))))),u.default.createElement(d.default,{header:\"Rappels\",eventKey:\"8\",className:m.default.tab},u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"A quoi servent les rappels ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Vous avez la possibilité de vous créer des rappels pour ne pas oublier certaines échéances importantes comme l’entretien annuel de votre chaudière (si vous êtes concerné). Une fois programmé, votre homebook vous enverra automatique une notification à la date prévue.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment programmer un rappel ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Aller dans l’onglet « Rappels » puis en haut à droite, cliquer sur le bouton « Ajouter un rappel » et se laisser guider par l’interface.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Est-ce que je peux synchroniser mon calendrier perso avec mes rappels homebook ?\"),u.default.createElement(\"p\",null,\"Non, malheureusement il n’est pas encore possible de le faire, mais nous y travaillons pour vous simplifier d’avantage la vie.\")))),u.default.createElement(d.default,{header:\"Contacts\",eventKey:\"9\",className:m.default.tab},u.default.createElement(\"ul\",null,u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"A quoi servent les contacts ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Les contacts vous permettent de garder en mémoire les contacts importants liés à votre logement pour les avoir sous la main à tout moment.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment ajouter un contact ?\"),u.default.createElement(\"br\",null),u.default.createElement(\"p\",null,\"Aller dans l’onglet « Contact », puis cliquer sur le bouton « Ajouter un contact » en haut à droite.\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Comment modifier un contact ?\"),u.default.createElement(\"p\",null,\"Cliquez sur un contact, puis sur « modifier ». Une fois fini cliquer sur « Enregistrer ».\")),u.default.createElement(\"li\",null,u.default.createElement(\"h3\",null,\"Est-ce que je peux synchroniser mon annuaire perso avec mes contacts homebook ?\"),u.default.createElement(\"p\",null,\"Non, malheureusement il n’est pas encore possible de le faire, mais nous y travaillons pour vous simplifier d’avantage la vie.\"))))))};t.default=h},\"./src/components/elements/Loader.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.Loader=void 0;var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./src/styles/Loader.sass\"),o=a(u),l=t.Loader=function(e){var t=e.display;return void 0===t&&(t=!0),t?s.default.createElement(\"div\",{className:o.default.loader},s.default.createElement(\"img\",{src:\"/images/progress.gif\",alt:\"\"})):null};t.default=l},\"./src/components/elements/Main.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.Main=void 0;var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./src/styles/Main.sass\"),o=a(u),l=t.Main=function(e){var t=e.children;return s.default.createElement(\"main\",{className:o.default.main},t)};t.default=l},\"./src/components/elements/Navigation.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.CustomLink=t.Navigation=void 0;var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./src/styles/Navigation.sass\"),o=a(u),l=n(\"./node_modules/react-router-dom/es/index.js\"),i=n(\"./node_modules/classnames/index.js\"),c=(a(i),t.Navigation=function(e){return s.default.createElement(\"nav\",{className:o.default.main},s.default.createElement(\"div\",{className:o.default.nav},s.default.createElement(\"ul\",{className:o.default.list},s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/accueil\",activeClassName:o.default.active,title:\"Accueil\"},s.default.createElement(\"i\",{className:\"ion-ios-speedometer-outline\"}),\"Accueil\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/Documents\",activeClassName:o.default.active,title:\"Mon logement\"},s.default.createElement(\"i\",{className:\"ion-ios-home\"}),\"Mon logement\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/contacts\",activeClassName:o.default.active,title:\"Contacts\"},s.default.createElement(\"i\",{className:\"ion-ios-bookmarks-outline\"}),\"Contacts\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/rappels\",activeClassName:o.default.active,title:\"Rappels\"},s.default.createElement(\"i\",{className:\"ion-ios-checkmark-outline\"}),\"Rappels\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/corbeille\",activeClassName:o.default.active,title:\"Corbeille\"},s.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),\"Corbeille\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/assistant\",activeClassName:o.default.active,title:\"Remplir son carnet\"},s.default.createElement(\"i\",{className:\"ion-ios-information-outline\"}),\"Remplir mon carnet\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/du-nouveau\",activeClassName:o.default.active,title:\"Du nouveau dans mon logement\"},s.default.createElement(\"i\",{className:\"ion-ios-chatboxes-outline\"}),\"Du nouveau dans mon logement\")))),s.default.createElement(\"div\",{className:o.default.other},s.default.createElement(\"ul\",{className:o.default.list},s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/actualites\",activeClassName:o.default.active,title:\"Actualités\"},\"Actualités\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/preferences\",activeClassName:o.default.active,title:\"Préférences\"},\"Préférences\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/aide\",activeClassName:o.default.active,title:\"Aide\"},\"Aide\")),s.default.createElement(\"li\",{className:o.default.button},s.default.createElement(f,{to:\"/a-propos\",activeClassName:o.default.active,title:\"À propos\"},\"À propos\")))))}),d=t.CustomLink=function(e){var t=function(t){t.preventDefault(),e.onClick&&e.onClick(),e.history.push(e.to)},n=(e.router,e.location),a=e.to,r=e.activeClassName,u=e.children,o=e.title,l=0===n.pathname.indexOf(a);return s.default.createElement(\"a\",{className:l&&r,onClick:function(e){return t(e)},title:o},u)},f=(0,l.withRouter)(d);t.default=c},\"./src/components/elements/News.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./node_modules/moment/moment.js\"),m=a(f),p=n(\"./node_modules/react-bootstrap/lib/Accordion.js\"),E=(a(p),n(\"./node_modules/react-bootstrap/lib/Panel.js\")),h=a(E),v=n(\"./src/styles/buttons.scss\"),y=a(v),_=n(\"./src/styles/help.sass\"),b=a(_),g=n(\"./src/components/elements/Page.jsx\"),C=a(g),S=n(\"./src/components/elements/Loader.jsx\"),A=a(S),O=n(\"./src/constants/index.js\"),T=function(e){function t(e,n){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return u(t,e),o(t,[{key:\"componentWillMount\",value:function(){this.reload()}},{key:\"componentWillReceiveProps\",value:function(e){}},{key:\"reload\",value:function(){this.props.onLoadNews()}},{key:\"createHeader\",value:function(e){return i.default.createElement(\"span\",{className:b.default.header},i.default.createElement(\"h3\",{className:b.default.title},e.title||\"Notification\"),i.default.createElement(\"span\",null,i.default.createElement(\"span\",null,e.category&&e.category.name),i.default.createElement(\"span\",null,\" • \"),i.default.createElement(\"span\",null,(0,m.default)(e.createdAt).format(\"LL\"))))}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.news,a=t.count,r=t.status,s=r===O.STATUS_LOAD,u=i.default.createElement(\"button\",{onClick:function(){return e.reload()},className:(0,d.default)(y.default.button,y.default.default)},i.default.createElement(\"i\",{className:\"ion-ios-refresh-outline\"}),\"ACTUALISER\"),o=[u];return i.default.createElement(C.default,{title:\"Actualités\",subtitle:null!==a&&(a>0?a>1?a+\" actualités\":\"1 actualité\":\"Aucune actualité\"),actions:o},i.default.createElement(A.default,{display:s}),i.default.createElement(\"div\",null,!s&&n.length>0&&n.map(function(t,n){return i.default.createElement(h.default,{header:e.createHeader(t),defaultExpanded:!0,collapsible:!0,eventKey:n,className:b.default.tab,key:n},i.default.createElement(\"p\",{dangerouslySetInnerHTML:x(t.content)}))})))}}]),t}(l.Component);t.default=T;var x=function(e){return{__html:e}}},\"./src/components/elements/Onboarding.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./node_modules/classnames/index.js\"),f=a(d),m=n(\"./node_modules/prop-types/index.js\"),p=(a(m),n(\"./src/styles/Onboarding.sass\")),E=a(p),h=n(\"./src/components/elements/Loader.jsx\"),v=a(h),y=n(\"./src/scripts/onboarding.js\"),_=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.onboardingStep=[{title:\"HOMEBOOK\",content:\"Bienvenue dans votre carnet numérique du logement\"},{title:\"Documents\",content:\"Disposez où que vous soyez de tous vos documents\"},{title:\"Données\",content:\"Votre logement et ses équipements, dans les moindres détails !\"},{title:\"Rappels\",content:\"Planifiez vos tâches et entretiens périodiques\"},{title:\"Contacts\",content:\"Accédez aux coordonnées de professionnels pour votre logement\"}],a.state={activeText:a.onboardingStep[0].content,activeTitle:a.onboardingStep[0].title,currentIndex:0,loading:!0},a}return o(t,e),l(t,[{key:\"componentWillMount\",value:function(){var e=this;(0,y.isAlreadyShown)().then(function(t){return t?e.closeOnboarding():(0,y.markAsShown)(!0).then(function(){e.goToStep(0)})})}},{key:\"goToStep\",value:function(e){if(e>4)return this.closeOnboarding();this.setState({activeText:this.onboardingStep[e].content,activeTitle:this.onboardingStep[e].title,currentIndex:e,loading:!1})}},{key:\"closeOnboarding\",value:function(){this.props.history.push(\"/accueil\")}},{key:\"render\",value:function(){var e=this;return c.default.createElement(\"div\",{className:E.default.container},c.default.createElement(v.default,{display:this.state.loading}),!this.state.loading&&c.default.createElement(\"div\",{className:E.default.background},c.default.createElement(\"div\",{className:E.default.panel},c.default.createElement(\"i\",{className:(0,f.default)(\"ion-close\",E.default.close),onClick:function(){return e.closeOnboarding()}}),c.default.createElement(\"img\",{src:\"/images/logo.png\",alt:\"Logo\",className:E.default.logo}),c.default.createElement(\"div\",{className:E.default.sliderTitle},this.state.activeTitle),c.default.createElement(\"div\",{className:E.default.sliderText},this.state.activeText),c.default.createElement(\"button\",{className:E.default.button,onClick:function(){return e.goToStep(e.state.currentIndex+1)}},\"Continuer\"),c.default.createElement(\"ol\",null,this.onboardingStep.map(function(t,n){return c.default.createElement(\"li\",{key:n,className:(0,f.default)(E.default.dot,r({},E.default.active,n===e.state.currentIndex)),onClick:function(){return e.goToStep(n)}})})))))}}]),t}(i.Component);t.default=_},\"./src/components/elements/Page.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.Page=void 0;var s=n(\"./node_modules/react/react.js\"),u=a(s),o=n(\"./src/styles/Page.sass\"),l=a(o),i=n(\"./node_modules/classnames/index.js\"),c=a(i),d=n(\"./src/styles/buttons.scss\"),f=a(d),m=t.Page=function(e){var t=e.children,n=e.actions,a=e.options,s=e.title,o=e.subtitle,i=e.onBackPress,d=e.flex;return u.default.createElement(\"section\",{className:(0,c.default)(l.default.main,r({},l.default.flex,d))},u.default.createElement(\"div\",{className:l.default.header},u.default.createElement(\"div\",{className:l.default.row1},u.default.createElement(\"h1\",{className:l.default.title},s),i&&u.default.createElement(\"button\",{onClick:i,className:(0,c.default)(f.default.button,f.default.stable,l.default.back)},u.default.createElement(\"i\",{className:\"ion-ios-arrow-thin-left\"})),u.default.createElement(\"ul\",{className:l.default.actions},n&&n.map(function(e,t){return u.default.createElement(\"li\",{key:t},e)}))),u.default.createElement(\"div\",{className:l.default.row2},u.default.createElement(\"h2\",{className:l.default.subtitle},o||\" \"),a&&u.default.createElement(\"ul\",{className:l.default.options},a.map(function(e,t){return u.default.createElement(\"li\",{key:t},e)})))),u.default.createElement(\"div\",{className:(0,c.default)(l.default.content,r({},l.default.flex,d))},t))};t.default=m},\"./src/components/elements/Preferences.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./node_modules/classnames/index.js\"),f=a(d),m=n(\"./src/styles/buttons.scss\"),p=a(m),E=n(\"./src/styles/Preferences.sass\"),h=a(E),v=n(\"./src/components/elements/Page.jsx\"),y=a(v),_=n(\"./src/scripts/XMLDataFile.js\"),b=n(\"./src/scripts/ResetHombook.js\"),g=n(\"./src/scripts/onboarding.js\"),C=n(\"./src/tools/index.js\"),S=n(\"./src/constants/index.js\"),A=n(\"./src/components/modals/ConfirmModal.jsx\"),O=a(A),T=n(\"./src/scripts/confirm.js\"),x=a(T),D=c.default.createElement(O.default,null,c.default.createElement(\"p\",null,\"Êtes-vous sûr de vouloir réinitialiser votre Homebook ?\",c.default.createElement(\"br\",null),\"Toutes données sera perdu.\")),k=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={importerDrag:!1,exportLoad:!1,importLoad:!1,resetOnboardingLoad:!1,resetHomebookLoad:!1},a}return o(t,e),l(t,[{key:\"resetOnboarding\",value:function(){var e=this;this.state.resetOnboardingLoad||(this.setState({resetOnboardingLoad:!0}),(0,g.markAsShown)(!1).then(function(){e.setState({resetOnboardingLoad:!1}),e.props.history.push(\"/\")}))}},{key:\"exportHomebook\",value:function(){var e=this;this.state.exportLoad||(this.setState({exportLoad:!0}),(0,_.exportData)().then(function(e){return(0,C.forceFileDownload)(e,\"homebook.zip\")}).then(function(){e.setState({exportLoad:!1})}))}},{key:\"importHomebook\",value:function(e){var t=this;this.state.importLoad||e.name.endsWith(\".zip\")&&(this.setState({importLoad:!0,importerDrag:!1}),console.log(\"Import\",e),(0,_.importData)(e).then(function(){return t.setState({importLoad:!1})}).catch(function(e){console.error(\"Importer\",e),t.props.alert(\"Erreur durant l'importation\",S.ALERT_LEVEL_ERROR),t.setState({importLoad:!1})}))}},{key:\"dropFile\",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files[0];this.importHomebook(t)}},{key:\"resetHomebook\",value:function(){var e=this;this.state.resetHomebookLoad||(0,x.default)(D).then(function(){return e.setState({resetHomebookLoad:!0}),(0,b.resetHomebook)()}).then(function(){setTimeout(function(){window.location.href=\"/\"},2e3)}).catch(function(e){})}},{key:\"render\",value:function(){var e=this;return c.default.createElement(y.default,{title:\"Préférences\"},c.default.createElement(\"article\",null,c.default.createElement(\"h2\",{className:h.default.title},\"Exporter votre HOMEBOOK\"),c.default.createElement(\"div\",{className:h.default.article},c.default.createElement(\"p\",null,\"Si vous disposez déjà d’un carnet numérique du logement, vous pouvez l’intégrer dans votre homebook par simple importation du fichier de type « .zip » fourni par l’opérateur de ce carnet  De la même manière, vous pouvez exporter le carnet numérique homebook. Cette action générera un fichier « .zip » sur votre ordinateur.\"),c.default.createElement(\"button\",{className:(0,f.default)(p.default.button,p.default.default,r({},h.default.load,this.state.importLoad)),onDrop:function(t){return e.dropFile(t)},onDragEnter:function(t){return e.setState({importerDrag:!0})},onDragLeave:function(t){return e.setState({importerDrag:!1})},onDragOver:function(e){return e.preventDefault()},onClick:function(t){return e.refs.importer.click()},disabled:this.state.importLoad,style:this.state.importerDrag?{backgroundColor:\"#39495d\"}:{}},c.default.createElement(\"i\",{className:\"ion-ios-upload-outline\"}),\" IMPORTER VOTRE CARNET NUMÉRIQUE DU LOGEMENT\",c.default.createElement(\"input\",{ref:\"importer\",type:\"file\",className:\"hidden\",onChange:function(t){return e.importHomebook(t.target.files[0])}})),c.default.createElement(\"button\",{className:(0,f.default)(p.default.button,p.default.default,r({},h.default.load,this.state.exportLoad)),onClick:function(t){return e.exportHomebook()},disabled:this.state.exportLoad},c.default.createElement(\"i\",{className:\"ion-ios-download-outline\"}),\" EXPORTER VOTRE CARNET NUMÉRIQUE DU LOGEMENT\"))),c.default.createElement(\"article\",null,c.default.createElement(\"h2\",{className:h.default.title},\"Revoir la présentation de Homebook\"),c.default.createElement(\"div\",{className:h.default.article},c.default.createElement(\"p\",null,\"A votre première connexion, nous vous avons présenté les grandes fonctionnalités : vous pouvez les consulter à nouveau avec ce bouton.\"),c.default.createElement(\"button\",{className:(0,f.default)(p.default.button,p.default.assertive,r({},h.default.load,this.state.resetOnboardingLoad)),onClick:function(){return e.resetOnboarding()},disabled:this.state.resetOnboardingLoad},c.default.createElement(\"i\",{className:\"ion-ios-refresh-outline\"}),\"Revoir la présentation de Homebook\"))),!1)}}]),t}(i.Component);t.default=k},\"./src/components/elements/Recalls.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(\"./node_modules/lodash/isDate.js\"),l=a(o),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(\"./node_modules/react/react.js\"),d=a(c),f=n(\"./node_modules/classnames/index.js\"),m=a(f),p=n(\"./node_modules/react-portal/build/portal.js\"),E=a(p),h=n(\"./node_modules/react-big-calendar/lib/index.js\"),v=a(h),y=n(\"./node_modules/moment/moment.js\"),_=a(y);n(\"./node_modules/moment/locale/fr.js\"),n(\"./node_modules/react-big-calendar/lib/css/react-big-calendar.css\");var b=n(\"./node_modules/react-big-calendar/lib/utils/messages.js\"),g=a(b),C=n(\"./node_modules/react-big-calendar/lib/utils/constants.js\"),S=n(\"./src/constants/index.js\"),A=n(\"./src/styles/buttons.scss\"),O=a(A),T=n(\"./src/styles/Modal.sass\"),x=(a(T),n(\"./src/styles/Recalls.sass\")),D=(a(x),n(\"./src/components/elements/Page.jsx\")),k=a(D),R=n(\"./src/components/elements/Loader.jsx\"),N=a(R),j=n(\"./src/components/modals/Modal.jsx\"),w=a(j),L=n(\"./src/components/modals/RecallsModal.jsx\"),P=a(L);_.default.locale(\"fr\"),v.default.momentLocalizer(_.default);var M=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={current:null,modalOpen:!1,defaultDate:null,edition:!1},a}return u(t,e),i(t,[{key:\"componentWillMount\",value:function(){this.props.onLoadRecalls()}},{key:\"componentWillReceiveProps\",value:function(e){}},{key:\"addOrSaveRecall\",value:function(e){this.state.current?this.props.onSaveRecall(this.state.current._id,Object.assign(this.state.current,e)):this.props.onNewRecall(e.name,e),this.setState({modalOpen:!1,current:null})}},{key:\"add\",value:function(){this.setState({current:null,modalOpen:!0,defaultDate:void 0,edition:!0})}},{key:\"open\",value:function(e){this.setState({current:e,modalOpen:!0})}},{key:\"remove\",value:function(){this.state.current&&(this.props.onRemoveRecalls([this.state.current]),this.setState({modalOpen:!1,current:null,defaultDate:void 0}))}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.elements,a=t.count,r=t.status,s=r===S.STATUS_LOAD,u=d.default.createElement(\"button\",{onClick:function(){return e.add()},className:(0,m.default)(O.default.button,O.default.default)},d.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),\"AJOUTER\"),o=function(t){var n=t.event;return d.default.createElement(\"span\",null,d.default.createElement(\"p\",{className:\"agenda-title\",onClick:function(){return e.setState({modalOpen:!0,current:n.item,defaultDate:void 0})}},n.title),d.default.createElement(\"p\",{onClick:function(){return e.setState({modalOpen:!0,current:n.item,defaultDate:void 0})}},n.item.deadline))};return d.default.createElement(k.default,{title:\"Rappels\",subtitle:null!==a&&a+(a>1?\" rappels\":\" rappel\"),actions:[u]},d.default.createElement(N.default,{display:s}),!s&&d.default.createElement(v.default,{events:n.map(function(e){var t=(0,_.default)(e.deadline,\"DD/MM/YYYY\");return t=t.isValid()?t.toDate():(0,l.default)(e.deadline)?e.deadline:Date.now(),{title:e.name,allDay:!0,start:t,end:t,item:e}}),selectable:!0,popup:!0,components:{agenda:{event:o},toolbar:I},views:[\"month\",\"agenda\"],onSelectSlot:function(t){return e.setState({modalOpen:!0,current:null,defaultDate:t.end,edition:!0})},onSelectEvent:function(t){return e.setState({modalOpen:!0,current:t.item,defaultDate:void 0})},messages:{allDay:\"Journée\",previous:\"Précédent\",next:\"Suivant\",today:\"Aujourd'hui\",month:\"Mois\",agenda:\"Agenda\",showMore:function(e){return\"+\"+e+\" plus\"},time:\"Heure\",event:\"Événement\"},style:{flex:\"1 0 auto\",minHeight:\"500px\"}}),d.default.createElement(E.default,{isOpened:this.state.modalOpen,closeOnEsc:!0,onClose:function(){return e.setState({modalOpen:!1,current:null,defaultDate:void 0,edition:!1})}},d.default.createElement(w.default,null,d.default.createElement(P.default,{defaultDate:this.state.defaultDate,item:this.state.current,title:this.state.current?\"Modifier rappel\":\"Nouveau rappel\",onSave:function(t){return e.addOrSaveRecall(t)},onRemove:function(){return e.remove()},edit:this.state.edition}))))}}]),t}(c.Component);t.default=M;var I=function(e){function t(){var e,n,a,u;r(this,t);for(var o=arguments.length,l=Array(o),i=0;i<o;i++)l[i]=arguments[i];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),Object.defineProperty(a,\"navigate\",{enumerable:!0,writable:!0,value:function(e){a.props.onNavigate(e)}}),Object.defineProperty(a,\"view\",{enumerable:!0,writable:!0,value:function(e){a.props.onViewChange(e)}}),u=n,s(a,u)}return u(t,e),i(t,[{key:\"render\",value:function(){var e=this.props,t=e.messages,n=e.label;return t=(0,g.default)(t),d.default.createElement(\"div\",{className:\"rbc-toolbar\",style:{flexWrap:\"wrap\"}},d.default.createElement(\"span\",{className:\"rbc-btn-group\"},d.default.createElement(\"button\",{type:\"button\",onClick:this.navigate.bind(null,C.navigate.TODAY)},t.today),d.default.createElement(\"button\",{type:\"button\",onClick:this.navigate.bind(null,C.navigate.PREVIOUS)},t.previous),d.default.createElement(\"button\",{type:\"button\",onClick:this.navigate.bind(null,C.navigate.NEXT)},t.next)),d.default.createElement(\"span\",{className:\"rbc-toolbar-label\",style:{width:\"auto\",flex:\"1 0 auto\"}},n),d.default.createElement(\"span\",{className:\"rbc-btn-group\"},this.viewNamesGroup(t)))}},{key:\"viewNamesGroup\",value:function(e){var t=this,n=this.props.views,a=this.props.view;if(n.length>1)return n.map(function(n){return d.default.createElement(\"button\",{type:\"button\",key:n,className:(0,m.default)({\"rbc-active\":a===n}),onClick:t.view.bind(null,n)},e[n])})}}]),t}(d.default.Component)},\"./src/components/elements/TaskList.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.ModalCreateTask=void 0;var c=n(\"./node_modules/lodash/map.js\"),d=a(c),f=n(\"./node_modules/lodash/uniq.js\"),m=a(f),p=n(\"./node_modules/lodash/findLast.js\"),E=a(p),h=n(\"./node_modules/lodash/find.js\"),v=a(h),y=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=n(\"./node_modules/react/react.js\"),C=a(g),S=n(\"./node_modules/moment/moment.js\"),A=(a(S),n(\"./node_modules/react-router-dom/es/index.js\"),n(\"./node_modules/classnames/index.js\")),O=a(A),T=n(\"./node_modules/react-portal/build/portal.js\"),x=a(T),D=n(\"./node_modules/react-bootstrap/lib/Panel.js\"),k=(a(D),n(\"./src/components/elements/Page.jsx\")),R=a(k),N=n(\"./src/components/elements/ContactList.jsx\"),j=a(N),w=n(\"./src/components/elements/DocumentList.jsx\"),L=a(w),P=n(\"./src/components/modals/Modal.jsx\"),M=a(P),I=n(\"./src/containers/Selector.js\"),F=a(I),U=n(\"./src/components/elements/Loader.jsx\"),q=a(U),z=n(\"./src/containers/Importer.js\"),V=a(z),Y=n(\"./src/styles/TaskList.sass\"),B=a(Y),W=n(\"./src/styles/buttons.scss\"),H=a(W),G=n(\"./src/styles/ConfirmModal.sass\"),J=a(G),Q=n(\"./src/constants/index.js\"),K=n(\"./src/tools/index.js\"),Z=n(\"./src/constants/taskslist.json\"),X=a(Z),$=\"com.homebook.tasks\",ee=function(e){function t(e){o(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentData:null,list:null,err:!1,message:\"\",openModal:!1,importerOpen:!1,docSelect:void 0,loading:!0},n.renderElement=n.renderElement.bind(n),n.renderList=n.renderList.bind(n),n}return i(t,e),b(t,[{key:\"componentWillMount\",value:function(){this.getCurrent(this.props.match.params.id),this.currentId||this.getList()}},{key:\"componentWillReceiveProps\",value:function(e){this.state.err=!1,this.state.message=\"\",this.currentId=void 0,this.getCurrent(e.match.params.id),this.currentId||this.getList()}},{key:\"getCurrent\",value:function(e){var t=this;this.currentId=e,e&&this.getDataElements(e).then(function(e){if(e.length>0){var n=e[0];t.checkedTask(n).then(function(){t.setState({currentData:n,loading:!1})})}else t.setState({err:!0,message:\"Aucune donnée\",loading:!1})}).catch(function(e){console.error(\"Load data\",e),t.setState({err:!0,message:\"Erreur de chargement\",loading:!1})})}},{key:\"getList\",value:function(){var e=this;this.getDataElements({$gt:null}).then(function(t){e.setState({list:t,loading:!1})}).catch(function(t){console.error(\"Load data\",t),e.setState({err:!0,message:\"Erreur de chargement\",loading:!1})})}},{key:\"getDataElements\",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.data.defineIndex($,[\"_id\"]);case 2:return n=e.sent,e.next=5,cozy.client.data.query(n,{selector:{_id:t}});case 5:return e.abrupt(\"return\",e.sent);case 6:case\"end\":return e.stop()}},e,this)}));return e}()},{key:\"removeDataElement\",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.data.delete($,t);case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}},e,this)}));return e}()},{key:\"checkedTask\",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,a,r,u,o,l,i,c,d,f,m,p,h,y,_=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=X.default[t.type],!n.documents){e.next=39;break}return a=n.documents.filter(function(e){return\"MORE\"===e.type}).map(function(e){var n=(0,v.default)(t.documents,function(t){return t.name===e.name});return{name:e.name,toAdd:!n,selected:!!n,path:n&&n.path,title:n?n.name:\"Selectionner un document\",more:!0}}),r=n.documents.filter(function(e){return e.slug}),e.next=6,cozy.client.data.defineIndex(\"io.cozy.files\",[\"_id\",\"tags\"]);case 6:return u=e.sent,e.next=9,cozy.client.data.query(u,{selector:{_id:{$gt:null},tags:{$in:r.map(function(e){return e.slug})}}});case 9:o=e.sent,l=o.filter(function(e){return!e.trashed}),i=[],c=regeneratorRuntime.mark(function e(t){var n,a,r,s,u,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length-1,a=Math.max(t.tail||1,1),r=0;case 3:if(!(r<a)){e.next=18;break}if(!(n<0)){e.next=6;break}return e.abrupt(\"break\",18);case 6:if(void 0!==(s=(0,E.default)(l,function(e){return e.tags[0]===t.slug},n))){e.next=9;break}return e.abrupt(\"break\",18);case 9:return n=l.indexOf(s)-1,e.next=12,cozy.client.files.statById(s.dir_id);case 12:u=e.sent,o=u.attributes.path,i.push({name:t.name+\":\"+s.name,title:s.name,selected:!0,path:o+\"/\"+s.name,noRemove:!0});case 15:r++,e.next=3;break;case 18:n===l.length-1&&i.push({name:t.name+\": Introuvable\",title:t.name,selected:!1,noRemove:!0,tag:t.slug});case 19:case\"end\":return e.stop()}},e,_)}),d=!0,f=!1,m=void 0,e.prev=16,p=r[Symbol.iterator]();case 18:if(d=(h=p.next()).done){e.next=24;break}return y=h.value,e.delegateYield(c(y),\"t0\",21);case 21:d=!0,e.next=18;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(16),f=!0,m=e.t1;case 30:e.prev=30,e.prev=31,!d&&p.return&&p.return();case 33:if(e.prev=33,!f){e.next=36;break}throw m;case 36:return e.finish(33);case 37:return e.finish(30);case 38:this.currentDocs=[].concat(s(a),i);case 39:case\"end\":return e.stop()}},e,this,[[16,26,30,38],[31,,33,37]])}));return e}()},{key:\"add\",value:function(){this.setState({openModal:!0})}},{key:\"addTask\",value:function(e,t){var n=this;cozy.client.data.create($,{type:e,name:t,tasks:[],documents:[],contacts:[]}).then(function(e){var t=e._id;n.props.history.push(\"/du-nouveau/\"+t)})}},{key:\"remove\",value:function(){var e=this;this.state.currentData&&cozy.client.data.delete($,this.state.currentData).then(function(){e.props.history.goBack()})}},{key:\"checkTask\",value:function(e,t){var n=this.state.currentData.tasks;t?n.push(e):n=n.filter(function(t){return t!==e}),n=(0,m.default)(n);var a=_({},this.state.currentData,{tasks:n});this.sendUpdate(a)}},{key:\"clickDocs\",value:function(e){e.selected&&e.path?this.props.history.push((0,K.createFakePath)(e.path)):e.toAdd?(this.props.onImporterClick(),this.setState({docSelect:e})):(console.log(\"Item click\",e),this.props.onImporterClick(e.tag),this.setState({importerOpen:!0}))}},{key:\"dropDoc\",value:function(e,t){var n=this;if(t.preventDefault(),t.stopPropagation(),!e.selected){var a=t.dataTransfer.files&&t.dataTransfer.files[0];if(a){var r=void 0;cozy.client.files.statByPath(Q.ROOT_PATH).then(function(e){return r=e,n.props.fileUpload([a],r._id)}).then(function(t){if(t.err||0===t.files.length)throw Error();return e.tag?cozy.client.files.updateAttributesById(t.files[0].id,{tags:[e.tag]}):t.files[0]}).then(function(t){var a=r.path+\"/\"+t.name;if(e.path=a,e.selected=!0,e.more){var s=n.currentDocs.filter(function(e){return e.more&&e.path&&e.selected}).map(function(e){return{name:e.name,path:e.path}});cozy.client.data.updateAttributes($,n.state.currentData._id,_({},n.state.currentData,{documents:s})).then(function(e){n.state.currentData=e,n.forceUpdate()})}else e.name=e.title+\":\"+t.name,e.title=t.name,n.forceUpdate()}).catch(function(e){console.error(e)})}}}},{key:\"addDoc\",value:function(e){var t=this;if(void 0!==this.state.docSelect&&this.state.docSelect.toAdd){this.state.docSelect.path=e,this.state.docSelect.selected=!0;var n=this.currentDocs.filter(function(e){return e.more&&e.path&&e.selected}).map(function(e){return{name:e.name,path:e.path}});cozy.client.data.updateAttributes($,this.state.currentData._id,_({},this.state.currentData,{documents:n})).then(function(e){t.state.currentData=e,t.forceUpdate()})}}},{key:\"clearMore\",value:function(e){var t=this;if(e.more&&e.selected){e.path=void 0,e.selected=!1;var n=this.currentDocs.filter(function(t){return t.more&&t.path&&t.path!==e.path}).map(function(e){return{name:e.name,path:e.path}});cozy.client.data.updateAttributes($,this.state.currentData._id,_({},this.state.currentData,{documents:n})).then(function(e){t.state.currentData=e,t.forceUpdate()})}}},{key:\"checkContact\",value:function(e,t,n){if(!e.type||\"MORE\"!==e.type){var a=this.state.currentData.contacts;n?a.push(t):a=a.filter(function(e){return e!==t}),a=(0,m.default)(a);var r=_({},this.state.currentData,{contacts:a});this.sendUpdate(r)}}},{key:\"sendUpdate\",value:function(e){var t=this;cozy.client.data.update($,e,e).then(function(e){t.setState({currentData:e})})}},{key:\"renderElement\",value:function(){var e=this;if(!this.currentId||!this.state.currentData)return null;var t=this.state.currentData,n=X.default[t.type];return C.default.createElement(\"div\",{className:B.default.edit},C.default.createElement(\"div\",{className:(0,O.default)(B.default.tasks,\"panel\",\"panel-default\")},C.default.createElement(\"div\",{className:\"panel-heading\"},\"Pense bête\"),C.default.createElement(\"div\",{className:(0,O.default)(\"panel-body\",B.default.body)},n.tasks.map(function(n,a){if(\"string\"==typeof n)return C.default.createElement(\"div\",{key:a},C.default.createElement(\"input\",{type:\"checkbox\",checked:-1!==t.tasks.indexOf(a),onChange:function(t){return e.checkTask(a,t.target.checked)}}),\" \"+n);if(\"object\"===(void 0===n?\"undefined\":y(n))){var r=1e3*a;return C.default.createElement(\"div\",{key:a},C.default.createElement(\"h4\",null,n.display),n.tasks.map(function(n,a){return C.default.createElement(\"div\",{key:a},C.default.createElement(\"input\",{type:\"checkbox\",checked:-1!==t.tasks.indexOf(r+a),onChange:function(t){return e.checkTask(r+a,t.target.checked)}}),\" \"+n)}))}}))),n.documents&&C.default.createElement(\"div\",{className:(0,O.default)(B.default.docs,\"panel\",\"panel-default\")},C.default.createElement(\"div\",{className:\"panel-heading\"},\"Vos documents utiles\"),C.default.createElement(\"div\",{className:(0,O.default)(\"panel-body\",B.default.body)},C.default.createElement(L.default,{noDate:!0,view:Q.VIEW_LIST,onSelectItem:function(){},onRemove:function(t){return e.clearMore(t)},onClickItem:function(t,n,a){return e.clickDocs(t)},onDrop:function(t,n){return e.dropDoc(t,n)}},this.currentDocs))),n.contacts&&C.default.createElement(\"div\",{className:(0,O.default)(B.default.contacts,\"panel\",\"panel-default\")},C.default.createElement(\"div\",{className:\"panel-heading\"},\"Vos contacts utiles\"),C.default.createElement(\"div\",{className:(0,O.default)(\"panel-body\",B.default.body)},C.default.createElement(j.default,{view:Q.VIEW_LIST,onSelectItem:function(t,n,a,r){return e.checkContact(t,a,r)}},n.contacts.map(function(e,n){var a=-1!==t.contacts.indexOf(n);return\"string\"==typeof e?{company:e,selected:a}:\"object\"===(void 0===e?\"undefined\":y(e))?{company:e.name,telephones:[{type:\"FIXE\",phone:e.phone}],selected:a}:void 0})))),C.default.createElement(x.default,{closeOnEsc:!0,isOpened:void 0!==this.state.docSelect,onClose:function(){return e.setState({docSelect:void 0})}},C.default.createElement(M.default,null,C.default.createElement(F.default,{files:!0,onSelect:function(t){return e.addDoc(t)}}))),C.default.createElement(x.default,{closeOnEsc:!0,isOpened:this.state.importerOpen,onClose:function(){return e.setState({importerOpen:!1})}},C.default.createElement(M.default,null,C.default.createElement(V.default,{onImportDone:function(t){return e.componentWillReceiveProps(e.props)}}))))}},{key:\"renderList\",value:function(){var e=this;return this.currentId||!this.state.list?null:C.default.createElement(\"div\",{className:B.default.list},this.state.list.map(function(t,n){if(!t.type)return null;var a=X.default[t.type];return void 0===a?null:C.default.createElement(\"div\",{key:n,className:B.default.card,onClick:function(){return e.props.history.push(\"/du-nouveau/\"+t._id)}},C.default.createElement(\"div\",{className:B.default.title},a.display),C.default.createElement(\"div\",{className:B.default.name},t.name),C.default.createElement(\"div\",{className:B.default.sub},t.tasks.length,\" / \",a.maxTasks))}))}},{key:\"render\",value:function(){var e=this,t=[C.default.createElement(\"button\",{onClick:function(){return e.props.history.goBack()},className:(0,O.default)(H.default.button,H.default.stable),title:\"Retour\"},C.default.createElement(\"i\",{className:\"ion-ios-arrow-back\"}),C.default.createElement(\"span\",{className:H.default.text},\"RETOUR\")),C.default.createElement(\"button\",{onClick:function(){},className:(0,O.default)(H.default.button,H.default.default),title:\"Sauvegarder\"},C.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),C.default.createElement(\"span\",{className:H.default.text},\"SAUVEGARDER\")),C.default.createElement(\"button\",{onClick:function(){return e.remove()},className:(0,O.default)(H.default.button,H.default.assertive),title:\"Supprimer\"},C.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),C.default.createElement(\"span\",{className:H.default.text},\"SUPPRIMER\"))],n=[C.default.createElement(\"button\",{onClick:function(){return e.add()},className:(0,O.default)(H.default.button,H.default.default),title:\"Ajouter\"},C.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),C.default.createElement(\"span\",null,\"AJOUTER\"))];return C.default.createElement(R.default,{title:\"Du nouveau dans mon logement\",actions:this.currentId?t:n},this.state.err&&C.default.createElement(\"div\",{className:\"error\"},this.state.message),C.default.createElement(q.default,{display:this.state.loading}),this.renderElement(),this.renderList(),this.state.list&&0===this.state.list.length&&C.default.createElement(\"div\",null,\"Aucun éléments\"),C.default.createElement(x.default,{isOpened:this.state.openModal,onClose:function(){return e.setState({openModal:!1})}},C.default.createElement(te,{onAdd:function(t,n){return e.addTask(t,n)}})))}}]),t}(g.Component);t.default=ee;var te=t.ModalCreateTask=function(e){function t(e){o(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:\"\",type:\"\",warning:!1},n}return i(t,e),b(t,[{key:\"render\",value:function(){var e=this;return C.default.createElement(M.default,null,C.default.createElement(\"div\",{className:J.default.main},C.default.createElement(\"div\",{className:J.default.content},C.default.createElement(\"h4\",null,\"Type d'événement :\"),C.default.createElement(\"div\",{className:B.default.list,style:{maxWidth:\"440px\"}},(0,d.default)(X.default,function(t,n){return C.default.createElement(\"div\",{key:n,className:(0,O.default)(B.default.card,r({},B.default.selected,e.state.type===n)),onClick:function(){return e.setState({type:n})}},C.default.createElement(\"div\",{className:B.default.title},t.display))})),C.default.createElement(\"div\",null,C.default.createElement(\"h4\",null,\"Nom du nouvel événement :\"),C.default.createElement(\"input\",{type:\"text\",style:{width:\"100%\"},value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}}))),C.default.createElement(\"div\",{className:J.default.actions},C.default.createElement(\"button\",{className:(0,O.default)(H.default.button,H.default.stable),onClick:function(t){return e.props.closePortal()}},\"ANNULER\"),C.default.createElement(\"button\",{onClick:function(t){if(\"\"===e.state.type||\"\"===e.state.name)return e.setState({warning:!0});e.props.onAdd(e.state.type,e.state.value),e.props.closePortal()},className:(0,O.default)(H.default.button,H.default.default)},\"AJOUTER\")),this.state.warning&&C.default.createElement(\"p\",{style:{color:\"orangered\",padding:\"5px 20px\"}},\"Il faut selectionné un type et donnée un nom pour créer le nouvel événement\")))}}]),t}(g.Component)},\"./src/components/elements/ToolBoxOptions.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./src/styles/ToolBoxOptions.sass\"),m=a(f),p=n(\"./src/styles/buttons.scss\"),E=a(p),h=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={open:!1},a.intent=null,a.handleOutsideMouseClick=a.handleOutsideMouseClick.bind(a),a}return u(t,e),o(t,[{key:\"componentWillUnmount\",value:function(){clearTimeout(this.intent)}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"click\",this.handleOutsideMouseClick),document.addEventListener(\"touchstart\",this.handleOutsideMouseClick)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"click\",this.handleOutsideMouseClick),document.removeEventListener(\"touchstart\",this.handleOutsideMouseClick)}},{key:\"handleOutsideMouseClick\",value:function(e){this.state.open&&(this.refs.root.contains(e.target)||e.button&&0!==e.button||this.close())}},{key:\"open\",value:function(){this.state.open||(this.setState({open:!0}),this.props.onOpen&&this.props.onOpen())}},{key:\"close\",value:function(){this.state.open&&(this.setState({open:!1}),this.props.onClose&&this.props.onClose())}},{key:\"toggle\",value:function(){this.props.disabled||(this.state.open?this.close():this.open())}},{key:\"closeIntent\",value:function(){var e=this;this.props.noAuto||(this.intent=setTimeout(function(){return e.close()},100))}},{key:\"render\",value:function(){var e=this;return i.default.createElement(\"div\",{ref:\"root\",className:m.default.toolBox,onClick:function(e){return e.stopPropagation()}},i.default.createElement(\"button\",{type:\"button\",onClick:function(t){return e.toggle()},className:(0,d.default)(E.default.button,E.default.stable)},i.default.createElement(\"i\",{className:\"ion-more\"})),this.state.open&&i.default.createElement(\"div\",{className:m.default.content,onClick:function(t){return e.close()}},i.default.createElement(\"div\",{className:m.default.triangle}),this.props.children))}}]),t}(l.Component);t.default=h},\"./src/components/elements/Trash.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./src/constants/index.js\"),m=n(\"./src/styles/buttons.scss\"),p=a(m),E=n(\"./src/components/elements/ToolBoxOptions.jsx\"),h=a(E),v=n(\"./src/components/elements/Page.jsx\"),y=a(v),_=n(\"./src/components/elements/Loader.jsx\"),b=a(_),g=n(\"./src/components/elements/DocumentList.jsx\"),C=a(g),S=n(\"./src/components/elements/ContactList.jsx\"),A=a(S),O=n(\"./src/components/elements/DataList.jsx\"),T=a(O),x=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={current:null,modalOpen:!1},a}return u(t,e),o(t,[{key:\"componentWillMount\",value:function(){this.props.onLoadTrash()}},{key:\"componentWillReceiveProps\",value:function(e){void 0!==e.contacts&&void 0!==e.files&&void 0!==e.data&&void 0!==e.count?e.contacts.length+e.files.length+e.data.length!==e.count&&e.onLoadTrash():e.onLoadTrash()}},{key:\"empty\",value:function(){this.props.onEmpty()}},{key:\"restore\",value:function(){var e=this.props.files.filter(function(e){return e.selected});e.length>0&&this.props.onRestoreDocuments(e);var t=this.props.contacts.filter(function(e){return e.selected});t.length>0&&this.props.onRestoreContacts(t);var n=this.props.data.filter(function(e){return e.selected});n.length>0&&this.props.onRestoreData(n)}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.files,a=t.contacts,r=t.data,s=t.count,u=t.selectedCount,o=t.status,l=o===f.STATUS_LOAD,c=i.default.createElement(\"button\",{onClick:function(){return e.empty()},className:(0,d.default)(p.default.button,p.default.assertive)},i.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),\"VIDER\"),m=i.default.createElement(h.default,null,i.default.createElement(\"ul\",null,i.default.createElement(\"li\",{onClick:function(){e.props.onSelectAll(e.props.count)}},i.default.createElement(\"i\",{className:\"ion-ios-checkmark-outline\"},\"TOUT SELECTIONNER\")),i.default.createElement(\"li\",{onClick:function(){e.props.onChangeViewMode()}},this.props.viewMode===f.VIEW_LIST?i.default.createElement(\"i\",{className:\"ion-grid\"},\"VUE GRILLE\"):i.default.createElement(\"i\",{className:\"ion-navicon\"},\"VUE LISTE\")))),E=i.default.createElement(\"button\",{onClick:function(){return e.restore()},className:(0,d.default)(p.default.button,p.default.stable)},i.default.createElement(\"i\",{className:\"ion-ios-undo-outline\"}),\"RESTAURER\"),v=[m];return s>0&&v.unshift(c),u>0&&v.unshift(E),i.default.createElement(y.default,{title:\"Corbeille\",subtitle:null!==s&&s+(s>1?\" éléments\":\" élément\"),actions:v},i.default.createElement(b.default,{display:l}),i.default.createElement(\"div\",{className:\"files\"},!l&&n.length>0&&i.default.createElement(C.default,{view:this.props.viewMode,onClickItem:function(t){e.props.onSelectFile(t)}},n),!l&&0===n.length&&\"Aucun fichier\"),i.default.createElement(\"div\",{className:\"contacts\"},!l&&a.length>0&&i.default.createElement(A.default,{view:this.props.viewMode,onClickItem:function(t){e.props.onSelectContact(t)}},a),!l&&0===a.length&&\"Aucun contact\"),i.default.createElement(\"div\",{className:\"data\"},!l&&r.length>0&&i.default.createElement(T.default,{view:this.props.viewMode,onClickItem:function(t){e.props.onSelectData(t)}},r),!l&&0===r.length&&\"Aucune donnée\"))}}]),t}(l.Component);t.default=x},\"./src/components/modals/ConfirmModal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./node_modules/classnames/index.js\"),o=a(u),l=n(\"./src/styles/buttons.scss\"),i=a(l),c=n(\"./src/styles/ConfirmModal.sass\"),d=a(c),f=n(\"./src/components/modals/Modal.jsx\"),m=a(f),p=function(e){var t=e.confirm,n=e.abort,a=e.children;return s.default.createElement(m.default,null,s.default.createElement(\"div\",{className:d.default.main},s.default.createElement(\"div\",{className:d.default.content},a),s.default.createElement(\"div\",{className:d.default.actions},s.default.createElement(\"button\",{className:(0,o.default)(i.default.button,i.default.default),onClick:function(e){return n()}},\"ANNULER\"),s.default.createElement(\"button\",{onClick:function(e){return t()},className:(0,o.default)(i.default.button,i.default.assertive)},\"SUPPRIMER\"))))};t.default=p},\"./src/components/modals/ContactsModal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(\"./node_modules/react/react.js\"),d=a(c),f=n(\"./node_modules/classnames/index.js\"),m=a(f),p=n(\"./src/constants/contactTypes.json\"),E=a(p),h=n(\"./src/tools/index.js\"),v=n(\"./src/styles/buttons.scss\"),y=a(v),_=n(\"./src/styles/ContactRecallModal.sass\"),b=a(_),g=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=e.item||{};return a.state={lastName:r.lastName||\"\",firstName:r.firstName||\"\",company:r.company||\"\",type:r.type||\"\",email:r.email||\"\",telephones:r.telephones||[],address:r.address||{way:\"\",code:\"\",city:\"\"},commentary:r.commentary||\"\",edit:!1,warn:!1},a}return o(t,e),i(t,[{key:\"componentWillMount\",value:function(){!0===this.props.edit&&(this.state.edit=!0)}},{key:\"componentWillReceiveProps\",value:function(e){}},{key:\"save\",value:function(e){var t=this.state,n=t.lastName,a=t.firstName,s=t.company,u=t.type,o=t.email,i=t.commentary;if(!n&&!s)return this.setState({warn:!0});var c=[].concat(r(this.state.telephones)),d=l({},this.state.address),f={lastName:n,firstName:a,company:s,type:u,email:o,commentary:i,telephones:c,address:d};this.props.onSave(f),this.close(e)}},{key:\"close\",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:\"edit\",value:function(e){e.stopPropagation(),this.setState({edit:!0})}},{key:\"remove\",value:function(e){this.props.onRemove(),this.close(e)}},{key:\"addTelephone\",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({telephones:[].concat(r(this.state.telephones),[{phone:\"\",type:\"fixe\"}])})}},{key:\"renderEdition\",value:function(){var e=this;return d.default.createElement(\"div\",{className:b.default.edition,onClick:function(e){return e.stopPropagation()}},d.default.createElement(\"div\",{className:b.default.header},d.default.createElement(\"h1\",null,this.props.title),d.default.createElement(\"button\",{className:(0,m.default)(y.default.button,y.default.default),onClick:function(t){return e.save(t)}},d.default.createElement(\"i\",{className:\"fa fa-floppy-o\"}),\"Enregistrer\"),d.default.createElement(\"button\",{onClick:function(t){return e.close(t)},className:(0,m.default)(y.default.button,y.default.stable,y.default.clear)},d.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),d.default.createElement(\"form\",{className:b.default.content},d.default.createElement(\"div\",{className:b.default.row},d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Nom\"),d.default.createElement(\"input\",{type:\"text\",placeholder:\"Nom\",value:this.state.lastName,style:C(this.state.warn&&\"\"===this.state.lastName,{border:\"1px solid orangered\"}),onChange:function(t){return e.setState({lastName:t.target.value})}})),d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Prénom\"),d.default.createElement(\"input\",{type:\"text\",style:C(this.state.warn&&\"\"===this.state.firstName,{border:\"1px solid orangered\"}),placeholder:\"Prénom\",value:this.state.firstName,onChange:function(t){return e.setState({firstName:t.target.value})}}))),d.default.createElement(\"div\",{className:b.default.row},d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Société\"),d.default.createElement(\"input\",{type:\"text\",style:C(this.state.warn&&\"\"===this.state.company,{border:\"1px solid orangered\"}),placeholder:\"Société\",value:this.state.company,onChange:function(t){return e.setState({company:t.target.value})}})),d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Activité\"),d.default.createElement(\"select\",{type:\"text\",placeholder:\"Activité\",value:this.state.type,onChange:function(t){return e.setState({type:t.target.value})}},d.default.createElement(\"option\",null,\"Aucune\"),(0,h.createOptionsFromArray)(E.default)))),d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Téléphone\"),d.default.createElement(\"button\",{className:(0,m.default)(y.default.button,y.default.stable),onClick:function(t){return e.addTelephone(t)}},d.default.createElement(\"i\",{className:\"ion-ios-plus-empty\"}),\"Ajouter\")),d.default.createElement(\"div\",{className:b.default.group},this.state.telephones&&this.state.telephones.map(function(t,n){return d.default.createElement(\"div\",{key:n,className:b.default.inline},d.default.createElement(\"input\",{type:\"text\",placeholder:\"Téléphone\",value:t.phone,onChange:function(n){t.phone=n.target.value,e.setState({})}}),d.default.createElement(\"select\",{value:t.type,onChange:function(n){t.type=n.target.value,e.setState({})}},d.default.createElement(\"option\",{value:\"mobile\"},\"Mobile\"),d.default.createElement(\"option\",{value:\"fixe\"},\"Fixe\")))})),d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Email\"),d.default.createElement(\"input\",{type:\"email\",placeholder:\"Email\",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})),d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Adresse\"),d.default.createElement(\"input\",{type:\"text\",placeholder:\"Adresse\",value:this.state.address.way,onChange:function(t){return e.setState({address:l({},e.state.address,{way:t.target.value})})}}),d.default.createElement(\"input\",{type:\"text\",placeholder:\"Code postal\",value:this.state.address.code,onChange:function(t){return e.setState({address:l({},e.state.address,{code:t.target.value})})}}),d.default.createElement(\"input\",{type:\"text\",placeholder:\"Ville\",value:this.state.address.city,onChange:function(t){return e.setState({address:l({},e.state.address,{city:t.target.value})})}})),d.default.createElement(\"div\",{className:b.default.group},d.default.createElement(\"label\",null,\"Commentaire\"),d.default.createElement(\"textarea\",{value:this.state.commentary,onChange:function(t){return e.setState({commentary:t.target.value})}}))))}},{key:\"renderView\",value:function(){var e=this;return d.default.createElement(\"div\",{className:b.default.main,onClick:function(e){return e.stopPropagation()}},d.default.createElement(\"div\",{className:b.default.header},d.default.createElement(\"h1\",null,this.state.firstName,\" \",this.state.lastName&&this.state.lastName.toUpperCase()),d.default.createElement(\"button\",{className:(0,m.default)(y.default.button,y.default.default),onClick:function(t){return e.edit(t)}},d.default.createElement(\"i\",{className:\"fa fa-edit\"}),d.default.createElement(\"span\",{className:y.default.text},\"Modifier\")),d.default.createElement(\"button\",{onClick:function(t){return e.remove(t)},className:(0,m.default)(y.default.button,y.default.assertive)},d.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),d.default.createElement(\"span\",{className:y.default.text},\"Supprimer\")),d.default.createElement(\"button\",{onClick:function(t){return e.close(t)},className:(0,m.default)(y.default.button,y.default.stable,y.default.clear)},d.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),d.default.createElement(\"div\",{className:b.default.content},d.default.createElement(\"div\",null,d.default.createElement(\"h3\",null,\"Société\"),d.default.createElement(\"p\",null,this.state.company)),d.default.createElement(\"div\",null,d.default.createElement(\"h3\",null,\"Type / Spécialité\"),d.default.createElement(\"p\",null,this.state.type)),d.default.createElement(\"div\",null,d.default.createElement(\"h3\",null,\"Téléphone\"),this.state.telephones&&this.state.telephones.map(function(e,t){return d.default.createElement(\"p\",{key:t},d.default.createElement(\"strong\",null,e.type&&e.type.toUpperCase()+\" :\"),d.default.createElement(\"a\",{href:\"tel:\"+e.phone},e.phone))})),d.default.createElement(\"div\",null,d.default.createElement(\"h3\",null,\"Email\"),d.default.createElement(\"p\",null,d.default.createElement(\"a\",{href:\"mailto:\"+this.state.email},this.state.email))),d.default.createElement(\"div\",null,d.default.createElement(\"h3\",null,\"Adresse\"),d.default.createElement(\"p\",null,this.state.address.way),d.default.createElement(\"p\",null,this.state.address.code),d.default.createElement(\"p\",null,this.state.address.city)),d.default.createElement(\"div\",null,d.default.createElement(\"h3\",null,\"Commentaire\"),d.default.createElement(\"div\",null,this.state.commentary&&this.state.commentary.split(\"\\n\").map(function(e,t){return d.default.createElement(\"div\",{key:t},e)})))))}},{key:\"render\",value:function(){return this.state.edit?this.renderEdition():this.renderView()}}]),t}(c.Component);t.default=g;var C=function(e,t){return e?t:{}}},\"./src/components/modals/ImporterModal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(\"./node_modules/lodash/flatten.js\"),c=a(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(\"./node_modules/react/react.js\"),m=a(f),p=n(\"./src/styles/ImporterModal.sass\"),E=a(p),h=n(\"./src/styles/buttons.scss\"),v=a(h),y=n(\"./node_modules/classnames/index.js\"),_=a(y),b=n(\"./src/components/elements/DirectoryPicker.jsx\"),g=a(b),C=n(\"./node_modules/react-dropzone/dist/index.js\"),S=a(C),A=n(\"./src/scripts/fileTypes.js\"),O=n(\"./src/constants/index.js\"),T=function(e){var t=e.item,n=e.currentType,a=e.onDocChange,r=e.toobig,s=(0,A.getTypesByGroup)(),u=t.isDirectory||!1;t.typeFile||(t.typeFile=\"\"!=n?n:\"\");var o=\"/images/file.png\";return/^image\\//.test(t.type)&&(o=t.preview),u&&(o=\"/images/folder.png\"),m.default.createElement(\"div\",{style:r?{borderColor:\"#ff3f3a\"}:{},className:E.default.doc,onClick:function(e){return e.stopPropagation()}},m.default.createElement(\"div\",{className:E.default.image},m.default.createElement(\"img\",{src:o,alt:\"document\"})),m.default.createElement(\"span\",{className:E.default.docName},t.name),!u&&!r&&m.default.createElement(\"select\",{className:E.default.select,value:t.typeFile,onChange:function(e){t.typeFile=e.target.value,a()}},m.default.createElement(\"option\",{value:\"\"},\"Choisir un type\"),s.map(function(e,t){return m.default.createElement(\"optgroup\",{label:e.name,key:t},e.types.map(function(e,t){return m.default.createElement(\"option\",{key:t,value:e.key},e.name)}))}),m.default.createElement(\"option\",{value:\"\"},\"Autre\")),r&&m.default.createElement(\"span\",{style:{color:\"#ff3f3a\",fontSize:\"12px\"}},\"Trop lourd (> 20Mo)\"))},x=function(e){function t(e,n){u(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={documents:[],dropzoneActive:!1},a}return l(t,e),d(t,[{key:\"componentWillReceiveProps\",value:function(e,t){this.setState({dropzoneActive:!1})}},{key:\"cancel\",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:\"next\",value:function(){this.props.onChangeView(O.VIEW_DIR)}},{key:\"prev\",value:function(){this.props.onChangeView(O.VIEW_FILE)}},{key:\"import\",value:function(e){var t=this;this.state.documents.length>0&&cozy.client.files.statByPath(this.props.currentPath).then(function(e){return t.props.onImport(t.state.documents,e._id)}).then(function(e){if(e.files){var n=e.files.filter(function(e){return e.size<=O.MAX_FILE_SIZE});n.length>0&&t.props.onImportDone(n)}}),this.cancel(e)}},{key:\"_dropFiles\",value:function(e,t){var n=this;if(t.preventDefault(),t.stopPropagation(),t.dataTransfer)if(t.dataTransfer.items){for(var a,r=t.dataTransfer.items,s=[],u=0;a=r[u];++u){(function(e,t){if(\"file\"!=t.kind)return\"continue\";var n=t.webkitGetAsEntry();if(n.isDirectory){var a=n.createReader();s.push();var r=function e(t,n){return new Promise(function(a,r){t.readEntries(function(r){return r.length?Promise.all(r.map(function(e){return new Promise(function(t,n){if(e.isDirectory)return t();e.file(t,n)})})).then(function(r){return n=n.concat(r.slice().filter(function(e){return!!e})),e(t,n).then(function(e){return a(e)})}):a(n)},r)})}(a,[]).then(function(e){return{name:n.name,isDirectory:!0,content:e}});s.push(r)}else if(n.isFile){var u=new Promise(function(e,t){n.file(e,t)}).then(function(e){return[e]});s.push(u)}})(0,a)}Promise.all(s).then(function(e){return(0,c.default)(e)}).then(function(e){return n.addFiles(e)})}else if(t.dataTransfer.files){var o=Array.prototype.slice.call(t.dataTransfer.files);this.addFiles(o)}else console.error(\"Error can't read files\");else t.target.files&&this.addFiles(t.target.files)}},{key:\"addFiles\",value:function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var u,o=this.state.documents[Symbol.iterator]();!(n=(u=o.next()).done);n=!0){var l=u.value,i=!0,c=!0,d=!1,f=void 0;try{for(var m,p=e[Symbol.iterator]();!(c=(m=p.next()).done);c=!0){if(m.value.name===l.name){i=!1;break}}}catch(e){d=!0,f=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw f}}i&&t.push(l)}}catch(e){a=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}if(this.props.currentType){var E=!0,h=!1,v=void 0;try{for(var y,_=e[Symbol.iterator]();!(E=(y=_.next()).done);E=!0){y.value.typeFile=this.props.currentType}}catch(e){h=!0,v=e}finally{try{!E&&_.return&&_.return()}finally{if(h)throw v}}}this.setState({dropzoneActive:!1,documents:[].concat(t,s(e))})}},{key:\"_dragEnter\",value:function(e){\"Files\"===e.dataTransfer.types[0]&&this.setState({dropzoneActive:!0})}},{key:\"_dragLeave\",value:function(e){this.setState({dropzoneActive:!1})}},{key:\"render\",value:function(){var e=this;return m.default.createElement(\"div\",{onClick:function(e){return e.stopPropagation()},className:E.default.main},this.props.view===O.VIEW_FILE&&m.default.createElement(\"div\",{className:E.default.file},m.default.createElement(\"div\",{className:E.default.header},m.default.createElement(\"span\",null,\"AJOUTER DES FICHIERS\"),m.default.createElement(\"button\",{className:(0,_.default)(v.default.button,v.default.stable,v.default.clear),onClick:function(t){return e.cancel(t)}},m.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),m.default.createElement(\"div\",{className:E.default.content},m.default.createElement(S.default,{ref:\"dropzone\",disableClick:!1,disablePreview:!1,className:(0,_.default)(E.default.dropzone,r({},E.default.active,this.state.dropzoneActive)),onDrop:function(t,n,a){return e._dropFiles(t,a)},onDragEnter:function(t){return e._dragEnter(t)},onDragLeave:function(t){return e._dragLeave(t)},inputProps:{capture:!0}},this.state.documents.map(function(t,n){return m.default.createElement(T,{toobig:t.size>O.MAX_FILE_SIZE,key:n,item:t,onDocChange:function(){return e.setState({})},currentType:e.props.currentType})}),0==this.state.documents.length?m.default.createElement(\"span\",{className:E.default.message},\"déposez vos fichiers ici\"):null)),m.default.createElement(\"div\",{className:E.default.footer},m.default.createElement(\"button\",{type:\"button\",className:(0,_.default)(v.default.button,v.default.stable),onClick:function(t){return e.cancel(t)}},m.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}),\"ANNULER\"),m.default.createElement(\"button\",{type:\"button\",className:(0,_.default)(v.default.button,v.default.stable),onClick:function(){return e.next()}},m.default.createElement(\"i\",{className:\"ion-ios-folder-outline\"}),\"CHANGER EMPLACEMENT\"),m.default.createElement(\"button\",{type:\"button\",className:(0,_.default)(v.default.button,v.default.stable),onClick:function(t){return e.import(t)}},m.default.createElement(\"i\",{className:\"ion-ios-cloud-upload-outline\"}),\"OK\"))),this.props.view===O.VIEW_DIR&&m.default.createElement(\"div\",{className:E.default.dir},m.default.createElement(\"div\",{className:E.default.header},m.default.createElement(\"span\",null,\"CHOISIR UN EMPLACEMENT\"),m.default.createElement(\"button\",{className:(0,_.default)(v.default.button,v.default.stable,v.default.clear),onClick:function(t){return e.cancel(t)}},m.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),m.default.createElement(\"div\",{className:E.default.content},m.default.createElement(g.default,{dirs:this.props.documentsTree,root:O.ROOT_PATH,default:this.props.currentPath,rootDirectoryName:O.ROOT_NAME,onPathChange:function(t){return e.props.onDirectoryChange(t)}})),m.default.createElement(\"div\",{className:E.default.footer},m.default.createElement(\"button\",{type:\"button\",className:(0,_.default)(v.default.button,v.default.stable),onClick:function(){return e.prev()}},m.default.createElement(\"i\",{className:\"ion-ios-arrow-left\"}),\"RETOUR\"),m.default.createElement(\"button\",{type:\"button\",className:(0,_.default)(v.default.button,v.default.stable),onClick:function(t){return e.import(t)}},m.default.createElement(\"i\",{className:\"ion-ios-cloud-upload-outline\"}),\"AJOUTER\"))))}}]),t}(f.Component);t.default=x},\"./src/components/modals/InfomationModal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./node_modules/classnames/index.js\"),f=a(d),m=(n(\"./src/tools/index.js\"),n(\"./src/styles/buttons.scss\")),p=a(m),E=n(\"./src/styles/Modal.sass\"),h=a(E),v=n(\"./src/constants/index.js\"),y=function(e){function t(e,n){s(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={open:!1,close:!1},a.opening=setTimeout(function(){a.setState({open:!0})}),a.closing=setTimeout(function(){a.close()},a.props.timeout||2e3),a}return o(t,e),l(t,[{key:\"componentWillUnmount\",value:function(){this.closing&&clearTimeout(this.closing),this.opening&&clearTimeout(this.opening),this.anim&&clearTimeout(this.anim)}},{key:\"close\",value:function(){var e=this;this.setState({close:!0,open:!1}),this.anim=setTimeout(function(){e.props.closePortal(),e.props.onClose&&e.props.onClose()},200)}},{key:\"onClose\",value:function(e){e.stopPropagation(),this.close()}},{key:\"stopClosing\",value:function(e){e.stopPropagation(),this.componentWillUnmount()}},{key:\"startClosing\",value:function(e){var t=this;e.stopPropagation(),this.closing=setTimeout(function(){t.close()},1e3)}},{key:\"render\",value:function(){var e,t=this,n=this.props.position||0;return c.default.createElement(\"div\",{className:(0,f.default)(h.default.popup,(e={},r(e,h.default.openActive,this.state.open),r(e,h.default.closeActive,this.state.close),r(e,h.default.error,this.props.level===v.ALERT_LEVEL_ERROR),e)),onClick:function(e){return e.stopPropagation()},onMouseEnter:function(e){return t.stopClosing(e)},onMouseLeave:function(e){return t.startClosing(e)},style:{top:10+10*n+\"%\"}},c.default.createElement(\"div\",{className:h.default.header},c.default.createElement(\"h2\",null,this.props.title||\"Informations\"),c.default.createElement(\"button\",{style:{fontSize:\"20px\"},onClick:function(e){return t.onClose(e)},className:(0,f.default)(p.default.button,p.default.stable,p.default.clear)},c.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),c.default.createElement(\"div\",{className:h.default.content},c.default.createElement(\"div\",null,this.props.infos&&this.props.infos.split(\"\\n\").map(function(e,t){return c.default.createElement(\"p\",{key:t},e)}))))}}]),t}(i.Component);t.default=y},\"./src/components/modals/Modal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.Modal=void 0;var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./src/styles/Modal.sass\"),o=a(u),l=t.Modal=function(e){var t=e.closePortal,n=e.children,a=e.onClickOutside;\"function\"==typeof n.type&&(n=s.default.cloneElement(n,{closePortal:t}));var r=a||t;return s.default.createElement(\"div\",{className:o.default.modal,onClick:r},n)};t.default=l},\"./src/components/modals/PromptModal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./src/styles/buttons.scss\"),m=a(f),p=n(\"./src/styles/ConfirmModal.sass\"),E=a(p),h=n(\"./src/components/modals/Modal.jsx\"),v=a(h),y=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:\"\",red:!1},n}return u(t,e),o(t,[{key:\"checkAndConfirm\",value:function(){if(\"\"===this.state.value)return this.setState({red:!0});this.props.confirm(this.state.value)}},{key:\"render\",value:function(){var e=this,t=this.props.abort;return i.default.createElement(v.default,{onClickOutside:function(e){return t()}},i.default.createElement(\"div\",{className:E.default.main,onClick:function(e){return e.stopPropagation()}},i.default.createElement(\"div\",{className:E.default.content},i.default.createElement(\"h4\",null,\"Nom du nouveau dossier : \"),i.default.createElement(\"input\",{type:\"text\",value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})},style:this.state.red&&\"\"===this.state.value?{outline:\"1px auto red\"}:{}})),i.default.createElement(\"div\",{className:E.default.actions},i.default.createElement(\"button\",{className:(0,d.default)(m.default.button,m.default.default),onClick:function(e){return t()}},\"ANNULER\"),i.default.createElement(\"button\",{onClick:function(t){return e.checkAndConfirm()},className:(0,d.default)(m.default.button,m.default.default)},\"AJOUTER\"))))}}]),t}(l.Component);t.default=y},\"./src/components/modals/RecallsModal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./node_modules/react-datepicker/dist/react-datepicker.min.js\"),m=a(f);n(\"./node_modules/react-datepicker/dist/react-datepicker.css\");var p=n(\"./node_modules/moment/moment.js\"),E=a(p),h=n(\"./src/constants/recallsFrequencies.json\"),v=a(h),y=n(\"./src/tools/index.js\"),_=n(\"./src/styles/buttons.scss\"),b=a(_),g=n(\"./src/styles/ContactRecallModal.sass\"),C=a(g),S=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),u=e.item||{};return a.state={name:u.name||\"\",deadline:u.deadline||(0,E.default)(e.defaultDate).format(\"DD/MM/YYYY\"),alert:u.alert,frequency:u.frequency||\"\",notes:u.notes||\"\",edit:!1},a}return u(t,e),o(t,[{key:\"componentWillMount\",value:function(){!0===this.props.edit&&(this.state.edit=!0)}},{key:\"componentWillReceiveProps\",value:function(e){}},{key:\"save\",value:function(e){var t=this.state,n=t.name,a=t.deadline,r=t.alert,s=t.frequency,u=t.notes,o={name:n,deadline:a,alert:r,frequency:s,notes:u};this.props.onSave(o),this.close(e)}},{key:\"remove\",value:function(e){this.props.onRemove(),this.close(e)}},{key:\"edit\",value:function(e){e.stopPropagation(),this.setState({edit:!0})}},{key:\"close\",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:\"renderEdition\",value:function(){var e=this;return i.default.createElement(\"div\",{className:C.default.edition,onClick:function(e){return e.stopPropagation()}},i.default.createElement(\"div\",{className:C.default.header},i.default.createElement(\"h1\",null,this.props.title),i.default.createElement(\"button\",{className:(0,d.default)(b.default.button,b.default.default),onClick:function(t){return e.save(t)}},i.default.createElement(\"i\",{className:\"fa fa-floppy-o\"}),\"Enregistrer\"),i.default.createElement(\"button\",{onClick:function(t){return e.close(t)},className:(0,d.default)(b.default.button,b.default.stable,b.default.clear)},i.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),i.default.createElement(\"form\",{className:C.default.content},i.default.createElement(\"div\",{className:C.default.group},i.default.createElement(\"label\",null,\"Nom\"),i.default.createElement(\"input\",{type:\"text\",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},className:\"form-control\"})),i.default.createElement(\"div\",{className:C.default.group},i.default.createElement(\"label\",null,\"Echéance\"),i.default.createElement(m.default,{dateFormat:\"DD/MM/YYYY\",locale:\"fr-fr\",isClearable:!1,selected:(0,E.default)(this.state.deadline,\"DD/MM/YYYY\"),onChange:function(t){return e.setState({deadline:t&&t.format(\"DD/MM/YYYY\")})}})),i.default.createElement(\"div\",{className:C.default.group},i.default.createElement(\"label\",null,\"Alerte\"),i.default.createElement(m.default,{dateFormat:\"DD/MM/YYYY\",locale:\"fr-fr\",isClearable:!0,selected:this.state.alert&&(0,E.default)(this.state.alert,\"DD/MM/YYYY\"),onChange:function(t){return e.setState({alert:t&&t.format(\"DD/MM/YYYY\")})}})),i.default.createElement(\"div\",{className:C.default.group},i.default.createElement(\"label\",null,\"Fréquence\"),i.default.createElement(\"select\",{type:\"text\",value:this.state.frequency,onChange:function(t){return e.setState({frequency:t.target.value})},className:\"form-control\"},i.default.createElement(\"option\",null,\"Aucune\"),(0,y.createOptionsFromArray)(v.default))),i.default.createElement(\"div\",{className:C.default.group},i.default.createElement(\"label\",null,\"Notes\"),i.default.createElement(\"textarea\",{value:this.state.notes,onChange:function(t){return e.setState({notes:t.target.value})},className:\"form-control\"}))))}},{key:\"renderView\",value:function(){var e=this;return i.default.createElement(\"div\",{className:C.default.main,onClick:function(e){return e.stopPropagation()}},i.default.createElement(\"div\",{className:C.default.header},i.default.createElement(\"h1\",null,this.state.name),i.default.createElement(\"button\",{className:(0,d.default)(b.default.button,b.default.default),onClick:function(t){return e.edit(t)}},i.default.createElement(\"i\",{className:\"fa fa-edit\"}),i.default.createElement(\"span\",{className:b.default.text},\"Modifier\")),i.default.createElement(\"button\",{onClick:function(t){return e.remove(t)},className:(0,d.default)(b.default.button,b.default.assertive)},i.default.createElement(\"i\",{className:\"ion-ios-trash-outline\"}),i.default.createElement(\"span\",{className:b.default.text},\"Supprimer\")),i.default.createElement(\"button\",{onClick:function(t){return e.close(t)},className:(0,d.default)(b.default.button,b.default.stable,b.default.clear)},i.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),i.default.createElement(\"div\",{className:C.default.content},i.default.createElement(\"div\",null,i.default.createElement(\"h3\",null,\"Echéance\"),i.default.createElement(\"p\",null,this.state.deadline)),i.default.createElement(\"div\",null,i.default.createElement(\"h3\",null,\"Alerte\"),i.default.createElement(\"p\",null,this.state.alert)),i.default.createElement(\"div\",null,i.default.createElement(\"h3\",null,\"Fréquence\"),i.default.createElement(\"p\",null,this.state.frequency)),i.default.createElement(\"div\",null,i.default.createElement(\"h3\",null,\"Note\"),i.default.createElement(\"div\",null,this.state.notes&&this.state.notes.split(\"\\n\").map(function(e,t){return i.default.createElement(\"div\",{key:t},e)})))))}},{key:\"render\",value:function(){return this.state.edit?this.renderEdition():this.renderView()}}]),t}(l.Component);t.default=S},\"./src/components/modals/SelectorModal.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./src/styles/ImporterModal.sass\"),d=a(c),f=n(\"./src/styles/buttons.scss\"),m=a(f),p=n(\"./node_modules/classnames/index.js\"),E=a(p),h=n(\"./src/components/elements/DirectoryPicker.jsx\"),v=a(h),y=n(\"./src/constants/index.js\"),_=function(e){function t(e,n){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return u(t,e),o(t,[{key:\"componentWillReceiveProps\",value:function(e,t){}},{key:\"cancel\",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:\"select\",value:function(e){this.props.onSelect(this.props.currentPath),this.cancel(e)}},{key:\"render\",value:function(){var e=this;return i.default.createElement(\"div\",{onClick:function(e){return e.stopPropagation()},className:d.default.main},i.default.createElement(\"div\",{className:d.default.dir},i.default.createElement(\"div\",{className:d.default.header},i.default.createElement(\"span\",null,\"CHOISIR UN EMPLACEMENT\"),i.default.createElement(\"button\",{className:(0,E.default)(m.default.button,m.default.stable,m.default.clear),onClick:function(t){return e.cancel(t)}},i.default.createElement(\"i\",{className:\"ion-ios-close-empty\"}))),i.default.createElement(\"div\",{className:d.default.content},i.default.createElement(v.default,{dirs:this.props.documentsTree,root:y.ROOT_PATH,files:this.props.files||!1,hideFiles:this.props.hideFiles||!1,default:this.props.currentPath,rootDirectoryName:y.ROOT_NAME,onPathChange:function(t){return e.props.onDirectoryChange(t)}})),i.default.createElement(\"div\",{className:d.default.footer},i.default.createElement(\"button\",{type:\"button\",className:(0,E.default)(m.default.button,m.default.stable),onClick:function(t){return e.cancel(t)}},i.default.createElement(\"i\",{className:\"ion-ios-arrow-left\"}),\"ANNULER\"),i.default.createElement(\"button\",{type:\"button\",className:(0,E.default)(m.default.button,m.default.stable),onClick:function(t){return e.select(t)}},i.default.createElement(\"i\",{className:\"ion-ios-browsers-outline\"}),\"SELECTIONNER\"))))}}]),t}(l.Component);t.default=_},\"./src/components/utils/CustomInput.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(\"./node_modules/react/react.js\"),c=a(i),d=n(\"./node_modules/react-datepicker/dist/react-datepicker.min.js\"),f=a(d),m=n(\"./node_modules/moment/moment.js\"),p=a(m),E=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={value:\"\"},a}return u(t,e),l(t,[{key:\"componentWillMount\",value:function(){this.state.value=this.props.value}},{key:\"componentWillReceiveProps\",value:function(e){this.state.value=e.value}},{key:\"onChangePhone\",value:function(e){this.onChange(e)}},{key:\"onChange\",value:function(e){\"date\"===this.props.type&&(e=e&&e.isValid()?e.format(\"DD/MM/YYYY\"):(0,p.default)().format(\"DD/MM/YYYY\")),this.setState({value:e}),this.props.onChange(e)}},{key:\"onChangeMulti\",value:function(e,t){var n=this.state.value;\"object\"!==(void 0===n?\"undefined\":o(n))&&(n={}),n[t]=e,this.setState({value:n}),this.props.onChange(n)}},{key:\"render\",value:function(){var e=this,t=this.state.value,n=this.props.type||\"text\";switch(n){case\"boolean\":return c.default.createElement(\"select\",{autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t,onChange:function(t){return e.onChange(t.target.value)}},c.default.createElement(\"option\",{value:0},\"Non\"),c.default.createElement(\"option\",{value:1},\"Oui\"));case\"list\":return t&&\"\"!==t||!this.props.values||setTimeout(function(){return e.props.onChange(e.props.values[0])}),c.default.createElement(\"select\",{autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t,onChange:function(t){return e.onChange(t.target.value)}},this.props.values.map(function(e,t){return c.default.createElement(\"option\",{key:t,value:e},e)}));case\"listYears\":for(var a=(new Date).getFullYear(),r=[],s=1900;s<=a;s++)r.unshift(s);return t&&\"\"!==t||setTimeout(function(){return e.props.onChange(a)}),c.default.createElement(\"select\",{autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t,onChange:function(t){return e.onChange(t.target.value)}},r.map(function(e,t){return c.default.createElement(\"option\",{key:t,value:e},e)}));case\"date\":return t=t?(0,p.default)(t,\"DD/MM/YYYY\"):(0,p.default)(),c.default.createElement(f.default,{dateFormat:\"DD/MM/YYYY\",locale:\"fr-fr\",isClearable:!1,selected:t,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:\"select\",onChange:function(t){return e.onChange(t)}});case\"email\":return c.default.createElement(\"input\",{type:\"email\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t,onChange:function(t){return e.onChange(t.target.value)},placeholder:this.props.title});case\"telephone\":return c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t,onChange:function(t){return e.onChangePhone(t.target.value)},placeholder:this.props.title});case\"textarea\":return c.default.createElement(\"textarea\",{autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t,onChange:function(t){return e.onChange(t.target.value)},placeholder:this.props.title});case\"contract\":return t=t||{},c.default.createElement(\"div\",null,c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t.company,onChange:function(t){return e.onChangeMulti(t.target.value,\"company\")},placeholder:\"Société\"}),c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t.address,onChange:function(t){return e.onChangeMulti(t.target.value,\"address\")},placeholder:\"Adresse\"}),c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t.email,onChange:function(t){return e.onChangeMulti(t.target.value,\"email\")},placeholder:\"Email\"}),c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t.telephone,onChange:function(t){return e.onChangeMulti(t.target.value,\"telephone\")},placeholder:\"Téléphone\"}));case\"address\":return t=t||{},c.default.createElement(\"div\",null,c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t.way,onChange:function(t){return e.onChangeMulti(t.target.value,\"way\")},placeholder:\"Voie\"}),c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t.code,onChange:function(t){return e.onChangeMulti(t.target.value,\"code\")},placeholder:\"Code postal\"}),c.default.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t.city,onChange:function(t){return e.onChangeMulti(t.target.value,\"city\")},placeholder:\"Ville\"}));default:return c.default.createElement(\"input\",{type:n,autoFocus:this.props.autoFocus,className:this.props.className,style:this.props.style,value:t,placeholder:this.props.title,onChange:function(t){return e.onChange(t.target.value)}})}}}]),t}(i.Component);t.default=E},\"./src/components/utils/EtiquetteEnergy.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.CO2=t.NRJ=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./src/styles/Main.sass\"),d=(a(c),n(\"./public/images/Etiquette_NRJ.jpg\")),f=a(d),m=n(\"./public/images/Etiquette_CO2.jpg\"),p=a(m),E=n(\"./public/images/Etiquette_cursor.png\"),h=a(E),v=t.NRJ=\"NRJ\",y=t.CO2=\"CO2\",_=[{class:\"A\",max:50},{class:\"B\",max:90},{class:\"C\",max:150},{class:\"D\",max:230},{class:\"E\",max:330},{class:\"F\",max:450},{class:\"G\",max:1/0}],b=[{class:\"A\",max:5},{class:\"B\",max:10},{class:\"C\",max:20},{class:\"D\",max:35},{class:\"E\",max:55},{class:\"F\",max:80},{class:\"G\",max:1/0}],g=function(e){function t(e){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return u(t,e),o(t,[{key:\"render\",value:function(){return i.default.createElement(\"canvas\",{ref:\"canvas\",width:10,height:10})}},{key:\"componentDidMount\",value:function(){this.createEtiquette(this.refs.canvas,this.props.value,this.props.type,this.props.size)}},{key:\"componentDidUpdate\",value:function(){this.createEtiquette(this.refs.canvas,this.props.value,this.props.type,this.props.size)}},{key:\"createEtiquette\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;if(e){var r=e.parentElement,s=e.getContext(\"2d\"),u=e.width=Math.min(r.clientWidth,a),o=e.height=a,l=new Image,i=void 0;n===v?(l.src=f.default,i=_):n===y&&(l.src=p.default,i=b);var c=void 0;if(\"\"===t||\"string\"!=typeof t)t=null;else{t=this.safeValue(t),t=Math.min(t,999),t=Math.max(0,t);for(var d=0;d<i.length;d++)if(i[d].max>=t){c=d;break}}var m=.74/(i.length-1),E=.125+m*c;l.onload=function(){var e=u/l.width;if(s.drawImage(l,0,0,u,o),s.textBaseline=\"middle\",null!==t){var n=new Image;n.src=h.default,n.onload=function(){var a=n.height*e,r=n.width*e,l=.02*r|0,i=u-.02*u,c=E*o-a/2;s.drawImage(n,i-r,c,r,a),s.font=\"14px Arial\",s.textAlign=\"right\",s.fillStyle=\"white\",s.fillText(t.toFixed(1),i-l,c+a/2)}}else s.globalAlpha=.7,s.fillStyle=\"black\",s.fillRect(0,0,u,o),s.globalAlpha=1,s.fillStyle=\"white\",s.textAlign=\"center\",s.font=\"17px Arial\",s.fillText(\"Non renseigné\",u/2,o/5)}}}},{key:\"safeValue\",value:function(e){if(-1!==e.indexOf(\",\")){var t=e.split(\",\");return+(t[0]+\".\"+t.slice(1).join(\"\"))}return+e}}]),t}(l.PureComponent);t.default=g},\"./src/components/utils/PDFViewer.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./src/styles/pdf.sass\"),m=a(f),p=n(\"./src/components/elements/Loader.jsx\"),E=a(p),h=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperty(a,\"onDocumentComplete\",{enumerable:!0,writable:!0,value:function(e){a.setState({page:1,pages:e})}}),Object.defineProperty(a,\"onPageComplete\",{enumerable:!0,writable:!0,value:function(e){a.setState({page:e})}}),Object.defineProperty(a,\"handlePrevious\",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),1!==a.state.page&&a.setState({page:a.state.page-1})}}),Object.defineProperty(a,\"handleNext\",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.state.page!==a.state.pages&&a.setState({page:a.state.page+1})}}),Object.defineProperty(a,\"handleZoomPlus\",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.state.zoom<2&&a.setState({zoom:a.state.zoom+.5})}}),Object.defineProperty(a,\"handleZoomMinus\",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.state.zoom>0&&a.setState({zoom:a.state.zoom-.5})}}),Object.defineProperty(a,\"renderPagination\",{enumerable:!0,writable:!0,value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i.default.createElement(\"li\",{className:(0,d.default)(\"previous\",m.default.previous,{disabled:1===e}),onClick:a.handlePrevious},i.default.createElement(\"a\",null,i.default.createElement(\"i\",{className:\"fa fa-arrow-left\"}))),s=i.default.createElement(\"li\",{className:(0,d.default)(\"next\",m.default.next,{disabled:e===t}),onClick:a.handleNext},i.default.createElement(\"a\",null,i.default.createElement(\"i\",{className:\"fa fa-arrow-right\"}))),u=void 0;return n&&(u=i.default.createElement(\"li\",{className:(0,d.default)(\"zoom\",m.default.zoom)},i.default.createElement(\"a\",{onClick:a.handleZoomMinus},i.default.createElement(\"i\",{className:\"fa fa-search-minus\"})),\" \",i.default.createElement(\"a\",{onClick:a.handleZoomPlus},i.default.createElement(\"i\",{className:\"fa fa-search-plus\"})))),i.default.createElement(\"nav\",null,i.default.createElement(\"ul\",{className:\"pager\"},r,n&&u,s))}}),a.state={page:0,pages:0,zoom:1,PDF:void 0},a}return u(t,e),o(t,[{key:\"componentWillMount\",value:function(){var e=this;n.e(0).then(n.bind(null,\"./node_modules/react-pdf-js/lib/index.js\")).then(function(t){e.setState({PDF:t.default})})}},{key:\"render\",value:function(){if(this.state.PDF){var e=null;return this.state.pages&&(e=this.renderPagination(this.state.page,this.state.pages,!0)),i.default.createElement(\"div\",null,i.default.createElement(\"div\",{style:{textAlign:\"center\",overflow:\"auto\"}},i.default.createElement(this.state.PDF,{file:this.props.url,onDocumentComplete:this.onDocumentComplete,onPageComplete:this.onPageComplete,page:this.state.page,rotate:0,scale:this.state.zoom,loading:i.default.createElement(E.default,null)})),e,i.default.createElement(\"p\",{style:{textAlign:\"center\"}},this.state.page+\" / \"+this.state.pages))}return i.default.createElement(E.default,null)}}]),t}(l.Component);t.default=h},\"./src/components/utils/RenameInput.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./src/styles/buttons.scss\"),m=a(f),p=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.closeIntent=null,a.name=a.props.name,a.state={newName:a.props.name.replace(/[\\/*\\\\'\":|=,\\[\\]]/,\"_\")},a}return u(t,e),o(t,[{key:\"cancelRename\",value:function(e){var t=this;this.closeIntent=setTimeout(function(){t.props.onCancel()},100)}},{key:\"stopCancelRename\",value:function(){clearTimeout(this.closeIntent)}},{key:\"checkNewName\",value:function(e){/[\\/*\\\\'\":|=,\\[\\]]/.test(e)||this.setState({newName:e})}},{key:\"rename\",value:function(){if(this.name===this.state.newName)return this.props.onCancel();this.props.onRename(this.state.newName)}},{key:\"render\",value:function(){var e=this;return i.default.createElement(\"span\",{style:{display:\"inline-flex\"}},i.default.createElement(\"input\",{autoFocus:!0,type:\"text\",value:this.state.newName,onChange:function(t){return e.checkNewName(t.target.value)},onKeyPress:function(t){\"Enter\"===t.key&&e.rename()},style:{width:10+13.1*this.state.newName.length+\"px\"}}),i.default.createElement(\"button\",{className:(0,d.default)(m.default.button,m.default.stable),onFocus:function(t){return e.stopCancelRename()},onClick:function(){return e.rename()}},i.default.createElement(\"i\",{className:\"ion-ios-checkmark-empty\"})),i.default.createElement(\"button\",{className:(0,d.default)(m.default.button,m.default.assertive),onClick:function(t){return e.cancelRename()}},i.default.createElement(\"i\",{className:\"ion-ios-close-empty\"})))}}]),t}(l.Component);t.default=p},\"./src/components/utils/TXTViewer.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=(a(c),n(\"./src/components/elements/Loader.jsx\")),f=a(d),m=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={content:\"\",loading:!0},a}return u(t,e),o(t,[{key:\"componentWillMount\",value:function(){var e=this;fetch(this.props.url).then(function(e){return e.text()}).then(function(t){return e.setState({content:t,loading:!1})}).catch(function(t){return e.setState({content:\"Impossible de lire le fichier\",loading:!1})})}},{key:\"render\",value:function(){return i.default.createElement(\"div\",null,i.default.createElement(f.default,{display:this.state.loading}),!this.state.loading&&i.default.createElement(\"div\",{style:{textAlign:\"left\",margin:\"30px\"}},this.state.content.split(\"\\n\").map(function(e,t){return i.default.createElement(\"p\",{key:t},e)})),!this.state.loading&&this.state.error&&i.default.createElement(\"p\",{style:{textAlign:\"center\"}},this.props.url))}}]),t}(l.Component);t.default=m},\"./src/components/utils/TypeChanger.jsx\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(\"./node_modules/react/react.js\"),i=a(l),c=n(\"./node_modules/classnames/index.js\"),d=a(c),f=n(\"./src/styles/buttons.scss\"),m=a(f),p=n(\"./src/scripts/fileTypes.js\"),E=(0,p.getTypesByGroup)(),h=function(e){function t(e,n){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.closeIntent=null,a.type=a.props.type,a.state={newType:a.props.type},a}return u(t,e),o(t,[{key:\"cancelChange\",value:function(){var e=this;this.closeIntent=setTimeout(function(){e.props.onCancel()},100)}},{key:\"stopCancelChange\",value:function(){clearTimeout(this.closeIntent)}},{key:\"checkNewType\",value:function(e){this.setState({newType:e})}},{key:\"change\",value:function(){if(this.name===this.state.newType)return this.props.onCancel();this.props.onChange(this.state.newType)}},{key:\"render\",value:function(){var e=this;return i.default.createElement(\"span\",{style:{display:\"inline-flex\"}},i.default.createElement(\"select\",{autoFocus:!0,value:this.state.newType,onChange:function(t){return e.checkNewType(t.target.value)},onKeyPress:function(t){\"Enter\"===t.key&&e.change()}},i.default.createElement(\"option\",{value:\"\"},\"Choisir un type\"),E.map(function(e,t){return i.default.createElement(\"optgroup\",{label:e.name,key:t},e.types.map(function(e,t){return i.default.createElement(\"option\",{key:t,value:e.key},e.name)}))}),i.default.createElement(\"option\",{value:\"\"},\"Autre\")),i.default.createElement(\"button\",{className:(0,d.default)(m.default.button,m.default.stable),onFocus:function(t){return e.stopCancelChange()},onClick:function(){return e.change()}},i.default.createElement(\"i\",{className:\"ion-ios-checkmark-empty\"})),i.default.createElement(\"button\",{className:(0,d.default)(m.default.button,m.default.assertive),onClick:function(t){return e.cancelChange()}},i.default.createElement(\"i\",{className:\"ion-ios-close-empty\"})))}}]),t}(l.Component);t.default=h},\"./src/constants/contactTypes.json\":function(e,t){e.exports=[\"Rénovation générale\",\"Plomberie\",\"Electricité\",\"Couverture\",\"Chauffage/Ventilation/Climatisation\",\"Peinture\",\"Banque\",\"Assurance\",\"Notaire\",\"Agence Immobilière\",\"Courtier\",\"Opérateur téléphonie/internet\",\"Gardien(ne)\",\"Syndic\",\"Autre\"]},\"./src/constants/data/contact.json\":function(e,t){e.exports=[{name:\"Informations principales\",group:[{name:\"firstname\",display:\"Prénom\"},{name:\"lastname\",display:\"Nom\"},{name:\"telephone\",display:\"Téléphone\",type:\"telephone\"},{name:\"email\",display:\"Email\",type:\"email\"},{name:\"address\",display:\"Adresse\",type:\"address\"},{name:\"speciality\",display:\"Spécialité\",type:\"list\",value:[\"Rénovation générale\",\"Plomberie\",\"Electricité\",\"Couverture\",\"Chauffage/Ventilation/Climatisation\",\"Peinture\",\"Banque\",\"Assurance\",\"Notaire\",\"Agence Immobilière\",\"Courtier\",\"Opérateur téléphonie/internet\",\"Gardien(ne)\",\"Syndic\",\"Autre\"]},{name:\"satisfaction\",display:\"Satisfaction\",type:\"rate\"},{name:\"nbRealisedProjects\",display:\"Nombre de projets réalisés\",type:\"number\"}]}]},\"./src/constants/data/diagnosis.json\":function(e,t){e.exports=[{name:\"Informations principales\",group:[{name:\"type\",display:\"Type\",type:\"list\",values:[\"DPE\",\"ERNMT\",\"Plomb (CREP)\",\"Amiante (DAPP)\",\"Installation intérieur élétricité\",\"Installation intérieur de gaz\",\"autre\"],required:!0,question:\"Quel est le type de diagnostic effectué ?\"},{name:\"name\",display:\"Nom\",question:\"Quel est l'intitulé du diagnostic ?\"},{name:\"date\",display:\"Date de réalisation\",type:\"date\",required:!0,question:\"A quelle date ?\"},{name:\"expirationDate\",display:\"Date d'expiration\",type:\"date\",question:\"Quand expire t-il ?\"},{name:\"DPEEnergyClass\",display:\"Étiquette énergétique DPE\",depend:{key:\"type\",value:\"DPE\"},question:\"Quelle est l'étiquette énergétique calculée durant le diagnostic ?\",type:\"list\",values:[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"]},{name:\"realEnergyConsommation\",display:\"consommation conventionnelle kWh/m².an\",type:\"number\",depend:{key:\"type\",value:\"DPE\"},question:\"Quelle est la consommation conventionnelle calculée durant le diagnostic ?\"},{name:\"carbonClass\",display:\"Étiquette carbon\",depend:{key:\"type\",value:\"DPE\"},question:\"Quelle est l'étiquette carbone calculée durant le diagnostic ?\",type:\"list\",values:[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"]},{name:\"CO2emission\",display:\"estimation émission kg eq CO2 / m².an\",type:\"number\",depend:{key:\"type\",value:\"DPE\"},question:\"Quelle est l'estimation d'émission calculée durant le diagnostic ?\"},{name:\"cep\",display:\"Coefficient Cep\",type:\"number\",depend:{key:\"type\",value:\"DPE\"},question:\"Quel est le coefficient CEP calculé durant le diagnostic ?\"},{name:\"bbio\",display:\"Coefficient Bbio\",type:\"number\",depend:{key:\"type\",value:\"DPE\"},question:\"Quel est le coefficient BBio calculé durant le diagnostic ?\"},{name:\"tic\",display:\"Valeur TIC\",type:\"number\",depend:{key:\"type\",value:\"DPE\"},question:\"Quelle est la valeur TIC calculée durant le diagnostic ? (degré celsius)\"}]},{name:\"Donnée\",group:[{name:\"thermalBridge\",display:\"Pont thermal\"},{name:\"ventilation\",display:\"Ventilation\"},{name:\"lighting\",display:\"Lumière\"}]},{name:\"Données d'équipements\",group:[{name:\"heat\",display:\"Chaleur\"},{name:\"cold\",display:\"Froid\"},{name:\"sanitary\",display:\"Sanitaire\"}]}]},\"./src/constants/data/equipment.json\":function(e,t){e.exports=[{name:\"Informations principales\",group:[{name:\"type\",display:\"Type\",type:\"list\",values:[\"Ventilation naturelle\",\"VMC\",\"VMC Gaz\",\"Autre système de ventilation\",\"Eau chaude sanitaire électrique\",\"Eau chaude sanitaire thermodynamique\",\"Eau chaude solaire\",\"Chaudière à gaz\",\"Chaudière fuel\",\"Poêle à bois\",\"Cheminée, foyer, insert\",\"Radiateurs électriques\",\"Chauffage solaire\",\"Pompe à chaleur\",\"Climatiseur\",\"Installation photovoltaïques\",\"Réfrigérateur\",\"Lave-linge\",\"Cuisinière\",\"Table de cuisson\",\"Four\",\"Lave-vaisselle\",\"Cave à vin\",\"Sèche-linge\",\"Box de pilotage maison\",\"Box internet/télévision\",\"Autre\"],required:!0,question:\"De quel type est votre équipement ?\"},{name:\"name\",display:\"Nom\",question:\"Quelle est le nom de votre équipement ?\"},{name:\"brand\",display:\"Marque\",question:\"Quelle est la marque de votre équipement ?\"},{name:\"model\",display:\"Modèle\",depend:\"brand\",question:\"Quel est le modèle de votre équipement ?\"},{name:\"buyDate\",display:\"Date d'achat\",type:\"date\",question:\"Quand avez-vous acheté cet équipement ?\"},{name:\"installDate\",display:\"Date d'installation\",type:\"date\",question:\"Quand avez-vous installé cet équipement ?\"},{name:\"guaranteeEndDate\",display:\"Date de fin de garantie\",type:\"date\",question:\"Quelle est la date de fin de garantie ?\"},{name:\"lastMaintenanceDate\",display:\"Date de la dernière maintenance\",type:\"date\",question:\"Quelle est la date du dernier entretien ?\"},{name:\"energyClass\",display:\"Classe énergetique\",question:\"Quelle est la classe énergétique de cet équipement ?\"}]}]},\"./src/constants/data/home.json\":function(e,t){e.exports=[{name:\"Informations principales\",group:[{name:\"status\",display:\"Statut résident\",type:\"list\",values:[\"Propriétaire\",\"Locataire\"],question:\"Quel est votre status de résident ?\"},{name:\"type\",display:\"Type de logement\",type:\"list\",values:[\"Individuel\",\"Collectif\"],question:\"Dans quel type de logement vivez vous ?\"},{name:\"constructionDate\",display:\"Année de construction\",type:\"listYears\",question:\"Quelle est l'année de construction de votre logement ?\"},{name:\"buyDate\",display:\"Année d'achat\",type:\"listYears\",question:\"Quelle est l'année d'achat de votre logement ?\"},{name:\"address\",display:\"Adresse\",type:\"address\",required:!0,question:\"Quelle est l'adresse de votre logement ?\"},{name:\"telephone\",display:\"Téléphone\",type:\"telephone\",question:\"Quel est votre numéro de téléphone ?\"},{name:\"email\",display:\"Email\",type:\"email\",question:\"Quel est votre e-mail ?\"},{name:\"livingAreaLoiCarrez \",display:\"Surface habitable (Loi Carrez)\",type:\"number\",question:\"De quelle taille est la surface habitable de votre logement definit par la Loi Carrez ?\"},{name:\"livingArea\",display:\"Surface totale\",type:\"number\",question:\"De quelle taille est la surface totale de votre logement ?\"},{name:\"roomsCount\",display:\"Nombre de pièces\",type:\"number\"}]},{name:\"Pièces\",type:\"rooms\",multi:!0,group:[{name:\"type\",display:\"Type de pièce\",type:\"list\",values:[\"Logement entier\",\"Cuisine\",\"Salle de bain\",\"Salon\",\"Salle à manger\",\"Toilet\",\"Parties communes\",\"Toit\",\"Cave\",\"Combles\",\"Chambre\",\"Jardin\",\"Façade extérieure\",\"Balcon\",\"Entrée\",\"Couloir\",\"Dégagement\",\"Loggia\",\"Mezzanine\"]},{name:\"size\",display:\"Surface\",type:\"area\"},{name:\"number\",display:\"Numéro\",type:\"number\"},{name:\"length\",display:\"Longueur\",type:\"number\"},{name:\"width\",display:\"Largeur\",type:\"number\"},{name:\"height\",display:\"Hauteur sous plafond\",type:\"number\"},{name:\"comment\",display:\"Commentaire\",type:\"textarea\"}]}]},\"./src/constants/data/maintenance.json\":function(e,t){e.exports=[{name:\"Informations principales\",group:[{name:\"name\",display:\"Nom du contrat\",required:!0,question:\"Quel est l'intitulé de cet entretien ?\"},{name:\"date\",display:\"Date de réalisation\",type:\"date\",required:!0,question:\"Quand à t'il était réalisé ?\"},{name:\"deadline\",display:\"Date d'échéance\",type:\"list\",values:[\"6 mois\",\"1 ans\",\"2 ans\",\"3 ans\",\"4 ans\",\"5 ans\"],question:\"Quelle est la date d'échéance de cet entretien ?\"},{name:\"contractId\",display:\"Numéro de contrat\",question:\"Quel est le numéro de contrat ?\"},{name:\"contract\",display:\"Contrat\",type:\"contract\",question:\"Quelles sont les informations du contrat ?\"}]}]},\"./src/constants/data/work.json\":function(e,t){e.exports=[{name:\"Informations principales\",group:[{name:\"type\",display:\"Type\",type:\"list\",values:[\"Fenêtres (PVC, bois, alu)\",\"Construction - Extension\",\"Rénovation intérieure\",\"Chauffage - Chaudière\",\"Menuiseries (alu, bois, pvc)\",\"Toiture - Charpente -\",\"Couverture\",\"Climatisation - Ventilation\",\"Electricité - Courant faible\",\"Architecture - Expertise\",\"Salle de bains - WC - SPA\",\"Alarme - Sécurité - Incendie\",\"Peinture - Tapisserie\",\"Isolation thermique et \",\"Plomberie\",\"Façade (ravalement, enduit,...)\",\"Sols intérieurs\",\"Piscine - Abri piscine\",\"Aménagement intérieur\",\"Assainissement - Terrassement\",\"Sols extérieurs\",\"Véranda - Pergola - Verrière\",\"Diagnostics - Traitements\",\"Plafond - Cloison - Plâtre\",\"Jardin - Clôture - Portail\",\"Maçonnerie - Démolition\",\"Ascenseur - Monte-charges\",\"Escalier - Garde corps\",\"Cheminée et accessoires\",\"Divers\"],required:!0,question:\"Quel type de travaux avez-vous réalisé ?\"},{name:\"name\",display:\"Name\",required:!0,question:\"Quel est l'intitulé de ces travaux ?\"},{name:\"craftsman\",display:\"Artisant\",question:\"Avec quel artisan ?\"},{name:\"cost\",display:\"Coût\",type:\"list\",values:[\"< 500 €\",\"500 – 1000 €\",\"1000 – 2000 €\",\"2000 – 5000 €\",\"> 5000€\"],question:\"Quel a été votre budget ?\"},{name:\"dateStart\",display:\"Date de début\",type:\"date\",question:\"Quand ces travaux ont-ils commencé ?\"},{name:\"dateEnd\",display:\"Date de fin\",type:\"date\",depend:\"dateStart\",question:\"Quand se sont-ils terminé ou vont-ils se terminer ?\"},{name:\"contract\",display:\"Contrat\",type:\"contract\",question:\"Quelles sont les informations du contrat ?\"}]},{name:\"Pièces\",multi:!0,type:\"rooms\",group:[{name:\"roomName\",display:\"Type de la pièce\",type:\"list\",values:[\"Logement entier\",\"Cuisine\",\"Salle de bain\",\"Salon\",\"Salle à manger\",\"Wc\",\"Parties communes\",\"Toit\",\"Cave\",\"Combles\",\"Chambre\",\"Jardin\",\"Façade extérieure\",\"Balcon\",\"Entrée\",\"Couloir\",\"Dégagement\",\"Loggia\",\"Mezzanine\"]}]},{name:\"Équipements\",multi:!0,type:\"equipments\",group:[{name:\"equipmentName\",display:\"Type d'équipements\",type:\"list\",values:[\"Ventilation naturelle\",\"VMC\",\"VMC Gaz\",\"Autre système de ventilation\",\"Eau chaude sanitaire électrique\",\"Eau chaude sanitaire thermodynamique\",\"Eau chaude solaire\",\"Chaudière à gaz\",\"Chaudière fuel\",\"Poêle à bois\",\"Cheminée, foyer, insert\",\"Radiateurs électriques\",\"Chauffage solaire\",\"Pompe à chaleur\",\"Climatiseur\",\"Installation photovoltaïques\",\"Réfrigérateur\",\"Lave-linge\",\"Cuisinière\",\"Table de cuisson\",\"Four\",\"Lave-vaisselle\",\"Cave à vin\",\"Sèche-linge\",\"Box de pilotage maison\",\"Autre\"]}]}]},\"./src/constants/documents.json\":function(e,t){e.exports=[{name:\"plan\",tag:\"plans\"},{name:\"permis\",tag:\"deed_of_superficies\"},{name:\"pc\",tag:\"deed_of_superficies\"},{name:\"ccmi\",tag:\"deed_of_superficies\"},{name:\"dommage ouvrage\",tag:\"house_insurance\"},{name:\"do\",tag:\"house_insurance\"},{name:\"choix crepi\",tag:\"deed_of_superficies\"},{name:\"qualigaz\",tag:\"gas_diagnosis\"},{name:\"cpe\",tag:\"energetics_diagnosis\"},{name:\"notice\",tag:\"deed_of_superficies\"},{name:\"attestation\",tag:\"deed_of_superficies\"},{name:\"garanties livraison\",tag:\"deed_of_superficies\"},{name:\"gl\",tag:\"deed_of_superficies\"},{name:\"contrat\",tag:\"deed_of_superficies\"},{name:\"proces verbal\",tag:\"deed_of_superficies\"},{name:\"pv\",tag:\"deed_of_superficies\"},{name:\"declaration\",tag:\"deed_of_superficies\"},{name:\"consuel\",tag:\"deed_of_superficies\"},{name:\"compromis vente\",tag:\"deed_of_superficies\"},{name:\"recepisse depot\",tag:\"deed_of_superficies\"},{name:\"xml_rset\",tag:\"deed_of_superficies\"}]},\"./src/constants/index.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=(t.VERSION=\"2.4.6\",t.DOCTYPE_EQUIPMENTS=\"com.homebook.equipment\"),r=t.DOCTYPE_WORKS=\"com.homebook.work\",s=t.DOCTYPE_MAINTENANCES=\"com.homebook.maintenance\",u=t.DOCTYPE_DIAGNOSIS=\"com.homebook.diagnosis\",o=t.DOCTYPE_HOMEDATA=\"com.homebook.homeData\",l=(t.DOCTYPE_CONTACTS=\"com.homebook.contacts\",t.DOCTYPE_RECALLS=\"com.homebook.recalls\",t.DOCTYPE_META=\"com.homebook.meta\",t.DOCTYPE_NEWS=\"com.homebook.news\",t.COZY_ROOT_ID=\"io.cozy.files.root-dir\",t.ROOT_PATH=\"/Homebook\");t.ROOT_NAME=\"/Documents\",t.DATA_LIST=[{name:\"Diagnostics\",singleName:\"Diagnostic\",addButton:\"Ajouter un diagnostic\",path:l+\"/Diagnostics\",doctype:u,slug:\"diagnosis\"},{name:\"Données de propriété\",singleName:\"Donnée de propriété\",addButton:\"Ajouter une donnée de propriété\",path:l+\"/Documents de propriété\",doctype:o,slug:\"homedata\"},{name:\"Équipements\",singleName:\"Équipement\",addButton:\"Ajouter un Équipement\",path:l+\"/Équipements\",doctype:a,slug:\"equipments\"},{name:\"Travaux\",singleName:\"Travaux\",addButton:\"Ajouter des travaux\",path:l+\"/Travaux\",doctype:r,slug:\"works\"},{name:\"Entretien\",singleName:\"Entretien\",addButton:\"Ajouter des entretiens\",path:l+\"/Entretiens\",doctype:s,slug:\"maintenances\"}],t.FOLDER_LIST=[l+\"/Diagnostics\",l+\"/Documents de propriété\",l+\"/Équipements\",l+\"/Travaux\",l+\"/Entretiens\",l+\"/Usages\"],t.STATUS_DONE=\"loaded\",t.STATUS_LOAD=\"pending\",t.STATUS_ERROR=\"failed\",t.VIEW_LIST=\"VIEW_LIST\",t.VIEW_GRID=\"VIEW_GRID\",t.VIEW_FILE=\"VIEW_FILE\",t.VIEW_DIR=\"VIEW_DIR\",t.SORT_NAME=\"SORT_NAME\",t.SORT_DATE=\"SORT_DATE\",t.TYPE_FOLDER=\"TYPE_FOLDER\",t.TYPE_FILE=\"TYPE_FILE\",t.ALERT_LEVEL_INFO=\"alert_info\",t.ALERT_LEVEL_ERROR=\"alert_error\",t.MAX_FILE_SIZE=20971520},\"./src/constants/recallsFrequencies.json\":function(e,t){e.exports=[\"Une fois\",\"Tous les ans\",\"Tous les mois\",\"Toutes les semaines\",\"Tous les jours\"]},\"./src/constants/taskslist.json\":function(e,t){e.exports={\"task.1\":{display:\"Je déménage\",maxTasks:23,tasks:[{id:0,display:\"Dès que possible\",tasks:[\"Si vous êtes locataire, résilier votre bail auprès de votre propriétaire (J –3 mois ou 1 mois selon les cas)\",\"S'assurer de la scolarité de votre/vos enfant(s): liste, disponibilité, transfert\",\"Vérifier vos droits à la prime de déménagement (voir votre CAF)\",\"Résilier / transférer vos abonnements TV, câble, Internet (J –2 mois à J –1 mois)\"]},{id:1,display:\"Avant le déménagement\",tasks:[\"Transférer ou résilier de votre contrat d'assurance habitation (J –15)\",\"Notifier à votre assurance auto d’un transfert ou résiliation de votre assurance (J –15)\",\"Déclarer votre changement d'adresse aux impôts (J –15)\",\"Service des Eaux: demander la fermeture et ouverture de l'eau dans votre ancien et votre nouveau domicile (J-15 à J-7)\",\"Faites suivre votre courrier à votre nouvelle adresse à La Poste (J-7)\",\"Résilier votre contrat (ancien logement) et ouverture du nouveau contrat (nouveau logement) d’Electricité et de gaz (J-15 à J-2)\",\"Téléphone fixe: résilier / transférer votre ligne (J-15 à J-2)\",\"Téléphone portable: notifier votre opérateur d’une modification de l'adresse de facturation à votre nouvelle adresse (J-7 à J-2)\",\"Prévenir votre employeur de votre changement d’adresse (J-7)\",\"Prévenir votre banque de votre changement d'adresse / transferts éventuels des comptes dans une autre agence ou autre banque\",\"Effectuer votre changement d'adresse pour les prestations sociales (J-1 mois à J+1 mois)\"]},{id:2,display:\"Le jour du déménagement\",tasks:[\"Réaliser l'état des lieux de sortie\",\"Relever l’index des compteurs de gaz et d’électricité et transmettez-les à votre ou vos fournisseurs\"]},{id:3,display:\"Après le déménagement\",tasks:[\"Réaliser l'état des lieux d'entrée\",\"Mise à jour de vos papiers d'identité et carte d'électeur\",\"Changement de carte grise (Jusqu'à J+1 mois)\",\"Redevance TV\",\"Raccordement Internet\",\"Récupérer votre dépôt de garantie (Jusqu'à J+2 mois)\"]}],documents:[{name:\"Document de propriété (bail, autre…)\",slug:\"deed_of_superficies\",tail:2},{name:\"Dernière quittance de loyer\",slug:\"rent_receipt\"},{name:\"Dernière facture opérateurs TV\",slug:\"TV_invoice\"},{name:\"Dernière facture box\",slug:\"box_invoice\"},{name:\"Dernière facture internet\",slug:\"internet_invoice\"},{name:\"Dernière facture téléphone fixe\",slug:\"phone_invoice\"},{name:\"Dernière facture téléphone portable\",slug:\"mobile_phone_invoice\"},{name:\"Derrière facture gaz\",slug:\"gas_invoice\"},{name:\"Dernière facture électricité\",slug:\"electricity_invoice\"},{name:\"Dernière facture eau\",slug:\"water_invoice\"},{name:\"Etat des lieux\",slug:\"status_report\"},{name:\"Contrat / attestation assurance habitation\",slug:\"home_insurance\"},{name:\"Contrat / attestation assurance voiture\",slug:\"car_insurance\"},{name:\"Carte d’identité\",slug:\"identity_card\"},{name:\"RIB\",slug:\"bank_details\"}],contacts:[\"Propriétaire ou bailleur\",\"Syndic\",\"Opérateurs TV, box, internet, téléphone fixe, téléphone portable:\",{name:\"Free\",phone:\"1044\"},{name:\"Orange\",phone:\"3900\"},{name:\"Bouygues Telecom\",phone:\"1064\"},{name:\"SFR\",phone:\"1023\"},{name:\"Numéricâble\",phone:\"3990\"},{name:\"Canal +\",phone:\"0 892 39 39 10\"},{name:\"La Poste\",phone:\"3631\"},\"Opérateur Gaz / Electricité:\",{name:\"EDF\",phone:\"09 69 32 15 15\"},\"Opérateur eau\",\"Assurance(s)\",\"Banque(s)\"]},\"task.3\":{display:\"Aménagements / travaux\",maxTasks:9,tasks:[\"Faites la liste chronologique des travaux à entreprendre. S'il s'agit d'une rénovation importante, la priorité ira aux travaux de sauvegarde (réfection du toit par exemple), puis aux améliorations (aménagements divers, comme la cuisine ou un salon multimédia) et enfin aux finitions (peinture).\",\"Évaluez la somme que vous êtes prêt à dépenser ; prenez contact avec des organismes financiers si vous envisagez un emprunt. Retirez10 à 15% du total obtenu... pour les imprévus ! Vous disposez ainsi d'un budget qui servira de base de travail à un architecte ou aux artisans auxquels vous demanderez des devis.  \",\"Constituez votre dossier rénovation avec photos de magazines et brochures publicitaires pour exprimer le plus précisément possible vos souhaits aux professionnels que vous allez contacter.  \",\"Vérifier vos droits: en tant que locataire vos droits sont régis par le contrat de bail. Même si l’on est propriétaire de son logement, pour certains travaux de rénovation, il peut être nécessaire de demander l’accord de la copropriété (Syndicat des copropriétaires); pensez à vérifier votre règlement de coproriété.\",\"La TVA à taux réduit sur les travaux: certains travaux réalisés dans un logement ouvrent droit à l’application du taux réduit de TVA. Ce taux est fixé à 10%, sauf pour les travaux d’amélioration de la performance énergétique des logements pour lesquels le taux est de 5,5% (plus d’information: https: //www.impots.gouv.fr/portail/professionnel/questions/quel-taux-de-tva-appliquer-pour-les-travaux-realises-dans-les-logements )\",\"Les crédits d’impôts auxquels vous pouvez avoir droit: certains travaux immobiliers ouvrent droit au crédit d’impôt. (pour plus d’information: https: //www.impots.gouv.fr/portail/particulier/depenses-eligibles-au-cite )\",\"Autorisation de travaux:  avant d’entreprendre des travaux chez vous, prenez soin d’obtenir les autorisations nécessaires: accord de la municipalité, acceptation de la copropriété, respect du règlement du lotissement, droit des voisins, et permis de construire. Seuls les travaux d’aménagement intérieur sont dispensés de toute autorisation. (plus d’information: https: //www.service-public.fr/particuliers/vosdroits/F17578)\",\"Prenez contact avec les entreprises. Deux ou trois devis vous permettront d'apprécier leur sérieux et de choisir les meilleures. Assurez-vous qu'elles disposent des assurances nécessaires. Préférez les devis les plus détaillés, indiquant non seulement le prix mais aussi les modalités de paiement (ne payez jamais la totalité des travaux ou des services à l'avance), et précisant le calendrier des interventions. \",\"Conserver une copie des devis et factures\"],documents:[{name:\"Document de propriété (bail, autre…)\",slug:\"deed_of_superficies\",tail:2},{name:\"Devis\",slug:\"works_invoice\"}],contacts:[\"Propriétaire ou bailleur\",\"Syndic\",\"Banque (s)\",\"Contact de l’artisan ou des artisans lié(s) à la fiche travaux\"]},\"task.4\":{display:\"J’ai un sinistre\",maxTasks:14,tasks:[\"Vérifiez que le sinistre dont vous êtes victime est bien pris en charge par votre contrat d'assurance habitation. \",\"Vous avez un délai de 5 jours ouvrés pour déclarer le sinistre à votre assureur. \",\"Si vous avez été victime d'un vol ou d'un cambriolage, portez plainte au commissariat de police ou en gendarmerie et déclarez le à votre assureur, le tout dans un délai de2 jours ouvrés. \",\"Gardez les biens détériorés ou détruits pour permettre à l'expert de constater les dégâts et maximiser votre indemnisation. Ne jetez que les denrées périssables. \",\"Les documents nécessaires pour déclarer un sinistre diffèrent selon le type de sinistre.\",\"Envoyez votre déclaration de sinistre de préférence par courrier recommandé avec accusé de réception à l'adresse postale indiquée sur votre contrat d'assurance habitation. \",{display:\"Liste des documents ou éléments à faire parvenir à assureur pour déclarer votre sinistre:\",tasks:[\"Vos coordonnées.\",\"Votre numéro de contrat d'assurance et/ou votre numéro d'assuré.\",\"La description du sinistre (type de sinistre, date, heure, lieu).\",\"Un inventaire des dommages et leurs descriptions pour chacun des objets ou murs (que ce soit sur le logement ou sur le mobilier).\",\"Les factures des biens détériorés (factures d'achat ou de réparation, certificats de garantie,...).\",\"Les photos des dommages sur le logement et sur les biens (si possible avant et après le sinistre).\",\"Est-ce que votre logement est habitable ? Que la réponse soit positive ou négative, indiquez le.\"]}],documents:[{name:\"Contrat d’assurance\",slug:\"home_insurance\"},{name:\"Les factures des biens détériorés (factures d'achat ou de réparation, certificats de garantie,...).\",type:\"MORE\"},{name:\"Les photos des dommages sur le logement et sur les biens (si possible avant et après le sinistre).\",slug:\"accident_picture\",tail:10}],contacts:[\"Assurance\",\"Syndic\"]},\"task.5\":{display:\"Je loue mon logement\",maxTasks:40,tasks:[{display:\"Annonce internet (ou pour agence)\",tasks:[\"Rédiger un message court\",\"3 photos de qualité pour susciter l’intérêt\"]},{display:\"Information à demander aux candidats locataires lors des premiers échanges:\",tasks:[\"Revenu net. Un revenu net représentant 3 fois les loyers, couplé à une GRL/GLI (pour une GRL, le revenu net doit représenter au moins2 fois les loyers charges comprises; pour une GLI, le revenu doit être au moins3 fois les loyers charges comprises), est une bonne garantie de paiement des loyers (le locataire a les moyens de payer).\",\"CDI (hors période d’essai).\",\"Nombre de personnes qui occuperont le logement.\",\"Quel est le projet du candidat locataire ? Pourquoi souhaite-t-il louer cet appartement ?\"]},{display:\"Information à demander aux candidats locataires:\",tasks:[\"La carte d’identité recto/verso\",\"Le dernier avis d’imposition\",\"Les 3 derniers bulletins de salaire\",\"Un RIB\",\"Demander d’amener les originaux et une copie de chaque document\"]},{display:\"Lors de la visite\",tasks:[\"Vérifier les éléments du dossier demandés lors du contact téléphonique et conserver les copies.\"]},{display:\"Information à demander pour la signature du bail\",tasks:[\"Une copie de l’assurance habitation\",\"La caution représentant un mois de loyer hors charges\",\"Le premier loyer, charges comprises\",\"Préparation de la signature du bail\",\"Pré-remplir deux exemplaire (sauf les données qui pourraient être modifiées en cas de désistement du locataire: la date, l’indice de référence des loyers, les coordonnées du locataire, etc…) et signer:\",\"Le contrat de bail\",\"L’état des lieux\",\"Le diagnostic de performance énergétique\",\"Le constat de risque d’exposition au plomb\",\"L’état des risques naturels et technologiques\"]},{display:\"Signature du bail et remise des clés\",tasks:[\"Refaire visiter l’appartement.\",\"Finir de remplir le bail, en faire la lecture et le signer.\",\"Proposer au locataire de faire le tour de l’appartement et de signaler des observations à ajouter à l’état des lieux puis le signer.\",\"Faire signer le dossier technique.\"]},{display:\"Remettre au locataire: \",tasks:[\"2 RIB (le second pour constitution d’un éventuel dossier d’aide au logement du locataire, le cas échéant)\",\"Une copie du contrat de bail\",\"Une copie de l’état des lieux\",\"Une copie du diagnostic de performance énergétique\",\"Une copie du constat de risque d’exposition au plomb\",\"Une copie de l’état des risques naturels et technologiques\",\"Les clés de l’appartement\"]},{display:\"Recevoir du locataire:\",tasks:[\"L’assurance habitation\",\"La caution (un mois de loyer hors charges) et le premier loyer (un mois de loyer charges comprises)\"]},{display:\"Documents à conserver\",tasks:[\"Une copie du contrat de bail\",\"Une copie de l’état des lieux\",\"Une copie du diagnostic de performance énergétique\",\"Une copie du constat de risque d’exposition au plomb\",\"Une copie de l’état des risques naturels et technologiques\"]}],documents:[{name:\"Assurance habitation (du locataire)\",slug:\"home_insurance\"},{name:\"Le contrat de bail\",slug:\"lease_agreement\"},{name:\"L’état des lieux\",slug:\"status_report\"},{name:\"Le diagnostic de performance énergétique\",slug:\"energetics_diagnosis\"},{name:\"Le constat de risque d’exposition au plomb\",slug:\"lead_diagnosis\"},{name:\"L’état des risques naturels et technologiques\",slug:\"ernmt_diagnosis\"},{name:\"RIB (du propriétaire)\",type:\"MORE\"},{name:\"RIB (du locataire)\",type:\"MORE\"},{name:\"Les photos du bien\",slug:\"home_picture\"},{name:\"La carte d’identité recto/verso (du locataire)\",slug:\"identity_card\"},{name:\"Le dernier avis d’imposition (du locataire)\",slug:\"tax_notice\",tail:3},{name:\"Les 3 derniers bulletins de salaire (du locataire)\",slug:\"pay_slip\",tail:3}],contacts:[\"Locataire\",\"Agence Immobilier\",\"Assurance\",\"Syndic\"]},\"task.6\":{display:\"Je vends mon logement\",maxTasks:27,tasks:[{display:\"Avant la mise en vente\",tasks:[\"Rédiger un message court \",\"Estimer la valeur de l'appartement ;\",\"Choisir une agence immobilière ou passer des annonces de particulier à particulier sur internet ou dans des journaux ;\",\"Faire les diagnostics techniques obligatoires (surface, plomb, amiante, termites, gaz, risques naturels et technologiques, performance énergétique, électricité) ;\",\"Réunir les documents\",\"Le dossier de diagnostics techniques (surface, plomb, amiante, termites, gaz, risques naturels et technologiques, performance énergétique, électricité ; plus d’informations: https: //www.service-public.fr/particuliers/vosdroits/N20591)\",\"Justificatif sur l'état de l'installation ou du raccord au réseau d'assainissement\",\"Les avis de taxes foncière et d'habitation\"]},{display:\"Si coprorpiété:\",tasks:[\"Le dernier procès-verbal d'assemblée générale\",\"Le carnet d'entretien de l'immeuble\",\"Le règlement de copropriété\"]},{display:\"La mise en vente\",tasks:[\"Préparer les visites de l'appartement\",\"ranger l'appartement ;\",\"faire le ménage ;\",\"enlever les éléments de décoration trop marqués ;\",\"enlever les meubles trop volumineux ;\",\"faire les petites réparations ;\",\"repeindre si nécessaire.\",\"Contacter un notaire\"]},{display:\"La signature du compromis\",tasks:[\"Compromis de vente en autant d'exemplaires qu'il y a de signataires\"]},{display:\"Le jour de la signature: document à apporter chez le notaire:\",tasks:[\"le titre de propriété ;\",\"le livret de famille ;\",\"la copie d'acte de mariage ou de Pacs (Pacte civil de solidarité) ;\",\"un justificatif de domicile (facture électricité, téléphone, ...) ;\",\"les diagnostics techniques obligatoires ;\",\"l'attestation du syndic concernant votre situation relative aux charges ;\",\"les clés.\"]}],documents:[{name:\"Diagnostic de Performance Energétique\",slug:\"energetics_diagnosis\"},{name:\"État des Risques Naturels, Miniers et Technologiques (ERNMT)\",slug:\"ernmt_diagnosis\"},{name:\"Diagnostic de Plomb (CREP)\",slug:\"lead_diagnosis\"},{name:\"Diagnostic d'Amiante (DAPP)\",slug:\"asbestos_diagnosis\"},{name:\"Diagnostic Electricité\",slug:\"electricity_diagnosis\"},{name:\"Diagnostic Gaz\",slug:\"gas_diagnosis\"},{name:\"Justificatif sur l'état de l'installation ou du raccord au réseau d'assainissement\",type:\"MORE\"},{name:\"Les avis de taxes foncière \",slug:\"property_tax\"},{name:\"Les avis de taxes d'habitation\",slug:\"housing_tax\"},{name:\"Le dernier procès-verbal d'assemblée générale\",slug:\"6\"},{name:\"Le carnet d'entretien de l'immeuble\",slug:\"3\"},{name:\"Le règlement de copropriété\",slug:\"condominium_regulation\"},{name:\"Compromis de vente en autant d'exemplaires qu'il y a de signataires\",slug:\"sales_agreement\"},{name:\"le titre de propriété ;\",type:\"MORE\"},{name:\"le livret de famille ;\",slug:\"family_record_book\"},{name:\"la copie d'acte de mariage ou de Pacs (Pacte civil de solidarité) ;\",slug:\"marriage_certificate\"},{name:\"un justificatif de domicile (facture électricité, téléphone, ...) ;\",type:\"MORE\"},{name:\"l'attestation du syndic concernant votre situation relative aux charges ;\",type:\"MORE\"}],contacts:[\"Assurance\",\"Syndic\",\"Banque\",\"Notaire\",\"Agence Immobilière\"]}}},\"./src/constants/types.json\":function(e,t){e.exports=[{name:\"Données contractuelles de propriétés\",location:\"/Documents de propriété\",types:[{key:\"deed_of_superficies\",name:\"Acte de propriété\"},{key:\"plans\",name:\"Plans\"},{key:\"home_picture\",name:\"Photos du bien\"},{key:\"5\",name:\"Justificatif sur l'état de l'installation ou du raccord au réseau d'assainissement\",perso:!0},{key:\"sales_agreement\",name:\"Compromis de vente\",perso:!0}]},{name:\"Equipements\",location:\"/Équipements\",types:[{key:\"equipments_notice\",name:\"Notice d’utilisation des équipements\"},{key:\"equipment_invoice\",name:\"Devis, facture d'équipement\"}]},{name:\"Travaux\",location:\"/Travaux\",types:[{key:\"works_invoice\",name:\"Devis, facture, éléments d’une opération de travaux\"}]},{name:\"Entretien\",location:\"/Entretiens\",types:[{key:\"maintenance_contract\",name:\"Contrat d'entretien\"}]},{name:\"Données logements privées\",location:\"/Usages\",perso:!0,types:[{key:\"supplies_contract\",name:\"Contrat de fourniture énergies\"},{key:\"water_contract\",name:\"Contrat d'eau\"},{key:\"telecom_contract\",name:\"Contrat télécom\"},{key:\"house_insurance\",name:\"Assurance habitation\"},{key:\"rent_receipt\",name:\"Quittance de loyer\"},{key:\"TV_invoice\",name:\"Facture TV\"},{key:\"box_invoice\",name:\"Facture box\"},{key:\"internet_invoice\",name:\"Facture internet\"},{key:\"phone_invoice\",name:\"Facture téléphone fixe\"},{key:\"mobile_phone_invoice\",name:\"Facture téléphone portable\"},{key:\"gas_invoice\",name:\"Facture gaz\"},{key:\"electricity_invoice\",name:\"Facture électricité\"},{key:\"water_invoice\",name:\"Facture eau\"},{key:\"status_report\",name:\"Etat des lieux\"},{key:\"home_insurance\",name:\"Contrat / attestation assurance habitation\"},{key:\"car_insurance\",name:\"Contrat / attestation assurance voiture\"},{key:\"identity_card\",name:\"Carte d’identité\"},{key:\"bank_details\",name:\"RIB\"},{key:\"estimate\",name:\"Devis\"},{key:\"lease_agreement\",name:\"Contrat de bail\"},{key:\"tax_notice\",name:\"Avis d’imposition\"},{key:\"identity_document\",name:\"Document d’identité\"},{key:\"pay_slip\",name:\"Bulletin de salaire\"},{key:\"property_tax\",name:\"Taxe foncière\"},{key:\"housing_tax\",name:\"Taxe d’habitation\"},{key:\"family_record_book\",name:\"Livret de famille\"},{key:\"marriage_certificate\",name:\"Acte de mariage ou de Pacs (Pacte civil de solidarité)\"},{key:\"maintemance_invoice\",name:\"Factures entretien / réparation\"},{key:\"accident_picture\",name:\"Photos sinistre\"}]},{name:\"Diagnostics\",location:\"/Diagnostics\",types:[{key:\"energetics_diagnosis\",name:\"Diagnostic de Performance Energétique\"},{key:\"ernmt_diagnosis\",name:\"État des Risques Naturels, Miniers et Technologiques (ERNMT)\"},{key:\"lead_diagnosis\",name:\"Plomb (CREP)\"},{key:\"asbestos_diagnosis\",name:\"Amiante (DAPP)\"},{key:\"electricity_diagnosis\",name:\"Diagnostic Electricité\"},{key:\"gas_diagnosis\",name:\"Diagnostic Gaz\"}]},{name:\"Copropriété\",location:\"/Documents de propriété\",types:[{key:\"condominium_regulation\",name:\"Règlement de copropriété\"},{key:\"1\",name:\"Procès-verbaux des 3 dernières AG\"},{key:\"2\",name:\"Fiche synthétique de copropriété\"},{key:\"3\",name:\"Carnet d’entretien de la copropriété\"},{key:\"4\",name:\"Impayés de charges au sein du syndicat et dettes\"},{key:\"6\",name:\"Procès verbal Assemblé Générale\"}]}]},\"./src/containers/Alerter.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/react-redux/es/index.js\"),s=n(\"./node_modules/react-portal/build/portal.js\"),u=a(s),o=n(\"./src/actions/index.js\"),l=n(\"./src/components/modals/InfomationModal.jsx\"),i=a(l),c=function(e){var t=e.alerts,n=e.dismiss;return React.createElement(\"div\",null,t.map(function(e,t){return React.createElement(u.default,{key:t,isOpened:!0},React.createElement(i.default,{infos:e.message,level:e.level||DEFAULT_ALERT_LEVEL,onClose:function(t){return n(e.id)},position:t}))}))},d=function(e){return{alerts:e.alerts}},f=function(e){return{dismiss:function(t){return e((0,o.alertDismiss)(t))}}},m=(0,r.connect)(d,f)(c);t.default=m},\"./src/containers/App.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/constants/index.js\"),u=n(\"./src/App.jsx\"),o=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(e){return{initilizeGauge:function(){e((0,r.gaugeInitialize)())},initilizeDocs:function(){e((0,r.documentsInitialize)())},alert:function(t,n){e((0,r.alertShow)(t,n))},reloadDocs:function(){e((0,r.loadFolder)(s.ROOT_PATH))}}},i=(0,a.connect)(null,l)(o.default);t.default=i},\"./src/containers/Assistant.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/Assistant.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=(n(\"./src/scripts/fileTypes.js\"),function(e){return{usedType:e.gauge.usedTypes,dataCreated:e.gauge.dataCreated,status:e.gauge.status}}),l=function(e){return{onFileClick:function(t,n){e((0,r.importerClick)(t,n))}}},i=(0,a.connect)(o,l)(u.default);t.default=i},\"./src/containers/Contacts.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/react-redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/components/elements/Contacts.jsx\"),o=a(u),l=n(\"./src/scripts/confirm.js\"),i=a(l),c=n(\"./node_modules/react/react.js\"),d=a(c),f=n(\"./src/components/modals/ConfirmModal.jsx\"),m=a(f),p=d.default.createElement(m.default,null,d.default.createElement(\"p\",null,\"Voulez-vous supprimer ce contact ?\")),E=function(e){return{elements:e.contacts.elements,count:e.contacts.elementCount,selectedCount:e.contacts.selectedCount,status:e.contacts.fetchStatus}},h=function(e){return{onSelectContact:function(t){e((0,s.contactsSelect)(t))},onNewContact:function(t,n){e((0,s.contactsNew)(t,n))},onRemoveContacts:function(t){(0,i.default)(p).then(function(){return e((0,s.contactsRemove)(t))}).catch(function(e){})},onSaveContact:function(t,n){e((0,s.contactsSave)(t,n))},onLoadContacts:function(){e((0,s.loadContacts)())}}},v=(0,r.connect)(E,h)(o.default);t.default=v},\"./src/containers/Data.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/Data.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{current:e.data.current,status:e.data.fetchStatus}},l=function(e){return{onLoadData:function(t,n){e((0,r.dataLoad)(t,n))},dataSave:function(t,n){return e((0,r.dataSave)(t,n._id,n))},dataRemove:function(t,n){return e((0,r.dataRemove)(t,n))},onImporterClick:function(t){e((0,r.importerClick)(t))},fileUpload:function(t,n){return e((0,r.importerFilesUpload)(t,n))}}},i=(0,a.connect)(o,l)(u.default);t.default=i},\"./src/containers/DataForm.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/DataForm.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{onNewData:function(t,n){e((0,r.dataNew)(t,n))}}},l=(0,a.connect)(null,o)(u.default);t.default=l},\"./src/containers/DocumentView.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/DocumentView.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{status:e.documents.fetchStatus,folder:e.documents.folder,path:e.documents.path,current:e.documents.current}},l=function(e){return{onDownload:function(t){e((0,r.documentsDownload)([t]))},onRemove:function(t){return e((0,r.documentsRemove)([t]))},onMoveFile:function(t,n){e((0,r.documentsMove)([t],n))},onChangeType:function(t,n){e((0,r.documentsChangeType)(t,n))},onAlert:function(t,n){e((0,r.alertShow)(t,n))}}},i=(0,a.connect)(o,l)(u.default);t.default=i},\"./src/containers/Documents.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/Documents.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{lastType:e.documents.lastFetchType,files:e.documents.files,fileCount:e.documents.fileCount,path:e.documents.path,status:e.documents.fetchStatus}},l=function(e){return{onOpenFolder:function(t){e((0,r.loadFolder)(t))},onInitialize:function(){e((0,r.documentsInitialize)())}}},i=(0,a.connect)(o,l)(u.default);t.default=i},\"./src/containers/Explorer.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/Explorer.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=n(\"./src/constants/index.js\"),l=function(e,t,n){return e.sort(function(e,n){var a=void 0,r=void 0;t===o.SORT_DATE?(a=new Date(n.updated_at).getTime(),r=new Date(e.updated_at).getTime()):t===o.SORT_NAME&&(a=e.name.toLowerCase(),r=n.name.toLowerCase());var s=\"directory\"===e.type,u=\"directory\"===n.type;return s&&!u?-1:!s&&u?1:a<r?-1:r<a?1:0})},i=function(e){return{files:e.documents.needSort?l(e.documents.files,e.documents.filter):e.documents.files,status:e.documents.fetchStatus,folder:e.documents.folder,path:e.documents.path,fileCount:e.documents.fileCount,viewMode:e.viewMode,selectedCount:e.documents.selectedCount,filter:e.documents.filter,data:e.data.data,dataStatus:e.data.fetchStatus,dataCount:e.data.dataCount,selectedDataCount:e.data.selectedCount}},c=function(e){return{onLoadData:function(t){e((0,r.loadData)(t))},onChangeViewMode:function(){e((0,r.documentsChangeViewMode)())},onNewFolder:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";t.match(/[\\/\\\\:\\*\\?|<>]/)||e((0,r.documentsNewFolder)(t))},onDownload:function(t){e((0,r.documentsDownload)(t))},onRemove:function(t){e((0,r.documentsRemove)(t))},onDownloadAll:function(t){e((0,r.documentsDownload)(t))},onSelect:function(t){e((0,r.documentsSelect)(t))},onImporterClick:function(t){e((0,r.importerClick)(t))},onChangeFilter:function(t){e((0,r.documentsChangeFilter)(t))},onSelectData:function(t){e((0,r.dataSelect)(t))},onRemoveData:function(t,n){e((0,r.dataRemove)(t,n))},onRename:function(t,n){e((0,r.documentsRename)(t,n))},onMoveFile:function(t,n){e((0,r.documentsMove)(t,n))}}},d=(0,a.connect)(i,c)(u.default);t.default=d},\"./src/containers/Importer.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/modals/ImporterModal.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{currentType:e.importer.currentType,currentPath:e.importer.currentPath,documentsTree:e.importer.documentsTree,view:e.importer.view}},l=function(e){return{onDirectoryChange:function(t){e((0,r.importerDirectoryChange)(t))},onImport:function(t,n){return e((0,r.importerFilesUpload)(t,n))},onTree:function(){e((0,r.importerTree)())},onChangeView:function(t){e((0,r.importerViewChange)(t))}}},i=(0,a.connect)(o,l)(u.default);t.default=i},\"./src/containers/Navigation.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/Navigation.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=n(\"./node_modules/react-router-dom/es/index.js\"),l=function(e){return{onOpenFolder:function(){e((0,r.loadFolder)())},onOpenContacts:function(){e((0,r.loadContacts)())},onOpenRecalls:function(){e((0,r.loadRecalls)())},onOpenTrash:function(){e((0,r.loadTrash)())}}},i=(0,a.connect)(null,l)(u.default);t.default=(0,o.withRouter)(i)},\"./src/containers/News.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/News.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{news:e.news.elements,status:e.news.fetchStatus,count:e.news.elementCount}},l=function(e){return{onLoadNews:function(){e((0,r.loadNews)())}}},i=(0,a.connect)(o,l)(u.default);t.default=i},\"./src/containers/Preferences.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/Preferences.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{alert:function(t,n){e((0,r.alertShow)(t,n))}}},l=(0,a.connect)(null,o)(u.default);t.default=l},\"./src/containers/Recalls.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/react-redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/components/elements/Recalls.jsx\"),o=a(u),l=n(\"./src/scripts/confirm.js\"),i=a(l),c=n(\"./node_modules/react/react.js\"),d=a(c),f=n(\"./src/components/modals/ConfirmModal.jsx\"),m=a(f),p=d.default.createElement(m.default,null,d.default.createElement(\"p\",null,\"Voulez-vous supprimer ce rappel ?\")),E=function(e){return{elements:e.recalls.elements,count:e.recalls.elementCount,status:e.recalls.fetchStatus}},h=function(e){return{onNewRecall:function(t,n){e((0,s.recallsNew)(t,n))},onRemoveRecalls:function(t){(0,i.default)(p).then(function(){return e((0,s.recallsRemove)(t))}).catch(function(e){})},onSaveRecall:function(t,n){e((0,s.recallsSave)(t,n))},onClick:function(t){e((0,s.recallsCalendarClick)(t))},onLoadRecalls:function(){e((0,s.loadRecalls)())}}},v=(0,r.connect)(E,h)(o.default);t.default=v},\"./src/containers/Selector.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/modals/SelectorModal.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{currentPath:e.importer.currentPath,documentsTree:e.importer.documentsTree}},l=function(e){return{onDirectoryChange:function(t){e((0,r.importerDirectoryChange)(t))}}},i=(0,a.connect)(o,l)(u.default);t.default=i},\"./src/containers/TaskList.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"./node_modules/react-redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/components/elements/TaskList.jsx\"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(e){return{onImporterClick:function(t){e((0,r.importerClick)(\"\",t))},fileUpload:function(t,n){return e((0,r.importerFilesUpload)(t,n))}}},l=(0,a.connect)(null,o)(u.default);t.default=l},\"./src/containers/Trash.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/react-redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/components/elements/Trash.jsx\"),o=a(u),l=n(\"./src/scripts/confirm.js\"),i=a(l),c=n(\"./node_modules/react/react.js\"),d=a(c),f=n(\"./src/components/modals/ConfirmModal.jsx\"),m=a(f),p=d.default.createElement(m.default,null,d.default.createElement(\"p\",null,\"Voulez-vous vider la corbeille ?\")),E=function(e){return{files:e.trash.files,contacts:e.trash.contacts,data:e.trash.data,count:e.trash.elementCount,viewMode:e.viewMode,selectedCount:e.trash.selectedCount,status:e.trash.fetchStatus}},h=function(e){return{onEmpty:function(){(0,i.default)(p).then(function(){return e((0,s.trashEmpty)())}).catch(function(e){})},onRestoreDocuments:function(t){e((0,s.documentsRestore)(t))},onRestoreContacts:function(t){e((0,s.contactsRestore)(t))},onRestoreData:function(t){e((0,s.dataRestore)(t))},onSelectContact:function(t){e((0,s.trashSelectContact)(t))},onSelectFile:function(t){e((0,s.trashSelectDocument)(t))},onSelectData:function(t){e((0,s.trashSelectData)(t))},onLoadTrash:function(){e((0,s.loadTrash)())},onChangeViewMode:function(){e((0,s.trashChangeViewMode)())},onSelectAll:function(t){e((0,s.trashSelectAll)(t))}}},v=(0,r.connect)(E,h)(o.default);t.default=v},\"./src/index.jsx\":function(e,t,n){\"use strict\";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var a=n(\"./node_modules/react/react.js\"),r=t(a),s=n(\"./node_modules/react-dom/index.js\"),u=t(s),o=n(\"./src/containers/App.js\"),l=t(o),i=n(\"./node_modules/react-redux/es/index.js\"),c=n(\"./src/store/index.js\"),d=t(c),f=n(\"./src/actions/index.js\"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n(\"./src/scripts/XMLDataFile.js\"),E=t(p);n(\"./bower_components/normalize-css/normalize.css\"),n(\"./bower_components/bootstrap/dist/css/bootstrap.min.css\"),n(\"./bower_components/font-awesome/css/font-awesome.css\"),n(\"./bower_components/Ionicons/css/ionicons.css\"),document.addEventListener(\"DOMContentLoaded\",function(){var t=document.querySelector(\"[role=application]\"),n=t.dataset;console.log(\"Current Version:\",\"2.4.6\"),window.cozy.client.init({cozyURL:\"//\"+n.cozyDomain,token:n.cozyToken}),window.cozy.bar.init({appName:n.cozyAppName,appEditor:n.cozyAppEditor,iconPath:n.cozyIconPath,lang:n.cozyLocale,replaceTitleOnMobile:!0});var a=(0,d.default)();e.React=r.default,e.store=a,e.Actions=m,e.Exporter=E.default,u.default.render(r.default.createElement(i.Provider,{store:a},r.default.createElement(l.default,null)),t)})}).call(t,n(\"./node_modules/webpack/buildin/global.js\"))},\"./src/reducers/alerts.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.alerts=void 0;var r=n(\"./src/actions/index.js\"),s=n(\"./src/constants/index.js\"),u=t.alerts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t.alert)return t.alert.id||(t.alert.id=Date.now()),t.alert.level||(t.alert.level=s.ALERT_LEVEL_INFO),[t.alert].concat(a(e));switch(t.type){case r.ALERT_SHOW:return[t.alert].concat(a(e.filter(function(e){return e.id!==t.id})));case r.ALERT_DISMISS:return e.filter(function(e){return e.id!==t.id});case r.ALERT_CLEAR:return[];default:return e}};t.default=u},\"./src/reducers/contacts.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.selectedCount=t.elements=void 0;var r=n(\"./node_modules/redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/constants/index.js\"),o=t.elements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.LOAD_CONTACTS_SUCCESS:return t.contacts;case s.CONTACTS_NEW_SUCCESS:return[].concat(a(e),[t.contact]);case s.CONTACTS_REMOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case s.CONTACTS_SAVE_SUCCESS:return[].concat(a(e.filter(function(e){return e._id!==t.contact._id})),[t.contact]);case s.CONTACTS_SELECT:return[].concat(a(e.map(function(e){return e._id===t.contact._id&&(e.selected=!e.selected),e})));default:return e}},l=t.selectedCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.LOAD_CONTACTS_SUCCESS:case s.CONTACTS_REMOVE_SUCCESS:return 0;case s.CONTACTS_SELECT:return t.contact.selected?e-1:e+1;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case s.LOAD_CONTACTS_SUCCESS:return t.contacts.length;case s.CONTACTS_REMOVE_SUCCESS:return e-t.ids.length;case s.CONTACTS_RESTORE_SUCCESS:return e+t.ids.length;case s.CONTACTS_NEW_SUCCESS:return e+1;default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.STATUS_LOAD;switch(arguments[1].type){case s.LOAD_CONTACTS:case s.CONTACTS_REMOVE:case s.CONTACTS_SAVE:case s.CONTACTS_NEW:return u.STATUS_LOAD;case s.LOAD_CONTACTS_SUCCESS:case s.CONTACTS_NEW_SUCCESS:case s.CONTACTS_REMOVE_SUCCESS:case s.CONTACTS_SAVE_SUCCESS:return u.STATUS_DONE;case s.LOAD_CONTACTS_FAILURE:return u.STATUS_ERROR;default:return e}};t.default=(0,r.combineReducers)({selectedCount:l,elements:o,elementCount:i,fetchStatus:c})},\"./src/reducers/data.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.current=t.selectedCount=t.dataCount=t.doctype=t.data=void 0;var r=n(\"./node_modules/redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/constants/index.js\"),o=t.data=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.LOAD_DATA_SUCCESS:return t.data;case s.DATA_NEW_SUCCESS:return[].concat(a(e),[t.data]);case s.DATA_REMOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case s.DATA_SAVE_SUCCESS:return[].concat(a(e.filter(function(e){return e._id!==t.data._id})),[t.data]);case s.DATA_SELECT:return[].concat(a(e.map(function(e){return e._id===t.data._id&&(e.selected=!e.selected),e})));default:return e}},l=t.doctype=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case s.LOAD_DATA_SUCCESS:case s.DATA_LOAD_SUCCESS:return t.doctype;default:return e}},i=t.dataCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.LOAD_DATA_SUCCESS:return t.data.length;case s.DATA_REMOVE_SUCCESS:return e-t.ids.length;case s.DATA_RESTORE_SUCCESS:return e+t.ids.length;case s.DATA_NEW_SUCCESS:return e+1;default:return e}},c=t.selectedCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.LOAD_DATA_SUCCESS:case s.DATA_REMOVE_SUCCESS:return 0;case s.DATA_SELECT:return t.data.selected?e-1:e+1;default:return e}},d=t.current=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case s.DATA_LOAD_SUCCESS:case s.DATA_SAVE_SUCCESS:return t.data;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.STATUS_DONE;switch(arguments[1].type){case s.LOAD_DATA:case s.DATA_LOAD:case s.DATA_REMOVE:case s.DATA_SAVE:return u.STATUS_LOAD;case s.LOAD_DATA_SUCCESS:case s.DATA_REMOVE_SUCCESS:case s.DATA_SAVE_SUCCESS:case s.DATA_LOAD_SUCCESS:return u.STATUS_DONE;case s.DATA_REMOVE_SUCCESS:case s.LOAD_DATA_FAILURE:case s.DATA_SAVE_FAILURE:case s.DATA_LOAD_FAILURE:return u.STATUS_ERROR;default:return e}};t.default=(0,r.combineReducers)({selectedCount:c,data:o,doctype:l,dataCount:i,current:d,fetchStatus:f})},\"./src/reducers/documents.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/constants/index.js\"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case s.LOAD_DOCS_SUCCESS:return t.folder;default:return e}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.SORT_DATE,t=arguments[1];switch(t.type){case s.DOCUMENTS_CHANGE_FILTER:return t.filter;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case s.LOAD_DOCS:return t.path;default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.LOAD_DOCS_SUCCESS:return t.fileCount;case s.LOAD_FILE_SUCCESS:return 0;case s.IMPORTER_FILE_UPLOAD_SUCESS:return e+t.files.length;case s.DOCUMENTS_NEW_FOLDER_SUCCESS:return e+1;case s.DOCUMENTS_REMOVE_SUCCESS:case s.DOCUMENTS_MOVE_SUCCESS:return e-t.ids.length;case s.DOCUMENTS_RESTORE_SUCCESS:return e+t.ids.length;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.LOAD_DOCS_SUCCESS:case s.DOCUMENTS_REMOVE_SUCCESS:case s.DOCUMENTS_RENAME_SUCCESS:case s.DOCUMENTS_MOVE_SUCCESS:return 0;case s.DOCUMENTS_SELECT:return t.document.selected?e-1:e+1;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.LOAD_DOCS_SUCCESS:return t.files;case s.LOAD_FILE_SUCCESS:return[];case s.IMPORTER_FILE_UPLOAD_SUCESS:return t.currentDir?[].concat(a(e),a(t.files)):e;case s.DOCUMENTS_NEW_FOLDER_SUCCESS:return[t.folder].concat(a(e));case s.DOCUMENTS_REMOVE_SUCCESS:case s.DOCUMENTS_MOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e.id)});case s.DOCUMENTS_SELECT:return[].concat(a(e.map(function(e){return e.id===t.document.id&&(e.selected=!e.selected),e})));case s.DOCUMENTS_RENAME_SUCCESS:return[].concat(a(e.map(function(e){return e.id===t.file.id&&(e=t.file),e})));default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.STATUS_LOAD;switch(arguments[1].type){case s.LOAD_DOCS:case s.DOCUMENTS_REMOVE:case s.DOCUMENTS_NEW_FOLDER:case s.IMPORTER_FILE_UPLOAD:return u.STATUS_LOAD;case s.LOAD_DOCS_SUCCESS:case s.LOAD_FILE_SUCCESS:case s.DOCUMENTS_REMOVE_SUCCESS:case s.IMPORTER_FILE_UPLOAD_SUCESS:case s.DOCUMENTS_MOVE_SUCCESS:case s.DOCUMENTS_NEW_FOLDER_SUCCESS:return u.STATUS_DONE;case s.DOCUMENTS_REMOVE_FAILURE:case s.LOAD_DOCS_FAILURE:return u.STATUS_ERROR;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case s.LOAD_DOCS:case s.LOAD_DOCS_SUCCESS:return u.TYPE_FOLDER;case s.LOAD_FILE_SUCCESS:return u.TYPE_FILE;default:return e}},E=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(arguments[1].type){case s.DOCUMENTS_CHANGE_FILTER:case s.IMPORTER_FILE_UPLOAD_SUCESS:case s.LOAD_DOCS_SUCCESS:return!0;default:return!1}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case s.LOAD_FILE_SUCCESS:case s.DOCUMENTS_CHANGE_TYPE_SUCCESS:return t.file;case s.LOAD_DOCS_SUCCESS:return null;default:return e}};t.default=(0,r.combineReducers)({folder:o,path:i,fileCount:c,selectedCount:d,files:f,fetchStatus:m,lastFetchType:p,filter:l,needSort:E,current:h})},\"./src/reducers/gauge.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.gauge=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(\"./src/actions/index.js\"),u=n(\"./src/constants/index.js\"),o={usedTypes:[],dataCreated:[],status:u.STATUS_LOAD},l=t.gauge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case s.IMPORTER_FILE_UPLOAD_SUCESS:var n=[],l=!0,c=!1,d=void 0;try{for(var f,m=t.files[Symbol.iterator]();!(l=(f=m.next()).done);l=!0){var p=f.value,E=i(p);if(void 0!==E){var h=!1,v=!0,y=!1,_=void 0;try{for(var b,g=e.usedTypes[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var C=b.value;if(C.type===E){C.count=C.count+1||1,h=!0;break}}}catch(e){y=!0,_=e}finally{try{!v&&g.return&&g.return()}finally{if(y)throw _}}h||n.push({type:E,count:1})}}}catch(e){c=!0,d=e}finally{try{!l&&m.return&&m.return()}finally{if(c)throw d}}return r({},e,{usedTypes:[].concat(a(e.usedTypes),n)});case s.DOCUMENTS_RESTORE_SUCCESS:var S=[],A=!0,O=!1,T=void 0;try{for(var x,D=t.types[Symbol.iterator]();!(A=(x=D.next()).done);A=!0){var k=x.value,R=!1,N=!0,j=!1,w=void 0;try{for(var L,P=e.usedTypes[Symbol.iterator]();!(N=(L=P.next()).done);N=!0){var M=L.value;if(M.type===k){M.count=M.count+1||1,R=!0;break}}}catch(e){j=!0,w=e}finally{try{!N&&P.return&&P.return()}finally{if(j)throw w}}R||S.push({type:k,count:1})}}catch(e){O=!0,T=e}finally{try{!A&&D.return&&D.return()}finally{if(O)throw T}}return r({},e,{usedTypes:[].concat(a(e.usedTypes),S)});case s.DOCUMENTS_REMOVE_SUCCESS:var I=!0,F=!1,U=void 0;try{for(var q,z=t.types[Symbol.iterator]();!(I=(q=z.next()).done);I=!0){var V=q.value,Y=!0,B=!1,W=void 0;try{for(var H,G=e.usedTypes[Symbol.iterator]();!(Y=(H=G.next()).done);Y=!0){var J=H.value;if(J.type===V){if(J.count=J.count-1,J.count<=0){var Q=e.usedTypes.indexOf(J);e.usedTypes.splice(Q,1)}break}}}catch(e){B=!0,W=e}finally{try{!Y&&G.return&&G.return()}finally{if(B)throw W}}}}catch(e){F=!0,U=e}finally{try{!I&&z.return&&z.return()}finally{if(F)throw U}}return r({},e,{usedTypes:[].concat(a(e.usedTypes))});case s.DOCUMENTS_CHANGE_TYPE_SUCCESS:if(t.oldTag){var K=!0,Z=!1,X=void 0;try{for(var $,ee=e.usedTypes[Symbol.iterator]();!(K=($=ee.next()).done);K=!0){var te=$.value;if(te.type===t.oldTag){if(te.count=te.count-1,te.count<=0){var ne=e.usedTypes.indexOf(te);e.usedTypes.splice(ne,1)}break}}}catch(e){Z=!0,X=e}finally{try{!K&&ee.return&&ee.return()}finally{if(Z)throw X}}console.log(\"Change\",e.usedTypes)}var ae=[];if(t.newTag){var re=!1,se=!0,ue=!1,oe=void 0;try{for(var le,ie=e.usedTypes[Symbol.iterator]();!(se=(le=ie.next()).done);se=!0){var ce=le.value;if(ce.type===t.newTag){ce.count=ce.count+1||1,re=!0;break}}}catch(e){ue=!0,oe=e}finally{try{!se&&ie.return&&ie.return()}finally{if(ue)throw oe}}re||ae.push({type:t.newTag,count:1}),console.log(\"Change\",e.usedTypes,ae)}return r({},e,{usedTypes:[].concat(a(e.usedTypes),ae)});case s.DATA_RESTORE_SUCCESS:var de=[],fe=!0,me=!1,pe=void 0;try{for(var Ee,he=t.doctypes[Symbol.iterator]();!(fe=(Ee=he.next()).done);fe=!0){var ve=Ee.value,ye=!1,_e=!0,be=!1,ge=void 0;try{for(var Ce,Se=e.dataCreated[Symbol.iterator]();!(_e=(Ce=Se.next()).done);_e=!0){var Ae=Ce.value;if(Ae.doctype===ve){Ae.count=Ae.count+1||1,ye=!0;break}}}catch(e){be=!0,ge=e}finally{try{!_e&&Se.return&&Se.return()}finally{if(be)throw ge}}ye||de.push({doctype:ve,count:1})}}catch(e){me=!0,pe=e}finally{try{!fe&&he.return&&he.return()}finally{if(me)throw pe}}return r({},e,{dataCreated:[].concat(a(e.dataCreated),de)});case s.DATA_REMOVE_SUCCESS:var Oe=t.doctype,Te=t.ids.length,xe=!0,De=!1,ke=void 0;try{for(var Re,Ne=e.dataCreated[Symbol.iterator]();!(xe=(Re=Ne.next()).done);xe=!0){var je=Re.value;if(je.doctype===Oe){if(je.count=je.count-Te,je.count<=0){var we=e.dataCreated.indexOf(je);e.dataCreated.splice(we,1)}break}}}catch(e){De=!0,ke=e}finally{try{!xe&&Ne.return&&Ne.return()}finally{if(De)throw ke}}return r({},e,{dataCreated:[].concat(a(e.dataCreated))});case s.GAUGE_INITIALIZE:return r({},e,{status:u.STATUS_LOAD});case s.GAUGE_INITIALIZE_SUCCESS:return r({},e,{usedTypes:t.types,dataCreated:t.data,status:u.STATUS_DONE});case s.GAUGE_INITIALIZE_FAILURE:return r({},e,{status:u.STATUS_ERROR});default:return e}};t.default=l;var i=function(e){return e.tags&&e.tags[0]}},\"./src/reducers/importer.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.importer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(\"./src/actions/index.js\"),s=n(\"./src/constants/index.js\"),u={currentPath:\"\",currentType:\"\",documentsTree:{},view:s.VIEW_FILE,status:s.STATUS_DONE},o=t.importer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.IMPORTER_DIRECTORY_CHANGE:return a({},e,{currentPath:t.path});case r.IMPORTER_CLICK:return a({},e,{currentPath:t.path,currentType:t.slug,view:s.VIEW_FILE});case r.IMPORTER_VIEW_CHANGE:return a({},e,{view:t.view});case r.IMPORTER_TREE_SUCCESS:return a({},e,{documentsTree:t.tree});case r.IMPORTER_FILE_UPLOAD:return a({},e,{status:s.STATUS_LOAD});case r.IMPORTER_FILE_UPLOAD_SUCESS:return a({},e,{status:s.STATUS_DONE});case r.IMPORTER_FILE_UPLOAD_FAILURE:return a({},e,{status:s.STATUS_ERROR});default:return e}};t.default=o},\"./src/reducers/index.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.reducers=void 0;var r=n(\"./node_modules/redux/es/index.js\"),s=n(\"./src/reducers/documents.js\"),u=a(s),o=n(\"./src/reducers/gauge.js\"),l=a(o),i=n(\"./src/reducers/importer.js\"),c=a(i),d=n(\"./src/reducers/viewMode.js\"),f=a(d),m=n(\"./src/reducers/contacts.js\"),p=a(m),E=n(\"./src/reducers/recalls.js\"),h=a(E),v=n(\"./src/reducers/data.js\"),y=a(v),_=n(\"./src/reducers/trash.js\"),b=a(_),g=n(\"./src/reducers/news.js\"),C=a(g),S=n(\"./src/reducers/alerts.js\"),A=a(S),O=t.reducers={documents:u.default,gauge:l.default,importer:c.default,viewMode:f.default,trash:b.default,data:y.default,recalls:h.default,contacts:p.default,news:C.default,alerts:A.default},T=(0,r.combineReducers)(O);t.default=T},\"./src/reducers/news.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.fetchStatus=t.elementCount=t.elements=void 0;var a=n(\"./node_modules/redux/es/index.js\"),r=n(\"./src/actions/index.js\"),s=n(\"./src/constants/index.js\"),u=t.elements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case r.LOAD_NEWS_SUCCESS:return t.news;default:return e}},o=t.elementCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r.LOAD_NEWS_SUCCESS:return t.news.length;default:return e}},l=t.fetchStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.STATUS_LOAD;switch(arguments[1].type){case r.LOAD_NEWS:return s.STATUS_LOAD;case r.LOAD_NEWS_SUCCESS:return s.STATUS_DONE;case r.LOAD_NEWS_FAILURE:return s.STATUS_ERROR;default:return e}};t.default=(0,a.combineReducers)({elements:u,elementCount:o,fetchStatus:l})},\"./src/reducers/recalls.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.selected=t.elements=void 0;var r=n(\"./node_modules/redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/constants/index.js\"),o=t.elements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.LOAD_RECALLS_SUCCESS:return t.recalls;case s.RECALLS_NEW_SUCCESS:return[].concat(a(e),[t.recall]);case s.RECALLS_REMOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case s.RECALLS_SAVE_SUCCESS:return[].concat(a(e.filter(function(e){return e._id!==t.recall._id})),[t.recall]);default:return e}},l=t.selected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.RECALLS_SELECT:return-1===e.indexOf(t.recall._id)?[].concat(a(e),[t.recall._id]):e.filter(function(e){return e!==t.recall._id});default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case s.LOAD_RECALLS_SUCCESS:return t.recalls.length;case s.RECALLS_NEW_SUCCESS:return e+1;case s.RECALLS_REMOVE_SUCCESS:return e-t.ids.length;case s.RECALLS_RESTORE_SUCCESS:return e+t.ids.length;default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.STATUS_LOAD;switch(arguments[1].type){case s.LOAD_RECALLS:case s.RECALLS_REMOVE:case s.RECALLS_SAVE:case s.RECALLS_NEW:return u.STATUS_LOAD;case s.LOAD_RECALLS_SUCCESS:case s.RECALLS_NEW_SUCCESS:case s.RECALLS_REMOVE_SUCCESS:case s.RECALLS_SAVE_SUCCESS:return u.STATUS_DONE;case s.LOAD_RECALLS_FAILURE:return u.STATUS_ERROR;default:return e}};t.default=(0,r.combineReducers)({elements:o,selected:l,elementCount:i,fetchStatus:c})},\"./src/reducers/trash.js\":function(e,t,n){\"use strict\";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/redux/es/index.js\"),s=n(\"./src/actions/index.js\"),u=n(\"./src/constants/index.js\"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.LOAD_TRASH_SUCCESS:return t.files.length+t.contacts.length+t.data.length;case s.CONTACTS_REMOVE_SUCCESS:case s.DOCUMENTS_REMOVE_SUCCESS:case s.DATA_REMOVE_SUCCESS:return e+1;case s.DOCUMENTS_RESTORE_SUCCESS:case s.CONTACTS_RESTORE_SUCCESS:case s.DATA_RESTORE_SUCCESS:return e-t.ids.length;case s.TRASH_EMPTY_SUCCESS:return 0;default:return e}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.LOAD_TRASH_SUCCESS:case s.DOCUMENTS_RESTORE_SUCCESS:case s.CONTACTS_RESTORE_SUCCESS:case s.DATA_RESTORE_SUCCESS:case s.TRASH_EMPTY_SUCCESS:return 0;case s.TRASH_SELECT_CONTACT:return t.contact.selected?e-1:e+1;case s.TRASH_SELECT_DOCUMENT:return t.document.selected?e-1:e+1;case s.TRASH_SELECT_DATA:return t.data.selected?e-1:e+1;case s.TRASH_SELECT_ALL:return t.count;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.LOAD_TRASH_SUCCESS:return t.files;case s.DOCUMENTS_RESTORE_SUCCESS:return e.filter(function(e){return-1!==t.ids.indexOf(e._id)});case s.TRASH_EMPTY_SUCCESS:return[];case s.TRASH_SELECT_DOCUMENT:return[].concat(a(e.map(function(e){return e.id===t.document.id&&(e.selected=!e.selected),e})));case s.TRASH_SELECT_ALL:return[].concat(a(e.map(function(e){return e.selected=!e.selected,e})));default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.LOAD_TRASH_SUCCESS:return t.contacts;case s.CONTACTS_RESTORE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case s.TRASH_EMPTY_SUCCESS:return[];case s.TRASH_SELECT_CONTACT:return[].concat(a(e.map(function(e){return e._id===t.contact._id&&(e.selected=!e.selected),e})));case s.TRASH_SELECT_ALL:return[].concat(a(e.map(function(e){return e.selected=!e.selected,e})));default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.LOAD_TRASH_SUCCESS:return t.data;case s.DATA_RESTORE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case s.TRASH_EMPTY_SUCCESS:return[];case s.TRASH_SELECT_DATA:return[].concat(a(e.map(function(e){return e._id===t.data._id&&(e.selected=!e.selected),e})));case s.TRASH_SELECT_ALL:return[].concat(a(e.map(function(e){return e.selected=!e.selected,e})));default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.STATUS_LOAD;switch(arguments[1].type){case s.TRASH_EMPTY:case s.DOCUMENTS_RESTORE:case s.CONTACTS_RESTORE:return u.STATUS_LOAD;case s.LOAD_TRASH_SUCCESS:case s.TRASH_EMPTY_SUCCESS:case s.TRASH_EMPTY_FAILURE:case s.DOCUMENTS_RESTORE_SUCCESS:case s.DOCUMENTS_RESTORE_FAILURE:case s.CONTACTS_RESTORE_SUCCESS:case s.CONTACTS_RESTORE_FAILURE:return u.STATUS_DONE;case s.LOAD_TRASH_FAILURE:return u.STATUS_ERROR;default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case s.LOAD_TRASH_SUCCESS:case s.LOAD_TRASH_FAILURE:return Date.now();default:return e}};t.default=(0,r.combineReducers)({elementCount:o,selectedCount:l,files:i,contacts:c,data:d,fetchStatus:f,lastFetch:m})},\"./src/reducers/viewMode.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.viewMode=void 0;var a=n(\"./src/actions/index.js\"),r=n(\"./src/constants/index.js\"),s=t.viewMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.VIEW_LIST;switch(arguments[1].type){case a.DOCUMENTS_CHANGE_VIEW_MODE:case a.TRASH_CHANGE_VIEW_MODE:return e===r.VIEW_GRID?r.VIEW_LIST:r.VIEW_GRID;default:return e}};t.default=s},\"./src/scripts/AutoImport.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}function s(e){for(var t=[{base:\"A\",letters:/[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g},{base:\"AA\",letters:/[\\uA732]/g},{base:\"AE\",letters:/[\\u00C6\\u01FC\\u01E2]/g},{base:\"AO\",letters:/[\\uA734]/g},{base:\"AU\",letters:/[\\uA736]/g},{base:\"AV\",letters:/[\\uA738\\uA73A]/g},{base:\"AY\",letters:/[\\uA73C]/g},{base:\"B\",letters:/[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g},{base:\"C\",letters:/[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g},{base:\"D\",letters:/[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g},{base:\"DZ\",letters:/[\\u01F1\\u01C4]/g},{base:\"Dz\",letters:/[\\u01F2\\u01C5]/g},{base:\"E\",letters:/[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g},{base:\"F\",letters:/[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g},{base:\"G\",letters:/[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g},{base:\"H\",letters:/[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g},{base:\"I\",letters:/[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g},{base:\"J\",letters:/[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g},{base:\"K\",letters:/[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g},{base:\"L\",letters:/[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g},{base:\"LJ\",letters:/[\\u01C7]/g},{base:\"Lj\",letters:/[\\u01C8]/g},{base:\"M\",letters:/[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g},{base:\"N\",letters:/[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g},{base:\"NJ\",letters:/[\\u01CA]/g},{base:\"Nj\",letters:/[\\u01CB]/g},{base:\"O\",letters:/[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g},{base:\"OI\",letters:/[\\u01A2]/g},{base:\"OO\",letters:/[\\uA74E]/g},{base:\"OU\",letters:/[\\u0222]/g},{base:\"P\",letters:/[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g},{base:\"Q\",letters:/[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g},{base:\"R\",letters:/[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g},{base:\"S\",letters:/[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g},{base:\"T\",letters:/[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g},{base:\"TZ\",letters:/[\\uA728]/g},{base:\"U\",letters:/[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g},{base:\"V\",letters:/[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g},{base:\"VY\",letters:/[\\uA760]/g},{base:\"W\",letters:/[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g},{base:\"X\",letters:/[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g},{base:\"Y\",letters:/[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g},{base:\"Z\",letters:/[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g},{base:\"a\",letters:/[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g},{base:\"aa\",letters:/[\\uA733]/g},{base:\"ae\",letters:/[\\u00E6\\u01FD\\u01E3]/g},{base:\"ao\",letters:/[\\uA735]/g},{base:\"au\",letters:/[\\uA737]/g},{base:\"av\",letters:/[\\uA739\\uA73B]/g},{base:\"ay\",letters:/[\\uA73D]/g},{base:\"b\",letters:/[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g},{base:\"c\",letters:/[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g},{base:\"d\",letters:/[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g},{base:\"dz\",letters:/[\\u01F3\\u01C6]/g},{base:\"e\",letters:/[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g},{base:\"f\",letters:/[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g},{base:\"g\",letters:/[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g},{base:\"h\",letters:/[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g},{base:\"hv\",letters:/[\\u0195]/g},{base:\"i\",letters:/[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g},{base:\"j\",letters:/[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g},{base:\"k\",letters:/[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g},{base:\"l\",letters:/[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g},{base:\"lj\",letters:/[\\u01C9]/g},{base:\"m\",letters:/[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g},{base:\"n\",letters:/[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g},{base:\"nj\",letters:/[\\u01CC]/g},{base:\"o\",letters:/[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g},{base:\"oi\",letters:/[\\u01A3]/g},{base:\"ou\",letters:/[\\u0223]/g},{base:\"oo\",letters:/[\\uA74F]/g},{base:\"p\",letters:/[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g},{base:\"q\",letters:/[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g},{base:\"r\",letters:/[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g},{base:\"s\",letters:/[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g},{base:\"t\",letters:/[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g},{base:\"tz\",letters:/[\\uA729]/g},{base:\"u\",letters:/[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g},{base:\"v\",letters:/[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g},{base:\"vy\",letters:/[\\uA761]/g},{base:\"w\",letters:/[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g},{base:\"x\",letters:/[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g},{base:\"y\",letters:/[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g},{base:\"z\",letters:/[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g}],n=0;n<t.length;n++)e=e.replace(t[n].letters,t[n].base);return e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.waitForJob=t.autoImport=void 0;var u=n(\"./node_modules/lodash/property.js\"),o=a(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(\"./src/scripts/TempFile.js\"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),d=n(\"./node_modules/xml2js/lib/xml2js.js\"),f=n(\"./node_modules/moment/moment.js\"),m=a(f),p=n(\"./src/constants/index.js\"),E=n(\"./src/constants/documents.json\"),h=a(E),v=n(\"./src/scripts/fileTypes.js\"),y=(0,v.getFileTypes)(),_=(t.autoImport=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,r,u,o,i,d,f,m,E,h,v,y,A,O,T,x,D,k,R,N,j,w,L,P,M,I,F,U,q,z,V,Y,B,W,H,G,J,Q,K,Z,X,$,ee,te;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById(\"root\").dataset.cozyDomain,a=n.substring(0,n.indexOf(\".\")),r=\"homebook.\"+a+\".zip\",u=void 0,e.prev=4,e.next=7,cozy.client.files.statByPath(p.ROOT_PATH+\"/\"+r);case 7:u=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt(\"return\",0);case 13:return t(\"Import automatique de données en cours\"),e.next=16,c.getTemp();case 16:return o=e.sent,e.next=19,c.createFolder(\"unzip\");case 19:return i=e.sent,e.next=22,cozy.client.jobs.create(\"unzip\",{zip:u._id,destination:i._id});case 22:return d=e.sent,e.prev=23,e.next=26,g(d._id);case 26:e.next=31;break;case 28:throw e.prev=28,e.t1=e.catch(23),e.t1;case 31:return e.next=33,cozy.client.files.statById(i._id);case 33:if(f=e.sent,m=f.relations(\"contents\"),!(m.lenght<1)){e.next=37;break}throw Error(\"No file unziped\");case 37:return E=m.shift()._id,e.next=40,cozy.client.files.statById(E);case 40:h=e.sent,v=h.relations(\"contents\").map(function(e){return{id:e._id,name:s(e.attributes.name).toLowerCase()}}),y=void 0,A=!0,O=!1,T=void 0,e.prev=46,x=v[Symbol.iterator]();case 48:if(A=(D=x.next()).done){e.next=191;break}if(k=D.value,0!==k.name.indexOf(\"xml_rset\")){e.next=152;break}return e.prev=51,e.next=54,cozy.client.files.getDownloadLinkById(k.id);case 54:return R=e.sent,e.next=57,cozy.client.fullpath(R);case 57:return N=e.sent,e.next=60,fetch(N);case 60:return j=e.sent,e.next=63,j.text();case 63:return w=e.sent,e.next=66,S(w);case 66:L=e.sent,P=!0,M=!1,I=void 0,e.prev=70,F=L.contacts[Symbol.iterator]();case 72:if(P=(U=F.next()).done){e.next=79;break}return q=U.value,e.next=76,cozy.client.data.create(p.DOCTYPE_CONTACTS,q);case 76:P=!0,e.next=72;break;case 79:e.next=85;break;case 81:e.prev=81,e.t2=e.catch(70),M=!0,I=e.t2;case 85:e.prev=85,e.prev=86,!P&&F.return&&F.return();case 88:if(e.prev=88,!M){e.next=91;break}throw I;case 91:return e.finish(88);case 92:return e.finish(85);case 93:return e.next=95,cozy.client.data.create(p.DOCTYPE_HOMEDATA,l({},L.homeData,{status:\"Propriétaire\",type:\"Individuel\"}));case 95:z=!0,V=!1,Y=void 0,e.prev=98,B=L.equipments[Symbol.iterator]();case 100:if(z=(W=B.next()).done){e.next=107;break}return H=W.value,e.next=104,cozy.client.data.create(p.DOCTYPE_EQUIPMENTS,H);case 104:z=!0,e.next=100;break;case 107:e.next=113;break;case 109:e.prev=109,e.t3=e.catch(98),V=!0,Y=e.t3;case 113:e.prev=113,e.prev=114,!z&&B.return&&B.return();case 116:if(e.prev=116,!V){e.next=119;break}throw Y;case 119:return e.finish(116);case 120:return e.finish(113);case 121:G=!0,J=!1,Q=void 0,e.prev=124,K=L.diagnoses[Symbol.iterator]();case 126:if(G=(Z=K.next()).done){e.next=133;break}return X=Z.value,e.next=130,cozy.client.data.create(p.DOCTYPE_DIAGNOSIS,X);case 130:G=!0,e.next=126;break;case 133:e.next=139;break;case 135:e.prev=135,e.t4=e.catch(124),J=!0,Q=e.t4;case 139:e.prev=139,e.prev=140,!G&&K.return&&K.return();case 142:if(e.prev=142,!J){e.next=145;break}throw Q;case 145:return e.finish(142);case 146:return e.finish(139);case 147:e.next=152;break;case 149:e.prev=149,e.t5=e.catch(51),console.error(\"Error in reading XML\",e.t5);case 152:if(null===($=_(k.name))){e.next=170;break}if(null!==(ee=b($))){e.next=157;break}throw Error(\"No path for \"+$);case 157:return e.next=159,cozy.client.files.statByPath(ee);case 159:return te=e.sent,e.prev=160,e.next=163,cozy.client.files.updateAttributesById(k.id,{dir_id:te._id,tags:[$]});case 163:console.log(\"Move file\",k,ee,$),e.next=168;break;case 166:e.prev=166,e.t6=e.catch(160);case 168:e.next=188;break;case 170:if(\"tradimaison\"!==k.name){e.next=176;break}return console.log(\"Detect tradimaison\"),e.next=174,C(\"tradimaisons\");case 174:e.next=188;break;case 176:if(console.log(\"Unknown file\",k),y){e.next=181;break}return e.next=180,cozy.client.files.statByPath(p.ROOT_PATH);case 180:y=e.sent;case 181:return e.prev=181,e.next=184,cozy.client.files.updateAttributesById(k.id,{dir_id:y._id});case 184:e.next=188;break;case 186:e.prev=186,e.t7=e.catch(181);case 188:A=!0,e.next=48;break;case 191:e.next=197;break;case 193:e.prev=193,e.t8=e.catch(46),O=!0,T=e.t8;case 197:e.prev=197,e.prev=198,!A&&x.return&&x.return();case 200:if(e.prev=200,!O){e.next=203;break}throw T;case 203:return e.finish(200);case 204:return e.finish(197);case 205:return e.next=207,cozy.client.files.trashById(u._id);case 207:return e.next=209,cozy.client.files.destroyById(u._id);case 209:return e.abrupt(\"return\",1);case 210:case\"end\":return e.stop()}},e,void 0,[[4,10],[23,28],[46,193,197,205],[51,149],[70,81,85,93],[86,,88,92],[98,109,113,121],[114,,116,120],[124,135,139,147],[140,,142,146],[160,166],[181,186],[198,,200,204]])}));return function(t){return e.apply(this,arguments)}}(),function(e){var t=!0,n=!1,a=void 0;try{for(var r,s=h.default[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var u=r.value;if(-1!==e.indexOf(u.name))return u.tag}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return null}),b=function(e){var t=!0,n=!1,a=void 0;try{for(var r,s=y[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var u=r.value;if(u.key===e)return u.location}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return null},g=t.waitForJob=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.fetchJSON(\"GET\",\"/jobs/\"+t);case 2:if(n=e.sent,\"done\"!==(a=n.attributes.state)){e.next=6;break}return e.abrupt(\"return\");case 6:if(\"errored\"!==a){e.next=8;break}throw Error(n.attributes.error);case 8:if(!(r>=600)){e.next=10;break}throw Error(\"Timeout: Job not working\");case 10:return e.abrupt(\"return\",new Promise(function(e,n){setTimeout(function(){g(t,r+1).then(function(){return e()}).catch(function(e){return n(e)})},100)}));case 11:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,r,s,u,o,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,cozy.client.data.defineIndex(p.DOCTYPE_META,[\"name\"]);case 4:return a=e.sent,e.next=7,cozy.client.data.query(a,{selector:{name:\"actors\"}});case 7:n=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:r=!0,s=!1,u=void 0,e.prev=15,o=n[Symbol.iterator]();case 17:if(r=(l=o.next()).done){e.next=24;break}return i=l.value,e.next=21,cozy.client.data.delete(p.DOCTYPE_META,i);case 21:r=!0,e.next=17;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(15),s=!0,u=e.t1;case 30:e.prev=30,e.prev=31,!r&&o.return&&o.return();case 33:if(e.prev=33,!s){e.next=36;break}throw u;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.next=40,cozy.client.data.create(p.DOCTYPE_META,{name:\"actors\",actor:t});case 40:case\"end\":return e.stop()}},e,void 0,[[1,10],[15,26,30,38],[31,,33,37]])}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return{way:e.ligne,code:e.code_postal,city:e.ville}},e.abrupt(\"return\",new Promise(function(e,a){(0,d.parseString)(t,{strict:!0,async:!0,explicitArray:!1},function(t,r){if(null!==t)return a(t);var s={contacts:[],homeData:{name:\"Données importées\",constructionDate:null,address:null,livingArea:null},equipments:[],diagnoses:[]},u=(0,o.default)(\"projet.Datas_Comp.donnees_generales\")(r);u&&(u.BET&&s.contacts.push({company:u.BET.nom,telephones:[{type:\"FIXE\",phone:u.BET.tel}],address:n(u.BET.adresse)}),u.bureau_controle&&s.contacts.push({company:u.bureau_controle.nom,telephones:[{type:\"FIXE\",phone:u.bureau_controle.tel}],address:n(u.bureau_controle.adresse)}),u.maitre_oeuvre&&s.contacts.push({company:u.maitre_oeuvre.nom,telephones:[{type:\"FIXE\",phone:u.maitre_oeuvre.tel}],address:n(u.maitre_oeuvre.adresse)}),u.maitre_ouvrage&&s.contacts.push({lastName:u.maitre_ouvrage.nom,telephones:[{type:\"FIXE\",phone:u.maitre_ouvrage.tel}],address:n(u.maitre_ouvrage.adresse)}));var l=(0,o.default)(\"projet.Entree_Projet.Date\")(r);l&&(s.homeData.constructionDate=(0,m.default)(l,\"YYYYMMDD\").format(\"DD/MM/YYYY\")),s.homeData.address=n((0,o.default)(\"projet.Datas_Comp.donnees_generales.operation.adresse\")(r)),s.homeData.livingArea=(0,o.default)(\"projet.Datas_Comp.batiment_collection.batiment.zone_collection.zone.O_SHAB\")(r);var i=(0,o.default)(\"projet.Entree_Projet.Batiment_Collection.Batiment.Zone_Collection.Zone\")(r),c=(0,o.default)(\"projet.Entree_Projet.Generation_Collection.Generation.Generateur_Collection.Generateur_Combustion.Name\")(r);c&&s.equipments.push({type:\"Chaudière à gaz\",name:c}),c=(0,o.default)(\"projet.Entree_Projet.Batiment_Collection.Batiment.PV_install_Collection.PV_install.Name\")(r),c&&s.equipments.push({type:\"Installation photovoltaïques\",name:c}),c=(0,o.default)(\"Emetteur_Collection.Emetteur.Name\")(i),c&&s.equipments.push({type:\"Radiateurs électriques\",name:c}),c=(0,o.default)(\"Emetteur_ECS_Collection.Emetteur_ECS.Name\")(i),c&&s.equipments.push({type:\"Eau chaude sanitaire électrique\",name:c}),c=(0,o.default)(\"Entree_Air_Collection.Entree_Air.Name\")(i),c&&s.equipments.push({type:\"Ventilation naturelle\",name:c}),c=(0,o.default)(\"Eclairage_Collection.Eclairage.Name\")(i),c&&s.equipments.push({name:c}),(c=(0,o.default)(\"projet.Entree_Projet.Batiment_Collection.Batiment.Zone_Collection.Zone.Ventilation_Mecanique_Collection.Ventilation_Mecanique.Name\")(r))&&s.equipments.push({type:\"VMC\",name:c});var d={bbio:null,cep:null,tic:null,date:null,CO2emission:\"\",DPEEnergyClass:\"\",carbonClass:\"\",data:{},equipmentData:{},expirationDate:\"\",name:\"DPE initiale\",realEnergyConsommation:\"\",type:\"DPE\"};d.bbio=(0,o.default)(\"projet.Sortie_Projet.Sortie_Batiment_B_Collection.Sortie_Batiment_B.O_Bbio_pts_annuel\")(r),d.cep=(0,o.default)(\"projet.Sortie_Projet.Sortie_Batiment_C_Collection.Sortie_Batiment_C.O_Cep_annuel\")(r),d.tic=(0,o.default)(\"projet.Sortie_Projet.Sortie_Batiment_E_Collection.Sortie_Batiment_E.Sortie_Zone_E_Collection.Sortie_Zone_E.Sortie_Groupe_E_Collection.Sortie_Groupe_E.O_Tic\")(r),l=(0,o.default)(\"projet.Datas_Comp.donnees_generales.BET.date_etude\")(r),l&&(d.date=(0,m.default)(l,\"YYYY-MM-DD\").format(\"DD/MM/YYYY\")),s.diagnoses.push(d),e(s)})}));case 2:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},\"./src/scripts/InitKonnector.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=t.InitKonnector=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a,r,s,u,o,l,i,c,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.fetchJSON(\"GET\",\"/jobs/triggers\");case 2:if(t=e.sent,n=t.filter(function(e){return\"konnector\"===e.attributes.worker}),1!==n.length){e.next=19;break}if(a=n[0],\"20m\"===a.attributes.arguments){e.next=16;break}return e.prev=7,e.next=10,cozy.client.fetchJSON(\"DELETE\",\"/jobs/triggers/\"+a._id);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(7);case 14:e.next=17;break;case 16:return e.abrupt(\"return\",\"OK\");case 17:e.next=52;break;case 19:if(!(n.length>1)){e.next=52;break}console.warn(\"More than 1 konnector Trigger set\",n),r=!0,s=!1,u=void 0,e.prev=24,o=n[Symbol.iterator]();case 26:if(r=(l=o.next()).done){e.next=38;break}return i=l.value,e.prev=28,e.next=31,cozy.client.fetchJSON(\"DELETE\",\"/jobs/triggers/\"+i._id);case 31:e.next=35;break;case 33:e.prev=33,e.t1=e.catch(28);case 35:r=!0,e.next=26;break;case 38:e.next=44;break;case 40:e.prev=40,e.t2=e.catch(24),s=!0,u=e.t2;case 44:e.prev=44,e.prev=45,!r&&o.return&&o.return();case 47:if(e.prev=47,!s){e.next=50;break}throw u;case 50:return e.finish(47);case 51:return e.finish(44);case 52:return c={attributes:{type:\"@every\",arguments:\"20m\",worker:\"konnector\",worker_arguments:{konnector:\"homebook-news\"}}},e.prev=53,e.next=56,cozy.client.fetchJSON(\"POST\",\"/jobs/triggers\",{data:c});case 56:d=e.sent,e.next=62;break;case 59:e.prev=59,e.t3=e.catch(53),console.error(\"Error in trigger creation\",e.t3);case 62:return e.next=64,cozy.client.jobs.create(\"konnector\",{konnector:\"homebook-news\"});case 64:return f=e.sent,console.log(\"Run job to update News\",f._id),e.abrupt(\"return\",\"NEW\");case 67:case\"end\":return e.stop()}},e,void 0,[[7,12],[24,40,44,52],[28,33],[45,,47,51],[53,59]])}));return function(){return e.apply(this,arguments)}}();t.default=r},\"./src/scripts/ResetHombook.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.resetHomebook=void 0;var r=n(\"./src/constants/index.js\"),s=n(\"./src/tools/index.js\"),u=(t.resetHomebook=function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(r.DOCTYPE_CONTACTS);case 3:return e.next=5,u(r.DOCTYPE_DIAGNOSIS);case 5:return e.next=7,u(r.DOCTYPE_EQUIPMENTS);case 7:return e.next=9,u(r.DOCTYPE_HOMEDATA);case 9:return e.next=11,u(r.DOCTYPE_MAINTENANCES);case 11:return e.next=13,u(r.DOCTYPE_META);case 13:return e.next=15,u(r.DOCTYPE_NEWS);case 15:return e.next=17,u(r.DOCTYPE_RECALLS);case 17:return e.next=19,u(r.DOCTYPE_WORKS);case 19:return e.next=21,cozy.client.files.statByPath(r.ROOT_PATH);case 21:return t=e.sent,e.next=24,cozy.client.files.trashById(t._id);case 24:return e.next=26,cozy.client.files.clearTrash();case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.error(\"Reset Homebook\",e.t0);case 31:case\"end\":return e.stop()}},e,void 0,[[0,28]])}));return function(){return e.apply(this,arguments)}}(),function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,r,u,o,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.getDataElements)(t);case 2:n=e.sent,a=!0,r=!1,u=void 0,e.prev=6,o=n[Symbol.iterator]();case 8:if(a=(l=o.next()).done){e.next=15;break}return i=l.value,e.next=12,cozy.client.data.delete(t,i);case 12:a=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),r=!0,u=e.t0;case 21:e.prev=21,e.prev=22,!a&&o.return&&o.return();case 24:if(e.prev=24,!r){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case\"end\":return e.stop()}},e,void 0,[[6,17,21,29],[22,,24,28]])}));return function(t){return e.apply(this,arguments)}}())},\"./src/scripts/TempFile.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getTemp=t.createFolder=t.create=t.deleteIfExist=t.deleteById=t.exist=void 0;var r=n(\"./src/constants/index.js\"),s=(t.exist=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cozy.client.files.statByPath(\"/tmp/\"+t);case 3:return e.abrupt(\"return\",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt(\"return\",!1);case 9:case\"end\":return e.stop()}},e,void 0,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),t.deleteById=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cozy.client.files.trashById(t);case 3:return e.next=5,cozy.client.files.destroyById(t);case 5:return e.abrupt(\"return\",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt(\"return\",!1);case 11:case\"end\":return e.stop()}},e,void 0,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),t.deleteIfExist=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cozy.client.files.statByPath(\"/tmp/\"+t);case 3:return n=e.sent,e.next=6,cozy.client.files.trashById(n._id);case 6:return e.next=8,cozy.client.files.destroyById(n._id);case 8:return e.abrupt(\"return\",!0);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt(\"return\",!1);case 14:case\"end\":return e.stop()}},e,void 0,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()),u=(t.create=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:return e.next=4,u();case 4:return a=e.sent,e.next=7,cozy.client.files.create(t,{name:n,dirID:a._id});case 7:return r=e.sent,r.path=\"/tmp/\"+n,e.abrupt(\"return\",r);case 10:case\"end\":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.createFolder=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return n=e.sent,e.next=5,s(t);case 5:return e.next=7,cozy.client.files.createDirectory({name:t,dirID:n._id});case 7:return e.abrupt(\"return\",e.sent);case 8:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.getTemp=function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,cozy.client.files.statByPath(\"/tmp\");case 4:t=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,cozy.client.files.createDirectory({name:\"tmp\",dirID:r.COZY_ROOT_ID});case 11:t=e.sent;case 12:return e.abrupt(\"return\",t);case 13:case\"end\":return e.stop()}},e,void 0,[[1,7]])}));return function(){return e.apply(this,arguments)}}())},\"./src/scripts/XMLDataFile.js\":function(e,t,n){\"use strict\";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.exportData=t.importData=void 0;var u=n(\"./node_modules/xmlbuilder/lib/index.js\"),o=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(\"./node_modules/xml2js/lib/xml2js.js\"),i=n(\"./src/scripts/TempFile.js\"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),f=n(\"./src/scripts/AutoImport.js\"),m=n(\"./src/constants/index.js\"),p=n(\"./src/tools/index.js\"),E=(t.importData=function(){var e=s(regeneratorRuntime.mark(function e(t){var n,a,r,s,u,o,l,i,d,p,E,h,v,y,_,b,g,C,O,T,x,D,k,R,N,j,w,L,P,M,I,F,U,q,z,V,Y,B,W,H,G,J,Q,K,Z,X,$,ee,te,ne;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.create(t,t.name);case 2:return n=e.sent,e.next=5,c.createFolder(\"unzip\");case 5:return a=e.sent,e.next=8,cozy.client.jobs.create(\"unzip\",{zip:n._id,destination:a._id});case 8:return r=e.sent,e.prev=9,e.next=12,(0,f.waitForJob)(r._id);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(9),e.t0;case 17:return console.log(\"Unzip ok\"),e.next=20,cozy.client.files.statById(a._id);case 20:if(s=e.sent,u=s.relations(\"contents\"),!(u.lenght<1)){e.next=24;break}throw Error(\"No file unziped\");case 24:if(o=u.shift(),\"homebook\"===o.attributes.name){e.next=27;break}return e.abrupt(\"return\",console.error(\"Error: the zip in not a homebook exported file\"));case 27:return e.next=29,cozy.client.files.statById(o._id);case 29:l=e.sent,i=l.relations(\"contents\"),console.log(\"Files content 2\",i),d=!0,p=!1,E=void 0,e.prev=35,h=i[Symbol.iterator]();case 37:if(d=(v=h.next()).done){e.next=204;break}if(y=v.value,\"homebook.xml\"!==y.attributes.name){e.next=196;break}return e.prev=40,e.next=43,cozy.client.files.getDownloadLinkById(y._id);case 43:return _=e.sent,e.next=46,cozy.client.fullpath(_);case 46:return b=e.sent,e.next=49,fetch(b);case 49:return g=e.sent,e.next=52,g.text();case 52:return C=e.sent,e.next=55,S(C);case 55:O=e.sent,console.log(\"Data\",O),T=!0,x=!1,D=void 0,e.prev=60,k=O.contacts[Symbol.iterator]();case 62:if(T=(R=k.next()).done){e.next=69;break}return N=R.value,e.next=66,cozy.client.data.create(m.DOCTYPE_CONTACTS,N);case 66:T=!0,e.next=62;break;case 69:e.next=75;break;case 71:e.prev=71,e.t1=e.catch(60),x=!0,D=e.t1;case 75:e.prev=75,e.prev=76,!T&&k.return&&k.return();case 78:if(e.prev=78,!x){e.next=81;break}throw D;case 81:return e.finish(78);case 82:return e.finish(75);case 83:return e.next=85,cozy.client.data.create(m.DOCTYPE_HOMEDATA,O.homeData);case 85:j=!0,w=!1,L=void 0,e.prev=88,P=O.equipments[Symbol.iterator]();case 90:if(j=(M=P.next()).done){e.next=97;break}return I=M.value,e.next=94,cozy.client.data.create(m.DOCTYPE_EQUIPMENTS,I);case 94:j=!0,e.next=90;break;case 97:e.next=103;break;case 99:e.prev=99,e.t2=e.catch(88),w=!0,L=e.t2;case 103:e.prev=103,e.prev=104,!j&&P.return&&P.return();case 106:if(e.prev=106,!w){e.next=109;break}throw L;case 109:return e.finish(106);case 110:return e.finish(103);case 111:F=!0,U=!1,q=void 0,e.prev=114,z=O.diagnoses[Symbol.iterator]();case 116:if(F=(V=z.next()).done){e.next=123;break}return Y=V.value,e.next=120,cozy.client.data.create(m.DOCTYPE_DIAGNOSIS,Y);case 120:F=!0,e.next=116;break;case 123:e.next=129;break;case 125:e.prev=125,e.t3=e.catch(114),U=!0,q=e.t3;case 129:e.prev=129,e.prev=130,!F&&z.return&&z.return();case 132:if(e.prev=132,!U){e.next=135;break}throw q;case 135:return e.finish(132);case 136:return e.finish(129);case 137:B=!0,W=!1,H=void 0,e.prev=140,G=O.maintenances[Symbol.iterator]();case 142:if(B=(J=G.next()).done){e.next=149;break}return Q=J.value,e.next=146,cozy.client.data.create(m.DOCTYPE_MAINTENANCES,Q);case 146:B=!0,e.next=142;break;case 149:e.next=155;break;case 151:e.prev=151,e.t4=e.catch(140),W=!0,H=e.t4;case 155:e.prev=155,e.prev=156,!B&&G.return&&G.return();case 158:if(e.prev=158,!W){e.next=161;break}throw H;case 161:return e.finish(158);case 162:return e.finish(155);case 163:K=!0,Z=!1,X=void 0,e.prev=166,$=O.works[Symbol.iterator]();case 168:if(K=(ee=$.next()).done){e.next=175;break}return te=ee.value,e.next=172,cozy.client.data.create(m.DOCTYPE_WORKS,te);case 172:K=!0,e.next=168;break;case 175:e.next=181;break;case 177:e.prev=177,e.t5=e.catch(166),Z=!0,X=e.t5;case 181:e.prev=181,e.prev=182,!K&&$.return&&$.return();case 184:if(e.prev=184,!Z){e.next=187;break}throw X;case 187:return e.finish(184);case 188:return e.finish(181);case 189:e.next=194;break;case 191:e.prev=191,e.t6=e.catch(40),console.error(e.t6);case 194:e.next=201;break;case 196:return e.next=198,cozy.client.files.statByPath(m.ROOT_PATH);case 198:return ne=e.sent,e.next=201,A(y,ne);case 201:d=!0,e.next=37;break;case 204:e.next=210;break;case 206:e.prev=206,e.t7=e.catch(35),p=!0,E=e.t7;case 210:e.prev=210,e.prev=211,!d&&h.return&&h.return();case 213:if(e.prev=213,!p){e.next=216;break}throw E;case 216:return e.finish(213);case 217:return e.finish(210);case 218:console.log(\"Importer END\");case 219:case\"end\":return e.stop()}},e,void 0,[[9,14],[35,206,210,218],[40,191],[60,71,75,83],[76,,78,82],[88,99,103,111],[104,,106,110],[114,125,129,137],[130,,132,136],[140,151,155,163],[156,,158,162],[166,177,181,189],[182,,184,188],[211,,213,217]])}));return function(t){return e.apply(this,arguments)}}(),t.exportData=function(){var e=s(regeneratorRuntime.mark(function e(){var t,n,a,r,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,n=t.end({pretty:!0,indent:\"  \",newline:\"\\n\",allowEmpty:!0}),a=new Blob([n],{type:\"text/plain;charset=utf-8\"}),e.next=7,c.deleteIfExist(\"homebook.xml\");case 7:return e.next=9,c.create(a,\"homebook.xml\");case 9:return r=e.sent,e.next=12,cozy.client.files.getArchiveLinkByPaths([m.ROOT_PATH+\"/\",r.path],\"homebook\");case 12:return s=e.sent,e.next=15,cozy.client.fullpath(s);case 15:return u=e.sent,e.abrupt(\"return\",u);case 17:case\"end\":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),function(){var e=s(regeneratorRuntime.mark(function e(){var t,n,a,r,s,u,l,i,c,d,f,E,h,S,A,O,T,x,D,k,R,N,j,w,L,P,M,I,F,U,q,z,V,Y,B,W,H,G,J,Q,K,Z,X,$,ee,te,ne,ae;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.default.create(\"homebook\").dec(\"1.0\",\"UTF-8\").ins(\"xml-stylesheet\",'type=\"text/xsl\" href=\"homebook.xsl\"'),t.ele(\"version\",m.VERSION),e.next=4,(0,p.getDataElements)(m.DOCTYPE_CONTACTS);case 4:for(n=e.sent,a=t.ele(\"contacts\"),r=!0,s=!1,u=void 0,e.prev=9,l=n[Symbol.iterator]();!(r=(i=l.next()).done);r=!0)c=i.value,d=C(c),a.importDocument(d);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),s=!0,u=e.t0;case 17:e.prev=17,e.prev=18,!r&&l.return&&l.return();case 20:if(e.prev=20,!s){e.next=23;break}throw u;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.next=27,(0,p.getDataElements)(m.DOCTYPE_HOMEDATA);case 27:return f=e.sent,E=f[0],void 0===E?t.ele(\"homedata\"):(h=g(E),t.importDocument(h)),e.next=32,(0,p.getDataElements)(m.DOCTYPE_EQUIPMENTS);case 32:for(S=e.sent,A=t.ele(\"equipments\"),O=!0,T=!1,x=void 0,e.prev=37,D=S[Symbol.iterator]();!(O=(k=D.next()).done);O=!0)R=k.value,d=b(R),A.importDocument(d);e.next=45;break;case 41:e.prev=41,e.t1=e.catch(37),T=!0,x=e.t1;case 45:e.prev=45,e.prev=46,!O&&D.return&&D.return();case 48:if(e.prev=48,!T){e.next=51;break}throw x;case 51:return e.finish(48);case 52:return e.finish(45);case 53:return e.next=55,(0,p.getDataElements)(m.DOCTYPE_WORKS);case 55:for(N=e.sent,j=t.ele(\"works\"),w=!0,L=!1,P=void 0,e.prev=60,M=N[Symbol.iterator]();!(w=(I=M.next()).done);w=!0)F=I.value,U=_(F),j.importDocument(U);e.next=68;break;case 64:e.prev=64,e.t2=e.catch(60),L=!0,P=e.t2;case 68:e.prev=68,e.prev=69,!w&&M.return&&M.return();case 71:if(e.prev=71,!L){e.next=74;break}throw P;case 74:return e.finish(71);case 75:return e.finish(68);case 76:return e.next=78,(0,p.getDataElements)(m.DOCTYPE_MAINTENANCES);case 78:for(q=e.sent,z=t.ele(\"maintenances\"),V=!0,Y=!1,B=void 0,e.prev=83,W=q[Symbol.iterator]();!(V=(H=W.next()).done);V=!0)G=H.value,J=y(G),z.importDocument(J);e.next=91;break;case 87:e.prev=87,e.t3=e.catch(83),Y=!0,B=e.t3;case 91:e.prev=91,e.prev=92,!V&&W.return&&W.return();case 94:if(e.prev=94,!Y){e.next=97;break}throw B;case 97:return e.finish(94);case 98:return e.finish(91);case 99:return e.next=101,(0,p.getDataElements)(m.DOCTYPE_DIAGNOSIS);case 101:for(Q=e.sent,K=t.ele(\"diagnoses\"),Z=!0,X=!1,$=void 0,e.prev=106,ee=Q[Symbol.iterator]();!(Z=(te=ee.next()).done);Z=!0)ne=te.value,ae=v(ne),K.importDocument(ae);e.next=114;break;case 110:e.prev=110,e.t4=e.catch(106),X=!0,$=e.t4;case 114:e.prev=114,e.prev=115,!Z&&ee.return&&ee.return();case 117:if(e.prev=117,!X){e.next=120;break}throw $;case 120:return e.finish(117);case 121:return e.finish(114);case 122:return e.abrupt(\"return\",t);case 123:case\"end\":return e.stop()}},e,void 0,[[9,13,17,25],[18,,20,24],[37,41,45,53],[46,,48,52],[60,64,68,76],[69,,71,75],[83,87,91,99],[92,,94,98],[106,110,114,122],[115,,117,121]])}));return function(){return e.apply(this,arguments)}}()),h=function(e){return o.default.create(e)},v=function(e){var t={diagnosis:{type:e.type,description:e.description,date:e.date,expirationDate:e.expirationDate,DPEEnergyClass:e.DPEEnergyClass,realEnergyConsommation:e.realEnergyConsommation,carbonClass:e.carbonClass,CO2emission:e.CO2emission,cep:e.cep,bbio:e.bbio,tic:e.tic,data:e.data,equipmentData:e.equipmentData}};return h(t)},y=function(e){var t={maintenance:{name:e.name,description:e.description,contractId:e.contractId,date:e.date,deadline:e.deadline,contract:e.conract}};return h(t)},_=function(e){var t={work:{type:e.type,description:e.description,roomNames:{roomName:e.roomNames},equipmentNames:{equipmentName:e.equipmentNames},craftsman:e.craftsman,cost:e.cost,dateStart:e.dateStart,dateEnd:e.dateEnd,contract:e.conract,satisfaction:e.satisfaction,status:e.status,commentary:e.commentary}};return h(t)},b=function(e){var t={equipment:{type:e.type,buyDate:e.buyDate,model:e.model,brand:e.brand,installDate:e.installDate,guaranteeEndDate:e.guaranteeEndDate,lastMaintenanceDate:e.lastMaintenanceDate,energyClass:e.energyClass}};return h(t)},g=function(e){var t={homeData:{type:e.type,status:e.status,constructionDate:e.constructionDate,address:e.address,email:e.email,phone:e.telephones&&e.telephones.map(function(e){return{\"@type\":e.type||\"default\",\"#text\":e.phone}}),livingArea:e.livingArea,roomsCount:e.roomsCount,guarantees:{guarantee:e.guarantees},rooms:{room:e.rooms},contract:e.contract}};return h(t)},C=function(e){var t={contact:{lastname:e.lastName,firstname:e.firstName,address:e.address,phone:e.telephones&&e.telephones.map(function(e){return{\"@type\":e.type||\"default\",\"#text\":e.phone}}),email:e.email,company:e.company,commentary:e.commentary}};return h(t)},S=function(){var e=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return Array.isArray(e)?e:[e]},e.abrupt(\"return\",new Promise(function(e,s){(0,l.parseString)(t,{strict:!0,async:!0,explicitArray:!1},function(t,u){if(console.log(\"DATA\",u,t),null!==t)return s(t);var o=u.homebook,l={contacts:[],homeData:{},equipments:[],diagnoses:[],maintenances:[],works:[]};if(\"\"!==o.contacts){var i=n(o.contacts.contact),c=!0,f=!1,m=void 0;try{for(var p,E=i[Symbol.iterator]();!(c=(p=E.next()).done);c=!0){var h=p.value,v=[];if(\"\"!==h.phone){v=n(h.phone).map(function(e){return{type:e.$&&e.$.type,phone:e._}})}l.contacts.push({lastName:h.lastname,firstName:h.firstname,address:h.address,commentary:h.commentary,email:h.email,company:h.company,telephones:v})}}catch(t){f=!0,m=t}finally{try{!c&&E.return&&E.return()}finally{if(f)throw m}}}var y=[];if(\"\"!==l.homeData.phone){y=n(l.homeData.phone).map(function(e){return{type:e.$&&e.$.type,phone:e._}})}if(l.homeData={type:d.type,status:d.status,constructionDate:d.constructionDate,address:d.address,email:d.email,livingArea:d.livingArea,roomsCount:d.roomsCount,guarantees:d.guarantees.guarantee,rooms:d.rooms.room,contract:d.contract,telephones:y},\"\"!==o.equipments){var _=n(o.equipments.equipment);l.equipments=[].concat(r(_))}if(\"\"!==o.diagnoses){var b=n(o.diagnoses.diagnosis);l.diagnoses=[].concat(r(b))}if(\"\"!==o.maintenances){var g=n(o.maintenances.maintenance);l.maintenances=[].concat(r(g))}if(\"\"!==o.works){var C=n(o.works.work);l.works=C.map(function(e){return a({type:e.type,description:e.description,roomNames:e.roomNames.roomName,equipmentNames:e.equipmentNames.equipmentName,craftsman:e.craftsman,cost:e.cost,dateStart:e.dateStart,dateEnd:e.dateEnd,contract:e.conract,satisfaction:e.satisfaction,status:e.status,commentary:e.commentary},\"contract\",e.contract)})}e(l)})}));case 2:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=s(regeneratorRuntime.mark(function e(t,n){var a,r,s,u,o,l,i,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"Move\",t.attributes.name,n.attributes.name),e.prev=1,e.next=4,cozy.client.files.updateAttributesById(t._id,{dir_id:n._id});case 4:return e.abrupt(\"return\",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),409!==e.t0.status){e.next=46;break}if(\"directory\"!==t.attributes.type){e.next=44;break}return e.next=13,cozy.client.files.statById(t._id);case 13:return a=e.sent,r=a.relations(\"contents\"),e.next=17,cozy.client.files.statByPath(n.attributes.path+\"/\"+t.attributes.name);case 17:s=e.sent,u=!0,o=!1,l=void 0,e.prev=21,i=r[Symbol.iterator]();case 23:if(u=(c=i.next()).done){e.next=30;break}return d=c.value,e.next=27,A(d,s);case 27:u=!0,e.next=23;break;case 30:e.next=36;break;case 32:e.prev=32,e.t1=e.catch(21),o=!0,l=e.t1;case 36:e.prev=36,e.prev=37,!u&&i.return&&i.return();case 39:if(e.prev=39,!o){e.next=42;break}throw l;case 42:return e.finish(39);case 43:return e.finish(36);case 44:e.next=47;break;case 46:throw e.t0;case 47:case\"end\":return e.stop()}},e,void 0,[[1,7],[21,32,36,44],[37,,39,43]])}));return function(t,n){return e.apply(this,arguments)}}()},\"./src/scripts/confirm.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.alert=void 0;var r=n(\"./node_modules/react/react.js\"),s=a(r),u=n(\"./node_modules/react-dom/index.js\"),o=a(u),l=function(){return document.body.appendChild(document.createElement(\"div\"))},i=function(e){return new Promise(function(t,n){var a=l(),r=function(){setTimeout(function(){o.default.unmountComponentAtNode(a),a.remove(),n()})},u=function(e){setTimeout(function(){o.default.unmountComponentAtNode(a),a.remove(),t(e)})};o.default.render(s.default.cloneElement(e,{confirm:u,abort:r}),a)})};t.default=i;t.alert=function(e){var t=l(),n=function(){o.default.unmountComponentAtNode(t),t.remove()};o.default.render(s.default.cloneElement(e,{close:n}),t)}},\"./src/scripts/cozyRecalls.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getJobs=t.getTriggers=t.trigger=t.send=t.deleteTrigger=void 0;var r=n(\"./node_modules/moment/moment.js\"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),u=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,r,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"GET\",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.authorize();case 2:return n=e.sent,e.next=5,cozy.client.fullpath(t);case 5:return a=e.sent,r={},r[\"Content-Type\"]=\"application/json\",r.Accept=\"application/json\",r.Authorization=n.token.toAuthHeader(),s={headers:r,method:u,credentials:\"include\"},\"POST\"===u&&(o.data.type=\"io.cozy.jobs\",s.body=JSON.stringify(o)),e.abrupt(\"return\",fetch(a,s));case 13:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),o=(t.deleteTrigger=function(e){return u(\"/jobs/triggers/\"+e,\"DELETE\").then(function(e){return e.text()})},t.send=function(e){if(void 0===e)return Promise.reject(\"No arguments\");var t=((0,s.default)(e.date,\"DD/MM/YYYY\").toDate(),l(e.deadline,e.recallName,e.username));return u(\"/jobs/queue/sendmail\",\"POST\",t).then(function(e){return e.json()})},t.trigger=function(e){if(void 0===e)return Promise.reject(\"No arguments\");var t=(0,s.default)(e.date,\"DD/MM/YYYY\").toDate(),n=o(t,e.deadline,e.recallName,e.username);return u(\"/jobs/triggers\",\"POST\",n).then(function(e){return e.json()})},t.getTriggers=function(e){return e=e?\"/\"+e:\"\",u(\"/jobs/triggers\"+e).then(function(e){return e.json()})},t.getJobs=function(){return u(\"/jobs/queue/sendmail\").then(function(e){return e})},function(e,t,n,a){if(!(e&&e instanceof Date))throw Error(\"Bad date argument\");return{data:{attributes:{type:\"@at\",arguments:e.toJSON(),worker:\"sendmail\",worker_arguments:i(t,n,a),options:{}}}}}),l=function(e,t,n){return{data:{attributes:{options:{},arguments:i(e,t,n)}}}},i=function(e,t,n){return{mode:\"noreply\",subject:\"Rappel Homebook\",parts:[{type:\"text/plain\",body:c(e,t,n)}]}},c=function(e,t){return\"Bonjour \"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\")+\",\\n\\nHomebook vous previent que le rappel \"+t+\" a pour échéance le \"+e+\".\\n\\nCordialement,\\nHomebook\"}},\"./src/scripts/dataFields.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getInfosFromDoctype=t.getInfosFromSlug=t.getInfosFromPath=t.getFields=t.getMaintenanceFields=t.getWorkFields=t.getEquipmentFields=t.getHomeFields=t.getDiagnosisFields=t.getContactFields=void 0;var r=n(\"./src/constants/data/contact.json\"),s=a(r),u=n(\"./src/constants/data/diagnosis.json\"),o=a(u),l=n(\"./src/constants/data/home.json\"),i=a(l),c=n(\"./src/constants/data/work.json\"),d=a(c),f=n(\"./src/constants/data/maintenance.json\"),m=a(f),p=n(\"./src/constants/data/equipment.json\"),E=a(p),h=n(\"./src/constants/index.js\");t.getContactFields=function(){return s.default},t.getDiagnosisFields=function(){return o.default},t.getHomeFields=function(){return i.default},t.getEquipmentFields=function(){return E.default},t.getWorkFields=function(){return d.default},t.getMaintenanceFields=function(){return m.default},t.getFields=function(e){switch(e){case h.DOCTYPE_DIAGNOSIS:return o.default;case h.DOCTYPE_EQUIPMENTS:return E.default;case h.DOCTYPE_HOMEDATA:return i.default;case h.DOCTYPE_MAINTENANCES:return m.default;case h.DOCTYPE_WORKS:return d.default}},t.getInfosFromPath=function(e){var t=!0,n=!1,a=void 0;try{for(var r,s=h.DATA_LIST[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var u=r.value;if(u.path===e)return u}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}},t.getInfosFromSlug=function(e){var t=!0,n=!1,a=void 0;try{for(var r,s=h.DATA_LIST[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var u=r.value;if(u.slug===e)return u}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}},t.getInfosFromDoctype=function(e){var t=!0,n=!1,a=void 0;try{for(var r,s=h.DATA_LIST[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var u=r.value;if(u.doctype===e)return u}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}}},\"./src/scripts/fileTypes.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getDisplayName=t.getTypesByGroup=t.getFileTypes=void 0;var a=n(\"./src/constants/types.json\"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(\"./src/constants/index.js\");t.getFileTypes=function(){var e=[],t=!0,n=!1,a=void 0;try{for(var u,o=r.default[Symbol.iterator]();!(t=(u=o.next()).done);t=!0){var l=u.value,i=!0,c=!1,d=void 0;try{for(var f,m=l.types[Symbol.iterator]();!(i=(f=m.next()).done);i=!0){var p=f.value;p.location=s.ROOT_PATH+l.location,p.perso=p.perso||!1|l.perso,e.push(p)}}catch(e){c=!0,d=e}finally{try{!i&&m.return&&m.return()}finally{if(c)throw d}}}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return e},t.getTypesByGroup=function(){return r.default},t.getDisplayName=function(e){var t=!0,n=!1,a=void 0;try{for(var s,u=r.default[Symbol.iterator]();!(t=(s=u.next()).done);t=!0){var o=s.value,l=!0,i=!1,c=void 0;try{for(var d,f=o.types[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var m=d.value;if(m.key===e)return m.name}}catch(e){i=!0,c=e}finally{try{!l&&f.return&&f.return()}finally{if(i)throw c}}}}catch(e){n=!0,a=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw a}}}},\"./src/scripts/initial.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./src/scripts/AutoImport.js\"),s=n(\"./src/scripts/InitKonnector.js\"),u=(n(\"./src/actions/index.js\"),n(\"./src/constants/index.js\")),o=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,(0,r.autoImport)(t);case 4:a=e.sent,console.log(\"Auto import OK\",a),1===a&&(t(\"Importation automatique de données terminé\"),n=!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(\"Erreur lors de l'importation automatique\",u.ALERT_LEVEL_ERROR),console.error(\"Auto import fail\",e.t0);case 13:return e.prev=13,e.next=16,(0,s.InitKonnector)();case 16:o=e.sent,console.log(\"Initialize Konnector\",o),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),console.error(\"Initialize Konnector fail\",e.t1);case 23:return e.abrupt(\"return\",n);case 24:case\"end\":return e.stop()}},e,void 0,[[1,9],[13,20]])}));return function(t){return e.apply(this,arguments)}}();t.default=o},\"./src/scripts/onboarding.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.markAsShown=t.isAlreadyShown=t.getMeta=void 0;var r=n(\"./src/constants/index.js\"),s=t.getMeta=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cozy.client.data.defineIndex(r.DOCTYPE_META,[\"name\"]);case 3:return t=e.sent,e.next=6,cozy.client.data.query(t,{selector:{name:\"onboarding\"}});case 6:return n=e.sent,e.abrupt(\"return\",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt(\"return\",[]);case 13:case\"end\":return e.stop()}},e,void 0,[[0,10]])}));return function(){return e.apply(this,arguments)}}();t.isAlreadyShown=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a,u,o,l,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:if(t=e.sent,0!==t.length){e.next=7;break}return e.abrupt(\"return\",!1);case 7:if(1!==t.length){e.next=11;break}return e.abrupt(\"return\",t[0].value);case 11:n=t.shift(),a=!0,u=!1,o=void 0,e.prev=15,l=t[Symbol.iterator]();case 17:if(a=(i=l.next()).done){e.next=24;break}return c=i.value,e.next=21,cozy.client.data.delete(r.DOCTYPE_META,c);case 21:a=!0,e.next=17;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(15),u=!0,o=e.t0;case 30:e.prev=30,e.prev=31,!a&&l.return&&l.return();case 33:if(e.prev=33,!u){e.next=36;break}throw o;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt(\"return\",n);case 39:case\"end\":return e.stop()}},e,void 0,[[15,26,30,38],[31,,33,37]])}));return function(){return e.apply(this,arguments)}}(),t.markAsShown=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a,u,o,l,i,c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,n=!0,a=!1,u=void 0,e.prev=6,o=t[Symbol.iterator]();case 8:if(n=(l=o.next()).done){e.next=15;break}return i=l.value,e.next=12,cozy.client.data.delete(r.DOCTYPE_META,i);case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),a=!0,u=e.t0;case 21:e.prev=21,e.prev=22,!n&&o.return&&o.return();case 24:if(e.prev=24,!a){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.next=31,cozy.client.data.create(r.DOCTYPE_META,{name:\"onboarding\",value:c});case 31:case\"end\":return e.stop()}},e,void 0,[[6,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}()},\"./src/store/index.js\":function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"./node_modules/redux/es/index.js\"),s=n(\"./src/tracker.js\"),u=n(\"./node_modules/redux-thunk/lib/index.js\"),o=a(u),l=n(\"./node_modules/redux-logger/dist/redux-logger.js\"),i=a(l),c=n(\"./src/reducers/index.js\"),d=a(c),f=function(){var e=[o.default,i.default];return(0,s.shouldEnableTracking)()&&(0,s.getTracker)()&&e.push((0,s.createTrackerMiddleware)()),(0,r.createStore)(d.default,(0,r.compose)(r.applyMiddleware.apply(void 0,e)))};t.default=f},\"./src/styles/App.sass\":function(e,t){e.exports={app:\"main__3svTAjG\",container:\"main__2W5H6DW\",page:\"main__MJPXvQh\"}},\"./src/styles/Assistant.sass\":function(e,t){e.exports={main:\"main__1LNBITc\",gaugeBox:\"main__1YYkj6A\",gauge:\"main__2QXXOXM\",progress:\"main__3c15ELT\",entries:\"main__2eN0c4Q\",list:\"main__2b89xWl\",sectionSearch:\"main__XwVy2La\",row:\"main__3qrIE5b\",col:\"main__3iiLk7X\",check:\"main__1kAxNp8 main__3iiLk7X\",checked:\"main__1XqOlXo\",name:\"main__4AkT6oM main__3iiLk7X\",button:\"main__3aEyi85 main__3iiLk7X\",disable:\"main__3SjZ7No\",legend:\"main__2GTP9zb main__2b89xWl\",legendRow:\"main__1CVx-sb main__3qrIE5b\",legendName:\"main__2nH3AN3 main__3iiLk7X main__4AkT6oM main__3iiLk7X\",legendCheck:\"main__2O3jQ64 main__3iiLk7X main__1kAxNp8 main__3iiLk7X\"}},\"./src/styles/ConfirmModal.sass\":function(e,t){e.exports={main:\"main__3pv0tKd\",content:\"main__oTcCMPj\",actions:\"main__3uVdkmq\"}},\"./src/styles/ContactRecallModal.sass\":function(e,t){e.exports={main:\"main__-14fkm4\",header:\"main__28k7fuQ\",content:\"main__cHEnE0Y\",edition:\"main__3MimC6q main__-14fkm4\",group:\"main__1BLxtfV\",inline:\"main__1vqdb71\",row:\"main__KMPWzuA\"}},\"./src/styles/Contacts.sass\":function(e,t){e.exports={letter:\"main__3u2tF-N\"}},\"./src/styles/Dashboard.sass\":function(e,t){e.exports={main:\"main__257wSLl\",row:\"main__1dqDTjF\",col:\"main__GrTsDtr\",actus:\"main__16D12oO\",recalls:\"main__3IDDIaE\",home:\"main__2QeIX9Q\",etiquettes:\"main__3V5ELdd\",panelTitle:\"main__14cgC6E\",timeRow:\"main__3Fa9kAF\",date:\"main__2nwUj0y\"}},\"./src/styles/DataForm.sass\":function(e,t){e.exports={input:\"main__38DYKKQ\",row:\"main__BlXyC_S\",footer:\"main__12kFBok\",button:\"main__2tL1wYJ\",steps:\"main__2bDMV33\"}},\"./src/styles/DataTable.sass\":function(e,t){e.exports={main:\"main__3O-K8xY\",row:\"main__1xjNwl2\",group:\"main__3mtm93p\",title:\"main__3NWQcWO\",item:\"main__2W28N3U\"}},\"./src/styles/DirectoryPicker.sass\":function(e,t){e.exports={main:\"main__2J43lkU\",container:\"main__2ak5yop\",name:\"main__3bIRD20\",selected:\"main__1EkEs-X\",icon:\"main__2wYnh-1\",file:\"main__26hEoLt\",content:\"main__2PNYpLd\"}},\"./src/styles/Documents.sass\":function(e,t){e.exports={breadcrums:\"main__grwUWFc\",row:\"main__1WQm6LO\"}},\"./src/styles/ElementList.sass\":function(e,t){e.exports={list:\"main__3TEqgoo\",content:\"main__3CeO2gN\",checkbox:\"main__1IqOZ2l\",viewList:\"main__2W9mpxX\",document:\"main__1JV2S3V\",viewGrid:\"main__3WsmiQU\",selected:\"main__2-L1ON-\",name:\"main__2nQOltw\",contact:\"main__J6YLRfQ\",type:\"main__3QoE_Rs\",date:\"main__2iD0ttO\"}},\"./src/styles/Footer.sass\":function(e,t){e.exports={main:\"main__3ovLQP-\",content:\"main__37qY8C-\"}},\"./src/styles/ImporterModal.sass\":function(e,t){e.exports={main:\"main__UcziIVu\",header:\"main__1pmB95T\",content:\"main__3bw__JO\",footer:\"main__15IOCI4\",dropzone:\"main___4oVXqr\",active:\"main__1s_c4NN\",message:\"main__2mUNzch\",doc:\"main__2F9XVQJ\",image:\"main__3PlukMF\",docName:\"main__VdOLhj8\",select:\"main__2_KFL-y\"}},\"./src/styles/Loader.sass\":function(e,t){e.exports={loader:\"main__3oQ1FKj\"}},\"./src/styles/Main.sass\":function(e,t){e.exports={main:\"main__2PFFSaI\"}},\"./src/styles/Modal.sass\":function(e,t){e.exports={modal:\"main__1nLqP2l\",popup:\"main__3-GCqfo\",header:\"main__JHhrySh\",content:\"main__BjP9V9C\",openActive:\"main__3LC9Hrw\",closeActive:\"main__1RpdxzL\",error:\"main__mItkyDz\"}},\"./src/styles/Navigation.sass\":function(e,t){e.exports={main:\"main__18QynQg\",nav:\"main__3vIr2dw\",list:\"main__1s_fawV\",button:\"main__3aQBxq2\",active:\"main__1sZCTbE\"}},\"./src/styles/Onboarding.sass\":function(e,t){e.exports={container:\"main__1ajlB1D\",background:\"main__2v369sa\",panel:\"main__2DJkxV_\",logo:\"main__3Ebi-0U\",sliderTitle:\"main__N6ViV7G\",sliderText:\"main__R684Pc1\",button:\"main__34a0xOP\",dot:\"main__2FpaVKO\",active:\"main__3j2GOCl\",close:\"main__oaSyyi-\"}},\"./src/styles/Page.sass\":function(e,t){e.exports={main:\"main__1pYojXV\",flex:\"main__28Vg_jG\",header:\"main__1Ozy1Vk\",row1:\"main__1-uPPcn\",row2:\"main__1F-3peC\",simpleList:\"main__2H07KHW\",actions:\"main__1j4nIkL main__2H07KHW\",options:\"main__2YYsrM7 main__2H07KHW\",headline:\"main__12ij7nY\",title:\"main__MoztXUd main__12ij7nY\",subtitle:\"main__10YUF6i main__12ij7nY\",content:\"main__p72DAA6\",back:\"main__3YoKAZ1\"}},\"./src/styles/Preferences.sass\":function(e,t){e.exports={title:\"main__Vq_cI2O\",article:\"main__qHLujUF\",load:\"main__3Af469j\"}},\"./src/styles/Recalls.sass\":function(e,t){e.exports={calendar:\"main__qTxiXrd\"}},\"./src/styles/TaskList.sass\":function(e,t){e.exports={header:\"main__2YgEHLh\",panel:\"main__mfj_0-5\",body:\"main__3XBZD0m\",tasks:\"main__1Oo8eVb main__mfj_0-5\",docs:\"main__Y4h4Hgr main__mfj_0-5\",contacts:\"main__2um4nY_ main__mfj_0-5\",list:\"main__5oUO9uR\",card:\"main__2CKbGcT\",selected:\"main__L8iGXos\",title:\"main__3mJ85hb\",name:\"main__1Tm-wdp\",sub:\"main__1gA_KJf\"}},\"./src/styles/ToolBoxOptions.sass\":function(e,t){e.exports={toolBox:\"main__3mXeRjU\",triangle:\"main__1UEAhEs\",content:\"main__1GBzk5r\",active:\"main__202ApM_\"}},\"./src/styles/buttons.scss\":function(e,t){e.exports={button:\"main__2Pc5skE\",disabled:\"main__1S3vnDL\",positive:\"main__22b7nGI\",light:\"main__23JmHcl\",assertive:\"main__utAurO8\",stable:\"main__2sFmQGG\",default:\"main__fJ7Wm8k\",clear:\"main__2QcKfEd\",icon:\"main__1t6_Ak-\",text:\"main__30hO-5e\"}},\"./src/styles/help.sass\":function(e,t){e.exports={tab:\"main__2aePkZf\",header:\"main__1MkEkvO\",title:\"main__1Yq_Qv0\"}},\"./src/styles/pdf.sass\":function(e,t){e.exports={previous:\"main__31hI6PZ\",next:\"main__JDpfbfZ\",zoom:\"main__26q9qnA\"}},\"./src/tools/index.js\":function(e,t,n){\"use strict\";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,s){try{var u=t[r](s),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){a(\"next\",e)},function(e){a(\"throw\",e)});e(o)}return a(\"next\")})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.searchFilesTag=t.searchFilesName=t.getDataElements=t.forceFileDownload=t.createOptionsFromArray=t.findParentPath=t.createFakePath=t.exctractReelPath=t.promiseTimeout=t.isDirectory=t.extractFileAttributes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(\"./src/constants/index.js\");t.extractFileAttributes=function(e){return Object.assign({},e.attributes,{id:e._id,links:e.links})},t.isDirectory=function(e){return e&&e.type&&\"directory\"===e.type},t.promiseTimeout=function(e){return new Promise(function(t,n){return setTimeout(t,e)})},t.exctractReelPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"/\";0!==e.indexOf(\"/\")&&(e=\"/\"+e);var t=e.split(\"/\");if(t.length<=1)return s.ROOT_PATH+\"/\"+e;var n=t.splice(2).join(\"/\");return s.ROOT_PATH+(n.length>1?\"/\"+n:\"\")},t.createFakePath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"/\";0!==e.indexOf(\"/\")&&(e=\"/\"+e);var t=e.split(\"/\");if(t.length<=1)return s.ROOT_NAME+\"/\"+e;var n=t.splice(2).join(\"/\");return s.ROOT_NAME+(n.length>1?\"/\"+n:\"\")},t.findParentPath=function(e){if(e){var t=e.split(\"/\");if(t.length>2)return t.slice(0,t.length-1).join(\"/\")}},t.createOptionsFromArray=function(e){return e.map(function(e,t){return React.createElement(\"option\",{key:t,value:e},e)})},t.forceFileDownload=function(e,t){var n=document.createElement(\"a\");n.setAttribute(\"href\",e),n.setAttribute(\"download\",t),n.style.display=\"none\",document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.getDataElements=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.data.defineIndex(t,[\"_id\"]);case 2:return n=e.sent,e.next=5,cozy.client.data.query(n,{selector:{_id:{$gt:null}}}).then(function(e){return a?e.map(function(e){return r({},e,{doctype:t})}):e});case 5:return e.abrupt(\"return\",e.sent);case 6:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.searchFilesName=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.data.defineIndex(\"io.cozy.files\",[\"_id\",\"name\"]);case 2:return n=e.sent,e.next=5,cozy.client.data.query(n,{selector:{_id:{$gt:null},name:{$regex:\"(?i)\"+t}}});case 5:return a=e.sent,e.abrupt(\"return\",a);case 7:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.searchFilesTag=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.data.defineIndex(\"io.cozy.files\",[\"_id\",\"tags\"]);case 2:return n=e.sent,e.next=5,cozy.client.data.query(n,{selector:{_id:{$gt:null},tags:{$in:[t]}}});case 5:return a=e.sent,e.abrupt(\"return\",a);case 7:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},\"./src/tracker.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=null,r=(t.shouldEnableTracking=function(){var e=document.querySelector(\"[role=application]\");if(e&&e.dataset){var t=e.dataset.cozyTracking;if(\"\"===t||\"true\"===t)return!0;if(\"false\"===t)return!1}},t.getTracker=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==a)return a;try{!1===u&&Piwik.getTracker();var o=n(\"./node_modules/piwik-react-router/index.js\");return a=o({url:e||\"https://piwik.cozycloud.cc\",siteId:t||14,injectScript:u}),s&&r(),a}catch(e){return console.warn(e),a=null,null}},t.configureTracker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!==a){var t=void 0,n=void 0,r=document.querySelector(\"[role=application]\");if(r&&r.dataset){n=r.dataset.cozyAppName,t=r.dataset.cozyDomain||\"\";var s=t.indexOf(\":\");s>=0&&(t=t.substring(0,s))}e=Object.assign({userId:t,appDimensionId:1,app:n,heartbeat:15},e),parseInt(e.heartbeat)>0&&a.push([\"enableHeartBeatTimer\",parseInt(e.heartbeat)]),a.push([\"setUserId\",e.userId]),a.push([\"setCustomDimension\",e.appDimensionId,e.app])}});t.createTrackerMiddleware=function(){return function(e){return function(e){return function(t){return a&&t.trackEvent&&t.trackEvent.category&&t.trackEvent.action&&a.push([\"trackEvent\",t.trackEvent.category,t.trackEvent.action,t.trackEvent.name,t.trackEvent.value]),e(t)}}}},t.resetTracker=function(){a&&(a.disconnectFromHistory(),a=null)}},0:function(e,t){},1:function(e,t,n){e.exports=n(\"./src/index.jsx\")}},[1]);\n\n\n// WEBPACK FOOTER //\n// main.bundle.501c8b.js"],"mappings":"AAAA","sourceRoot":""}