webpackJsonp([0],{"./src/App.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),l=a(r),o=n("./src/styles/App.sass"),u=a(o),s=n("./src/styles/buttons.scss"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./node_modules/history/createHashHistory.js"),m=a(f),p=n("./node_modules/react-router/es/index.js"),E=n("./node_modules/react-router-dom/es/index.js"),v=n("./src/constants/index.js"),_=n("./src/tracker.js"),h=n("./src/containers/Navigation.js"),y=a(h),S=n("./src/components/elements/Main.jsx"),C=a(S),b=n("./src/components/elements/Footer.jsx"),O=a(b),T=n("./src/components/elements/Page.jsx"),g=a(T),A=n("./src/components/elements/Onboarding.jsx"),R=a(A),N=n("./src/containers/Documents.js"),D=a(N),x=n("./src/containers/Contacts.js"),j=a(x),L=n("./src/containers/Recalls.js"),k=a(L),M=n("./src/containers/Trash.js"),P=a(M),w=n("./src/containers/Data.js"),I=a(w),U=n("./src/components/elements/Preferences.jsx"),F=a(U),V=n("./src/components/elements/Help.jsx"),q=a(V),z=n("./src/components/elements/About.jsx"),H=a(z),Y=function(e){var t=(0,m.default)();if((0,_.shouldEnableTracking)()&&(0,_.getTracker)()){var n=(0,_.getTracker)();t=n.connectToHistory(t),n.track(t.location.pathname)}return cozy.client.files.statByPath(v.ROOT_PATH).then(function(){e.initilizeGauge()}).catch(function(t){console.log("No route file"),e.initilizeDocs()}),l.default.createElement(p.Router,{history:t},l.default.createElement("div",{className:u.default.app},l.default.createElement("div",{className:u.default.container},l.default.createElement(y.default,null),l.default.createElement("div",{className:u.default.page},l.default.createElement(C.default,null,l.default.createElement(E.Route,{exact:!0,path:"/",component:R.default}),l.default.createElement(E.Route,{path:"/Documents/:path*",component:D.default}),l.default.createElement(E.Route,{path:"/data/:slug/:id",component:I.default}),l.default.createElement(E.Route,{path:"/donnees",component:W}),l.default.createElement(E.Route,{path:"/contacts",component:j.default}),l.default.createElement(E.Route,{path:"/rappels",component:k.default}),l.default.createElement(E.Route,{path:"/corbeille",component:P.default}),l.default.createElement(E.Route,{path:"/notifications",component:W}),l.default.createElement(E.Route,{path:"/preferences",component:F.default}),l.default.createElement(E.Route,{path:"/aide",component:q.default}),l.default.createElement(E.Route,{path:"/a-propos",component:H.default}),l.default.createElement(O.default,null))))))},W=function(e){return l.default.createElement(g.default,{title:e.location.pathname.substring(1).toUpperCase(),subtitle:"12 éléments",actions:[l.default.createElement("button",{className:(0,d.default)(c.default.button,c.default.stable)},"Bouton de test")]},l.default.createElement("h1",null,"WORK IN PROGRESS"))};t.default=Y},"./src/actions/contacts.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.contactsSave=t.contactsNew=t.contactsRestore=t.contactsRemove=t.contactsSelect=t.CONTACTS_SELECT=t.CONTACTS_RESTORE_FAILURE=t.CONTACTS_RESTORE_SUCCESS=t.CONTACTS_RESTORE=t.CONTACTS_REMOVE_FAILURE=t.CONTACTS_REMOVE_SUCCESS=t.CONTACTS_REMOVE=t.CONTACTS_SAVE_FAILURE=t.CONTACTS_SAVE_SUCCESS=t.CONTACTS_SAVE=t.CONTACTS_NEW_FAILURE=t.CONTACTS_NEW_SUCCESS=t.CONTACTS_NEW=void 0;var r=n("./src/constants/index.js"),l=t.CONTACTS_NEW="CONTACTS_NEW",o=t.CONTACTS_NEW_SUCCESS="CONTACTS_NEW_SUCCESS",u=t.CONTACTS_NEW_FAILURE="CONTACTS_NEW_FAILURE",s=t.CONTACTS_SAVE="CONTACTS_SAVE",c=t.CONTACTS_SAVE_SUCCESS="CONTACTS_SAVE_SUCCESS",i=t.CONTACTS_SAVE_FAILURE="CONTACTS_SAVE_FAILURE",d=t.CONTACTS_REMOVE="CONTACTS_REMOVE",f=t.CONTACTS_REMOVE_SUCCESS="CONTACTS_REMOVE_SUCCESS",m=t.CONTACTS_REMOVE_FAILURE="CONTACTS_REMOVE_FAILURE",p=t.CONTACTS_RESTORE="CONTACTS_RESTORE",E=t.CONTACTS_RESTORE_SUCCESS="CONTACTS_RESTORE_SUCCESS",v=t.CONTACTS_RESTORE_FAILURE="CONTACTS_RESTORE_FAILURE",_=t.CONTACTS_SELECT="CONTACTS_SELECT";t.contactsSelect=function(e){return{type:_,contact:e}},t.contactsRemove=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var l,o,u,s,c,i,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:d,contacts:e}),t.prev=1,l=[],console.log("Contacts",e),o=!0,u=!1,s=void 0,t.prev=7,c=e[Symbol.iterator]();case 9:if(o=(i=c.next()).done){t.next=19;break}return p=i.value,t.t0=l,t.next=14,cozy.client.data.updateAttributes(r.DOCTYPE_CONTACTS,p._id,{trash:!0});case 14:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 16:o=!0,t.next=9;break;case 19:t.next=25;break;case 21:t.prev=21,t.t2=t.catch(7),u=!0,s=t.t2;case 25:t.prev=25,t.prev=26,!o&&c.return&&c.return();case 28:if(t.prev=28,!u){t.next=31;break}throw s;case 31:return t.finish(28);case 32:return t.finish(25);case 33:return t.abrupt("return",n({type:f,ids:l.map(function(e){return e._id})}));case 36:return t.prev=36,t.t3=t.catch(1),t.abrupt("return",n({type:m,err:t.t3}));case 39:case"end":return t.stop()}},t,void 0,[[1,36],[7,21,25,33],[26,,28,32]])}));return function(e,n){return t.apply(this,arguments)}}()},t.contactsRestore=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var l,o,u,s,c,i,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:p,contacts:e}),t.prev=1,l=[],console.log("Contacts",e),o=!0,u=!1,s=void 0,t.prev=7,c=e[Symbol.iterator]();case 9:if(o=(i=c.next()).done){t.next=19;break}return d=i.value,t.t0=l,t.next=14,cozy.client.data.updateAttributes(r.DOCTYPE_CONTACTS,d._id,{trash:!1});case 14:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 16:o=!0,t.next=9;break;case 19:t.next=25;break;case 21:t.prev=21,t.t2=t.catch(7),u=!0,s=t.t2;case 25:t.prev=25,t.prev=26,!o&&c.return&&c.return();case 28:if(t.prev=28,!u){t.next=31;break}throw s;case 31:return t.finish(28);case 32:return t.finish(25);case 33:return t.abrupt("return",n({type:E,ids:l.map(function(e){return e._id})}));case 36:return t.prev=36,t.t3=t.catch(1),t.abrupt("return",n({type:v,err:t.t3}));case 39:case"end":return t.stop()}},t,void 0,[[1,36],[7,21,25,33],[26,,28,32]])}));return function(e,n){return t.apply(this,arguments)}}()},t.contactsNew=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,s){var c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:l,name:e}),n.prev=1,n.next=4,cozy.client.data.create(r.DOCTYPE_CONTACTS,t);case 4:return c=n.sent,n.abrupt("return",a({type:o,contact:c}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",a({type:u,err:n.t0}));case 11:case"end":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()},t.contactsSave=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,l){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:s,id:e}),n.prev=1,n.next=4,cozy.client.data.updateAttributes(r.DOCTYPE_CONTACTS,e,t);case 4:return o=n.sent,n.abrupt("return",a({type:c,contact:o}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",a({type:i,err:n.t0}));case 11:case"end":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()}},"./src/actions/data.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var r=t.DATA_REMOVE="DATA_REMOVE",l=t.DATA_REMOVE_SUCCESS="DATA_REMOVE_SUCCESS",o=t.DATA_REMOVE_FAILURE="DATA_REMOVE_FAILURE",u=t.DATA_NEW="DATA_NEW",s=t.DATA_NEW_SUCCESS="DATA_NEW_SUCCESS",c=t.DATA_NEW_FAILURE="DATA_NEW_FAILURE",i=t.DATA_SAVE="DATA_SAVE",d=t.DATA_SAVE_SUCCESS="DATA_SAVE_SUCCESS",f=t.DATA_SAVE_FAILURE="DATA_SAVE_FAILURE",m=t.DATA_RESTORE="DATA_RESTORE",p=t.DATA_RESTORE_SUCCESS="DATA_RESTORE_SUCCESS",E=t.DATA_RESTORE_FAILURE="DATA_RESTORE_FAILURE",v=t.DATA_SELECT="DATA_SELECT",_=t.DATA_LOAD="DATA_LOAD",h=t.DATA_LOAD_SUCCESS="DATA_LOAD_SUCCESS",y=t.DATA_LOAD_FAILURE="DATA_LOAD_FAILURE";t.dataSelect=function(e){return{type:v,data:e}},t.dataRemove=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,u){var s,c,i,d,f,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:r,data:t,doctype:e}),n.prev=1,s=[],c=!0,i=!1,d=void 0,n.prev=6,f=t[Symbol.iterator]();case 8:if(c=(m=f.next()).done){n.next=18;break}return p=m.value,n.t0=s,n.next=13,cozy.client.data.updateAttributes(e,p._id,{trash:!0});case 13:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 15:c=!0,n.next=8;break;case 18:n.next=24;break;case 20:n.prev=20,n.t2=n.catch(6),i=!0,d=n.t2;case 24:n.prev=24,n.prev=25,!c&&f.return&&f.return();case 27:if(n.prev=27,!i){n.next=30;break}throw d;case 30:return n.finish(27);case 31:return n.finish(24);case 32:return n.abrupt("return",a({type:l,ids:s.map(function(e){return e._id}),doctype:e}));case 35:return n.prev=35,n.t3=n.catch(1),n.abrupt("return",a({type:o,err:n.t3}));case 38:case"end":return n.stop()}},n,void 0,[[1,35],[6,20,24,32],[25,,27,31]])}));return function(e,t){return n.apply(this,arguments)}}()},t.dataRestore=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var r,l,o,u,s,c,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m,data:e}),t.prev=1,r=[],l=!0,o=!1,u=void 0,t.prev=6,s=e[Symbol.iterator]();case 8:if(l=(c=s.next()).done){t.next=18;break}return i=c.value,t.t0=r,t.next=13,cozy.client.data.updateAttributes(i.doctype,i._id,{trash:!1});case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:l=!0,t.next=8;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(6),o=!0,u=t.t2;case 24:t.prev=24,t.prev=25,!l&&s.return&&s.return();case 27:if(t.prev=27,!o){t.next=30;break}throw u;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt("return",n({type:p,ids:r.map(function(e){return e._id})}));case 35:return t.prev=35,t.t3=t.catch(1),t.abrupt("return",n({type:E,err:t.t3}));case 38:case"end":return t.stop()}},t,void 0,[[1,35],[6,20,24,32],[25,,27,31]])}));return function(e,n){return t.apply(this,arguments)}}()},t.dataNew=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,r){var l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u,data:t,doctype:e}),n.prev=1,n.next=4,cozy.client.data.create(e,t);case 4:return l=n.sent,n.abrupt("return",a({type:s,data:l,doctype:e}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",a({type:c,err:n.t0}));case 11:case"end":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()},t.dataSave=function(e,t,n){return function(){var r=a(regeneratorRuntime.mark(function a(r,l){var o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:i,id:t,data:n,doctype:e}),a.prev=1,a.next=4,cozy.client.data.updateAttributes(e,t,n);case 4:return o=a.sent,a.abrupt("return",r({type:d,data:o,doctype:e}));case 8:return a.prev=8,a.t0=a.catch(1),a.abrupt("return",r({type:f,err:a.t0}));case 11:case"end":return a.stop()}},a,void 0,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}()},t.dataLoad=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,r){var l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:_,id:t,doctype:e}),n.prev=1,n.next=4,cozy.client.data.find(e,t);case 4:return l=n.sent,n.abrupt("return",a({type:h,data:l,doctype:e}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",a({type:y,err:n.t0}));case 11:case"end":return n.stop()}},n,void 0,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()}},"./src/actions/documents.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.documentsMove=t.documentsRename=t.documentsRestore=t.documentsRemove=t.documentsInitialize=t.documentsNewFolder=t.documentsDownload=t.documentsClick=t.documentsChangeViewMode=t.documentsChangeFilter=t.documentsSelect=t.HTTP_CODE_CONFLICT=t.DOCUMENTS_MOVE_FAILURE=t.DOCUMENTS_MOVE_SUCCESS=t.DOCUMENTS_MOVE=t.DOCUMENTS_RENAME_FAILURE=t.DOCUMENTS_RENAME_SUCCESS=t.DOCUMENTS_RENAME=t.DOCUMENTS_CHANGE_FILTER=t.DOCUMENTS_CLICK=t.DOCUMENTS_NEW_FOLDER_FAILURE_DUPLICATE=t.DOCUMENTS_NEW_FOLDER_FAILURE_GENERIC=t.DOCUMENTS_NEW_FOLDER_SUCCESS=t.DOCUMENTS_NEW_FOLDER=t.DOCUMENTS_CHANGE_VIEW_MODE=t.DOCUMENTS_DOWNLOAD_ALL=t.DOCUMENTS_DOWNLOAD=t.DOCUMENTS_INITIALIZE_FAILURE=t.DOCUMENTS_INITIALIZE_SUCCESS=t.DOCUMENTS_INITIALIZE=t.DOCUMENTS_RESTORE_FAILURE=t.DOCUMENTS_RESTORE_SUCCESS=t.DOCUMENTS_RESTORE=t.DOCUMENTS_REMOVE_FAILURE=t.DOCUMENTS_REMOVE_SUCCESS=t.DOCUMENTS_REMOVE=t.DOCUMENTS_SELECT=void 0;var r=n("./src/tools/index.js"),l=n("./src/constants/index.js"),o=n("./src/actions/load.js"),u=n("./src/actions/gauge.js"),s=t.DOCUMENTS_SELECT="DOCUMENTS_SELECT",c=t.DOCUMENTS_REMOVE="DOCUMENTS_REMOVE",i=t.DOCUMENTS_REMOVE_SUCCESS="DOCUMENTS_REMOVE_SUCCESS",d=t.DOCUMENTS_REMOVE_FAILURE="DOCUMENTS_REMOVE_FAILURE",f=t.DOCUMENTS_RESTORE="DOCUMENTS_RESTORE",m=t.DOCUMENTS_RESTORE_SUCCESS="DOCUMENTS_RESTORE_SUCCESS",p=t.DOCUMENTS_RESTORE_FAILURE="DOCUMENTS_RESTORE_FAILURE",E=t.DOCUMENTS_INITIALIZE="DOCUMENTS_INITIALIZE",v=t.DOCUMENTS_INITIALIZE_SUCCESS="DOCUMENTS_INITIALIZE_SUCCESS",_=t.DOCUMENTS_INITIALIZE_FAILURE="DOCUMENTS_INITIALIZE_FAILURE",h=t.DOCUMENTS_DOWNLOAD="DOCUMENTS_DOWNLOAD",y=(t.DOCUMENTS_DOWNLOAD_ALL="DOCUMENTS_DOWNLOAD_ALL",t.DOCUMENTS_CHANGE_VIEW_MODE="DOCUMENTS_CHANGE_VIEW_MODE"),S=t.DOCUMENTS_NEW_FOLDER="DOCUMENTS_NEW_FOLDER",C=t.DOCUMENTS_NEW_FOLDER_SUCCESS="DOCUMENTS_NEW_FOLDER_SUCCESS",b=t.DOCUMENTS_NEW_FOLDER_FAILURE_GENERIC="DOCUMENTS_NEW_FOLDER_FAILURE_GENERIC",O=t.DOCUMENTS_NEW_FOLDER_FAILURE_DUPLICATE="DOCUMENTS_NEW_FOLDER_FAILURE_DUPLICATE",T=t.DOCUMENTS_CLICK="DOCUMENTS_CLICK",g=t.DOCUMENTS_CHANGE_FILTER="DOCUMENTS_CHANGE_FILTER",A=t.DOCUMENTS_RENAME="DOCUMENTS_RENAME",R=t.DOCUMENTS_RENAME_SUCCESS="DOCUMENTS_RENAME_SUCCESS",N=t.DOCUMENTS_RENAME_FAILURE="DOCUMENTS_RENAME_FAILURE",D=t.DOCUMENTS_MOVE="DOCUMENTS_MOVE",x=t.DOCUMENTS_MOVE_SUCCESS="DOCUMENTS_MOVE_SUCCESS",j=t.DOCUMENTS_MOVE_FAILURE="DOCUMENTS_MOVE_FAILURE",L=t.HTTP_CODE_CONFLICT=409,k=(t.documentsSelect=function(e){return{type:s,document:e}},t.documentsChangeFilter=function(e){return{type:g,filter:e}},t.documentsChangeViewMode=function(){return{type:y}},t.documentsClick=function(e){return{type:T,document:e}},t.documentsDownload=function(e){return console.log("Docnload",e),function(){var t=a(regeneratorRuntime.mark(function t(n){var a,l,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.length||(0,r.isDirectory)(e[0])){t.next=2;break}return t.abrupt("return",n(k(e[0])));case 2:return a=e.map(function(e){return e.path}),t.next=5,cozy.client.files.getArchiveLinkByPaths(a);case 5:return l=t.sent,t.next=8,cozy.client.fullpath(l);case 8:return o=t.sent,M(o,"homebook.zip"),t.abrupt("return",n({type:h,selected:e}));case 11:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},function(e){return console.log("DL file",e),function(){var t=a(regeneratorRuntime.mark(function t(n){var a,r,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cozy.client.files.downloadById(e.id).catch(function(e){throw e});case 2:return a=t.sent,t.next=5,a.blob();case 5:return r=t.sent,l=e.name,M(window.URL.createObjectURL(r),l),t.abrupt("return",n({type:h,file:e}));case 9:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}),M=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},P=(t.documentsNewFolder=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var l,o,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=a().documents.files,!(o=l&&l.find(function(t){return(0,r.isDirectory)(t)&&t.name===e}))){t.next=5;break}throw n({type:O,alert:{message:"alert.folder_name",messageData:{folderName:e}}}),new Error("New folder duplicate");case 5:return n({type:S,name:e}),t.prev=6,t.next=9,cozy.client.files.createDirectory({name:e,dirID:a().documents.folder.id});case 9:u=t.sent,n({type:C,folder:(0,r.extractFileAttributes)(u)}),t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(6),n(t.t0.response&&t.t0.response.status===L?{type:O,alert:{message:"alert.folder_name",err:t.t0,messageData:{folderName:e}}}:{type:b,err:t.t0,alert:{message:"alert.folder_generic"}}),t.t0;case 17:case"end":return t.stop()}},t,void 0,[[6,13]])}));return function(e,n){return t.apply(this,arguments)}}()},function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.files.statByPath(t).catch(function(e){var a=t.substring(t.lastIndexOf("/")+1);return console.log("Create initial folder",a),cozy.client.files.createDirectory({name:a,dirID:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}());t.documentsInitialize=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var r,s,c,i,d,f,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:E,name:e}),t.prev=1,t.next=4,P(l.ROOT_PATH,l.COZY_ROOT_ID);case 4:r=t.sent,s=!0,c=!1,i=void 0,t.prev=8,d=l.FOLDER_LIST[Symbol.iterator]();case 10:if(s=(f=d.next()).done){t.next=18;break}return m=f.value,t.next=14,P(m,r._id);case 14:p=t.sent;case 15:s=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),c=!0,i=t.t0;case 24:t.prev=24,t.prev=25,!s&&d.return&&d.return();case 27:if(t.prev=27,!c){t.next=30;break}throw i;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return n((0,o.loadFolder)(l.ROOT_PATH)),n((0,u.gaugeInitialize)()),t.abrupt("return",n({type:v}));case 37:return t.prev=37,t.t1=t.catch(1),t.abrupt("return",n({type:_,err:t.t1,alert:{message:"alert.folder_name",messageData:{folderName:e}}}));case 40:case"end":return t.stop()}},t,void 0,[[1,37],[8,20,24,32],[25,,27,31]])}));return function(e,n){return t.apply(this,arguments)}}()},t.documentsRemove=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n){var a,r,l,o,u,s,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:c,files:e}),a=[],t.prev=2,r=!0,l=!1,o=void 0,t.prev=6,u=e[Symbol.iterator]();case 8:if(r=(s=u.next()).done){t.next=18;break}return f=s.value,t.t0=a,t.next=13,cozy.client.files.trashById(f.id);case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:r=!0,t.next=8;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(6),l=!0,o=t.t2;case 24:t.prev=24,t.prev=25,!r&&u.return&&u.return();case 27:if(t.prev=27,!l){t.next=30;break}throw o;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt("return",n({type:i,ids:a.map(function(e){return e._id}),alert:{message:"alert.trash_file_success"}}));case 35:return t.prev=35,t.t3=t.catch(2),t.abrupt("return",n({type:d,err:t.t3,alert:{message:"alert.try_again"}}));case 38:case"end":return t.stop()}},t,void 0,[[2,35],[6,20,24,32],[25,,27,31]])}));return function(e){return t.apply(this,arguments)}}()},t.documentsRestore=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n){var a,r,l,o,u,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:f,files:e}),a=[],t.prev=2,r=!0,l=!1,o=void 0,t.prev=6,u=e[Symbol.iterator]();case 8:if(r=(s=u.next()).done){t.next=18;break}return c=s.value,t.t0=a,t.next=13,cozy.client.files.restoreById(c.id);case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:r=!0,t.next=8;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(6),l=!0,o=t.t2;case 24:t.prev=24,t.prev=25,!r&&u.return&&u.return();case 27:if(t.prev=27,!l){t.next=30;break}throw o;case 30:return t.finish(27);case 31:return t.finish(24);case 32:t.next=37;break;case 34:return t.prev=34,t.t3=t.catch(2),t.abrupt("return",n({type:p}));case 37:return t.abrupt("return",n({type:m,ids:e.map(function(e){return e.id})}));case 38:case"end":return t.stop()}},t,void 0,[[2,34],[6,20,24,32],[25,,27,31]])}));return function(e){return t.apply(this,arguments)}}()},t.documentsRename=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a){var l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:A,id:e,name:t}),n.prev=1,n.next=4,cozy.client.files.updateAttributesById(e,{name:t});case 4:return l=n.sent,n.abrupt("return",a({type:R,file:(0,r.extractFileAttributes)(l)}));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",a({type:N,err:n.t0}));case 11:case"end":return n.stop()}},n,void 0,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()},t.documentsMove=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a){var r,l,o,u,s,c,i,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:D,files:e,path:t}),r=[],n.prev=2,n.next=5,cozy.client.files.statByPath(t);case 5:l=n.sent,o=!0,u=!1,s=void 0,n.prev=9,c=e[Symbol.iterator]();case 11:if(o=(i=c.next()).done){n.next=21;break}return d=i.value,n.t0=r,n.next=16,cozy.client.files.updateAttributesById(d.id,{dir_id:l._id});case 16:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 18:o=!0,n.next=11;break;case 21:n.next=27;break;case 23:n.prev=23,n.t2=n.catch(9),u=!0,s=n.t2;case 27:n.prev=27,n.prev=28,!o&&c.return&&c.return();case 30:if(n.prev=30,!u){n.next=33;break}throw s;case 33:return n.finish(30);case 34:return n.finish(27);case 35:return n.abrupt("return",a({type:x,ids:r.map(function(e){return e._id})}));case 38:return n.prev=38,n.t3=n.catch(2),n.abrupt("return",a({type:j,err:n.t3}));case 41:case"end":return n.stop()}},n,void 0,[[2,38],[9,23,27,35],[28,,30,34]])}));return function(e){return n.apply(this,arguments)}}()}},"./src/actions/gauge.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.gaugeInitialize=t.GAUGE_INITIALIZE_FAILURE=t.GAUGE_INITIALIZE_SUCCESS=t.GAUGE_INITIALIZE=void 0;var r=n("./src/constants/index.js"),l=t.GAUGE_INITIALIZE="GAUGE_INITIALIZE",o=t.GAUGE_INITIALIZE_SUCCESS="GAUGE_INITIALIZE_SUCCESS",u=t.GAUGE_INITIALIZE_FAILURE="GAUGE_INITIALIZE_FAILURE",s=(t.gaugeInitialize=function(){return function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:l}),e.prev=1,a=[],e.next=5,s(r.ROOT_PATH,a);case 5:return e.abrupt("return",t({type:o,types:a}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t({type:u,err:e.t0}));case 11:case"end":return e.stop()}},e,void 0,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()},function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,r,l,o,u,c,i,d,f,m,p,E,v,_,h,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.files.statByPath(t);case 2:a=e.sent,r=a.relations("contents"),l=!0,o=!1,u=void 0,e.prev=7,c=r[Symbol.iterator]();case 9:if(l=(i=c.next()).done){e.next=51;break}if(d=i.value,!d.attributes||!d.attributes.type||"directory"!==d.attributes.type){e.next=16;break}return e.next=14,s(d.attributes.path,n);case 14:e.next=48;break;case 16:if(!(d.attributes.tags&&d.attributes.tags.length>0)){e.next=48;break}f=d.attributes.tags[0],m=!1,p=!0,E=!1,v=void 0,e.prev=22,_=n[Symbol.iterator]();case 24:if(p=(h=_.next()).done){e.next=33;break}if(y=h.value,y.type!==f){e.next=30;break}return y.count=y.count+1||1,m=!0,e.abrupt("break",33);case 30:p=!0,e.next=24;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(22),E=!0,v=e.t0;case 39:e.prev=39,e.prev=40,!p&&_.return&&_.return();case 42:if(e.prev=42,!E){e.next=45;break}throw v;case 45:return e.finish(42);case 46:return e.finish(39);case 47:m||n.push({type:f,count:1});case 48:l=!0,e.next=9;break;case 51:e.next=57;break;case 53:e.prev=53,e.t1=e.catch(7),o=!0,u=e.t1;case 57:e.prev=57,e.prev=58,!l&&c.return&&c.return();case 60:if(e.prev=60,!o){e.next=63;break}throw u;case 63:return e.finish(60);case 64:return e.finish(57);case 65:case"end":return e.stop()}},e,void 0,[[7,53,57,65],[22,35,39,47],[40,,42,46],[58,,60,64]])}));return function(t,n){return e.apply(this,arguments)}}())},"./src/actions/importer.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.importerFilesUpload=t.importerTree=t.importerViewChange=t.importerDirectoryChange=t.importerClick=t.IMPORTER_TREE_FAILURE=t.IMPORTER_TREE_SUCCESS=t.IMPORTER_TREE=t.IMPORTER_VIEW_CHANGE=t.IMPORTER_DIRECTORY_CHANGE=t.IMPORTER_FILE_UPLOAD_FAILURE=t.IMPORTER_FILE_UPLOAD_SUCESS=t.IMPORTER_FILE_UPLOAD=t.IMPORTER_CLICK=void 0;var r=n("./src/tools/index.js"),l=n("./node_modules/lodash/lodash.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n("./src/constants/index.js"),s=t.IMPORTER_CLICK="IMPORTER_CLICK",c=t.IMPORTER_FILE_UPLOAD="IMPORTER_FILE_UPLOAD",i=t.IMPORTER_FILE_UPLOAD_SUCESS="IMPORTER_FILE_UPLOAD_SUCESS",d=t.IMPORTER_FILE_UPLOAD_FAILURE="IMPORTER_FILE_UPLOAD_FAILURE",f=t.IMPORTER_DIRECTORY_CHANGE="IMPORTER_DIRECTORY_CHANGE",m=t.IMPORTER_VIEW_CHANGE="IMPORTER_VIEW_CHANGE",p=t.IMPORTER_TREE="IMPORTER_TREE",E=t.IMPORTER_TREE_SUCCESS="IMPORTER_TREE_SUCCESS",v=t.IMPORTER_TREE_FAILURE="IMPORTER_TREE_FAILURE",_=(t.importerClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""===e&&(e=u.ROOT_PATH),function(n,a){return o.default.isEmpty(a().importer.documentsTree)&&n(h()),n({type:s,slug:t,path:e})}},t.importerDirectoryChange=function(e){return{type:f,path:e}},t.importerViewChange=function(e){return{type:m,view:e}},function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,r,l,o,u,s,c,i,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.files.statByPath(t.path);case 2:n=e.sent,a=[],r=n.relations("contents"),l=!0,o=!1,u=void 0,e.prev=8,s=r[Symbol.iterator]();case 10:if(l=(c=s.next()).done){e.next=23;break}if(i=c.value,"directory"!==i.attributes.type){e.next=20;break}return d={path:i.attributes.path,name:i.attributes.name,childs:[]},e.t0=a,e.next=17,_(d);case 17:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),t.childs.push(d);case 20:l=!0,e.next=10;break;case 23:e.next=29;break;case 25:e.prev=25,e.t2=e.catch(8),o=!0,u=e.t2;case 29:e.prev=29,e.prev=30,!l&&s.return&&s.return();case 32:if(e.prev=32,!o){e.next=35;break}throw u;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.abrupt("return",a);case 38:case"end":return e.stop()}},e,void 0,[[8,25,29,37],[30,,32,36]])}));return function(t){return e.apply(this,arguments)}}()),h=t.importerTree=function(){return function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),e.prev=1,a={path:u.ROOT_PATH,childs:[],name:u.ROOT_NAME},e.next=5,_(a);case 5:return e.abrupt("return",t({type:E,tree:a}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t({type:v,err:e.t0}));case 11:case"end":return e.stop()}},e,void 0,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()};t.importerFilesUpload=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,l){var o,u,s,f,m,p,E,v;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:c,dirId:t}),o=[],n.prev=2,u=!0,s=!1,f=void 0,n.prev=6,m=e[Symbol.iterator]();case 8:if(u=(p=m.next()).done){n.next=21;break}return E=p.value,n.next=12,cozy.client.files.create(E,{name:E.name,dirID:t});case 12:if(v=n.sent,!E.typeFile){n.next=17;break}return n.next=16,cozy.client.files.updateAttributesById(v._id,{tags:[E.typeFile]});case 16:v=n.sent;case 17:o.push(v);case 18:u=!0,n.next=8;break;case 21:n.next=27;break;case 23:n.prev=23,n.t0=n.catch(6),s=!0,f=n.t0;case 27:n.prev=27,n.prev=28,!u&&m.return&&m.return();case 30:if(n.prev=30,!s){n.next=33;break}throw f;case 33:return n.finish(30);case 34:return n.finish(27);case 35:return n.abrupt("return",a({type:i,files:o.map(function(e){return(0,r.extractFileAttributes)(e)})}));case 38:return n.prev=38,n.t1=n.catch(2),n.abrupt("return",a({type:d,err:n.t1}));case 41:case"end":return n.stop()}},n,void 0,[[2,38],[6,23,27,35],[28,,30,34]])}));return function(e,t){return n.apply(this,arguments)}}()}},"./src/actions/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/actions/contacts.js");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n("./src/actions/documents.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var l=n("./src/actions/importer.js");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var o=n("./src/actions/load.js");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var u=n("./src/actions/recalls.js");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var s=n("./src/actions/trash.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var c=n("./src/actions/data.js");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var i=n("./src/actions/gauge.js");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},"./src/actions/load.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadTrash=t.loadData=t.loadContacts=t.loadRecalls=t.loadFolder=t.LOAD_FILE_SUCCESS=t.LOAD_TRASH_FAILURE=t.LOAD_TRASH_SUCCESS=t.LOAD_TRASH=t.LOAD_DATA_FAILURE=t.LOAD_DATA_SUCCESS=t.LOAD_DATA=t.LOAD_CONTACTS_FAILURE=t.LOAD_CONTACTS_SUCCESS=t.LOAD_CONTACTS=t.LOAD_RECALLS_FAILURE=t.LOAD_RECALLS_SUCCESS=t.LOAD_RECALLS=t.LOAD_DOCS_FAILURE=t.LOAD_DOCS_SUCCESS=t.LOAD_DOCS=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=n("./node_modules/moment/moment.js"),s=a(u),c=n("./node_modules/lodash/lodash.js"),i=(a(c),n("./src/tools/index.js")),d=n("./src/constants/index.js"),f=t.LOAD_DOCS="LOAD_DOCS",m=t.LOAD_DOCS_SUCCESS="LOAD_DOCS_SUCCESS",p=t.LOAD_DOCS_FAILURE="LOAD_DOCS_FAILURE",E=t.LOAD_RECALLS="LOAD_RECALLS",v=t.LOAD_RECALLS_SUCCESS="LOAD_RECALLS_SUCCESS",_=t.LOAD_RECALLS_FAILURE="LOAD_RECALLS_FAILURE",h=t.LOAD_CONTACTS="LOAD_CONTACTS",y=t.LOAD_CONTACTS_SUCCESS="LOAD_CONTACTS_SUCCESS",S=t.LOAD_CONTACTS_FAILURE="LOAD_CONTACTS_FAILURE",C=t.LOAD_DATA="LOAD_DATA",b=t.LOAD_DATA_SUCCESS="LOAD_DATA_SUCCESS",O=t.LOAD_DATA_FAILURE="LOAD_DATA_FAILURE",T=t.LOAD_TRASH="LOAD_TRASH",g=t.LOAD_TRASH_SUCCESS="LOAD_TRASH_SUCCESS",A=t.LOAD_TRASH_FAILURE="LOAD_TRASH_FAILURE",R=t.LOAD_FILE_SUCCESS="LOAD_FILE_SUCCESS",N=(t.loadFolder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.ROOT_PATH;return function(){var t=l(regeneratorRuntime.mark(function t(n,a){var r,l,o,u,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:f,path:e}),t.prev=1,t.next=4,cozy.client.files.statByPath(e);case 4:if(r=t.sent,l=r.attributes.dir_id,t.t0=!!l,!t.t0){t.next=11;break}return t.next=10,cozy.client.files.statById(l).catch(function(e){if(403!==e.status)throw e;console.warn("User don't have access to parent folder")});case 10:t.t0=t.sent;case 11:if(o=t.t0,"directory"!==r.attributes.type){t.next=18;break}return u=r.relationships.contents,s=r.relations("contents").filter(function(e){return void 0!==e})||[],t.abrupt("return",n({type:m,folder:Object.assign((0,i.extractFileAttributes)(r),{parent:(0,i.extractFileAttributes)(o)}),fileCount:u.meta.count||0,files:s.map(function(e){return(0,i.extractFileAttributes)(e)})}));case 18:return t.abrupt("return",n({type:R,file:Object.assign((0,i.extractFileAttributes)(r),{parent:(0,i.extractFileAttributes)(o),path:o.attributes.path+"/"+r.attributes.name})}));case 19:t.next=24;break;case 21:return t.prev=21,t.t1=t.catch(1),t.abrupt("return",n({type:p,error:t.t1}));case 24:case"end":return t.stop()}},t,void 0,[[1,21]])}));return function(e,n){return t.apply(this,arguments)}}()},function(){var e=l(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.data.defineIndex(t,["_id"]);case 2:return n=e.sent,e.next=5,cozy.client.data.query(n,{selector:{_id:{$gt:null}}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),D=(t.loadRecalls=function(){return function(){var e=l(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:E}),e.prev=1,e.next=4,N(d.DOCTYPE_RECALLS);case 4:return a=e.sent,a.map(function(e){return o({},e,{deadline:(0,s.default)(e.deadline,"DD/MM/YYYY"),alert:(0,s.default)(e.alert,"DD/MM/YYYY")})}),e.abrupt("return",t({type:v,recalls:a}));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t({type:_,error:e.t0}));case 12:case"end":return e.stop()}},e,void 0,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},t.loadContacts=function(){return function(){var e=l(regeneratorRuntime.mark(function e(t,n){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.prev=1,e.next=4,N(d.DOCTYPE_CONTACTS);case 4:return a=e.sent,r=a.filter(function(e){return!e.trash}),e.abrupt("return",t({type:y,contacts:r}));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t({type:S,error:e.t0}));case 12:case"end":return e.stop()}},e,void 0,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},t.loadData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.DOCTYPE_DATA;return e===d.DOCTYPE_DATA?{type:b,data:d.DATA_LIST,doctype:d.DOCTYPE_DATA}:D(C,b,O,e)},function(e,t,n,a){return function(){var r=l(regeneratorRuntime.mark(function r(l,o){var u,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l({type:e}),r.prev=1,r.next=4,N(a);case 4:return u=r.sent,s=u.filter(function(e){return!e.trash}),r.abrupt("return",l({type:t,data:s.map(function(e){return e.doctype=a,e}),doctype:a}));case 9:return r.prev=9,r.t0=r.catch(1),r.abrupt("return",l({type:n,error:r.t0}));case 12:case"end":return r.stop()}},r,void 0,[[1,9]])}));return function(e,t){return r.apply(this,arguments)}}()});t.loadTrash=function(){return function(){var e=l(regeneratorRuntime.mark(function e(t,n){var a,l,o,u,s,c,f,m,p,E,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:T}),e.prev=1,e.next=4,cozy.client.files.listTrash();case 4:return a=e.sent,e.next=7,N(d.DOCTYPE_CONTACTS);case 7:l=e.sent,o=l.filter(function(e){return e.trash}),u=[],s=regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t.doctype);case 2:n=e.sent,a=n.filter(function(e){return e.trash}).map(function(e){return e.doctype=t.doctype,e}),u.push.apply(u,r(a));case 5:case"end":return e.stop()}},e,void 0)}),c=!0,f=!1,m=void 0,e.prev=14,p=d.DATA_LIST[Symbol.iterator]();case 16:if(c=(E=p.next()).done){e.next=22;break}return v=E.value,e.delegateYield(s(v),"t0",19);case 19:c=!0,e.next=16;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(14),f=!0,m=e.t1;case 28:e.prev=28,e.prev=29,!c&&p.return&&p.return();case 31:if(e.prev=31,!f){e.next=34;break}throw m;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",t({type:g,files:a.map(function(e){return(0,i.extractFileAttributes)(e)}),contacts:o,data:u}));case 39:return e.prev=39,e.t2=e.catch(1),e.abrupt("return",t({type:A,error:e.t2}));case 42:case"end":return e.stop()}},e,void 0,[[1,39],[14,24,28,36],[29,,31,35]])}));return function(t,n){return e.apply(this,arguments)}}()}},"./src/actions/recalls.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.recallsSave=t.recallsNew=t.recallsRemove=t.recallsCalendarClick=t.RECALLS_REMOVE_FAILURE=t.RECALLS_REMOVE_SUCCESS=t.RECALLS_REMOVE=t.RECALLS_SAVE_FAILURE=t.RECALLS_SAVE_SUCCESS=t.RECALLS_SAVE=t.RECALLS_NEW_FAILURE=t.RECALLS_NEW_SUCCESS=t.RECALLS_NEW=t.RECALLS_CALENDAR_CLICK=void 0;var r=n("./src/constants/index.js"),l=n("./src/scripts/cozyRecalls.js"),o=t.RECALLS_CALENDAR_CLICK="RECALLS_CALENDAR_CLICK",u=t.RECALLS_NEW="RECALLS_NEW",s=t.RECALLS_NEW_SUCCESS="RECALLS_NEW_SUCCESS",c=t.RECALLS_NEW_FAILURE="RECALLS_NEW_FAILURE",i=t.RECALLS_SAVE="RECALLS_SAVE",d=t.RECALLS_SAVE_SUCCESS="RECALLS_SAVE_SUCCESS",f=t.RECALLS_SAVE_FAILURE="RECALLS_SAVE_FAILURE",m=t.RECALLS_REMOVE="RECALLS_REMOVE",p=t.RECALLS_REMOVE_SUCCESS="RECALLS_REMOVE_SUCCESS",E=t.RECALLS_REMOVE_FAILURE="RECALLS_REMOVE_FAILURE";t.recallsCalendarClick=function(e){return{type:o,id:e}},t.recallsRemove=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var o,u,s,c,i,d,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m,recalls:e}),t.prev=1,o=[],u=!0,s=!1,c=void 0,t.prev=6,i=e[Symbol.iterator]();case 8:if(u=(d=i.next()).done){t.next=20;break}return f=d.value,t.next=12,(0,l.deleteTrigger)(f.triggerId);case 12:return t.t0=o,t.next=15,cozy.client.data.delete(r.DOCTYPE_RECALLS,f);case 15:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 17:u=!0,t.next=8;break;case 20:t.next=26;break;case 22:t.prev=22,t.t2=t.catch(6),s=!0,c=t.t2;case 26:t.prev=26,t.prev=27,!u&&i.return&&i.return();case 29:if(t.prev=29,!s){t.next=32;break}throw c;case 32:return t.finish(29);case 33:return t.finish(26);case 34:return console.log("remove recalls",o),t.abrupt("return",n({type:p,ids:o.map(function(e){return e.id})}));case 38:return t.prev=38,t.t3=t.catch(1),t.abrupt("return",n({type:E,err:t.t3}));case 41:case"end":return t.stop()}},t,void 0,[[1,38],[6,22,26,34],[27,,29,33]])}));return function(e,n){return t.apply(this,arguments)}}()},t.recallsNew=function(e,t){return function(){var n=a(regeneratorRuntime.mark(function n(a,o){var i,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u,name:e}),n.prev=1,n.next=4,(0,l.trigger)({date:t.alert||t.deadline,recallName:t.name,deadline:t.deadline});case 4:return i=n.sent,t.triggerId=i.data.id,n.next=8,cozy.client.data.create(r.DOCTYPE_RECALLS,t);case 8:return d=n.sent,n.abrupt("return",a({type:s,recall:d}));case 12:return n.prev=12,n.t0=n.catch(1),n.abrupt("return",a({type:c,err:n.t0}));case 15:case"end":return n.stop()}},n,void 0,[[1,12]])}));return function(e,t){return n.apply(this,arguments)}}()},t.recallsSave=function(e,t){return console.log("recall save",t),function(){var n=a(regeneratorRuntime.mark(function n(a,o){var u,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:i,id:e}),n.prev=1,n.next=4,(0,l.deleteTrigger)(t.triggerId);case 4:return n.next=6,(0,l.trigger)({date:t.alert||t.deadline,recallName:t.name,deadline:t.deadline});case 6:return u=n.sent,t.triggerId=u.data.id,n.next=10,cozy.client.data.updateAttributes(r.DOCTYPE_RECALLS,e,t);case 10:return s=n.sent,n.abrupt("return",a({type:d,recall:s}));case 14:return n.prev=14,n.t0=n.catch(1),n.abrupt("return",a({type:f,err:n.t0}));case 17:case"end":return n.stop()}},n,void 0,[[1,14]])}));return function(e,t){return n.apply(this,arguments)}}()}},"./src/actions/trash.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.trashEmpty=t.trashSelectAll=t.trashSelectData=t.trashSelectDocument=t.trashSelectContact=t.trashChangeViewMode=t.TRASH_SELECT_ALL=t.TRASH_SELECT_DATA=t.TRASH_SELECT_CONTACT=t.TRASH_SELECT_DOCUMENT=t.TRASH_CHANGE_VIEW_MODE=t.TRASH_EMPTY_FAILURE=t.TRASH_EMPTY_SUCCESS=t.TRASH_EMPTY=void 0;var r=n("./src/constants/index.js"),l=t.TRASH_EMPTY="TRASH_EMPTY",o=t.TRASH_EMPTY_SUCCESS="TRASH_EMPTY_SUCCESS",u=t.TRASH_EMPTY_FAILURE="TRASH_EMPTY_FAILURE",s=t.TRASH_CHANGE_VIEW_MODE="TRASH_CHANGE_VIEW_MODE",c=t.TRASH_SELECT_DOCUMENT="TRASH_SELECT_DOCUMENT",i=t.TRASH_SELECT_CONTACT="TRASH_SELECT_CONTACT",d=t.TRASH_SELECT_DATA="TRASH_SELECT_DATA",f=t.TRASH_SELECT_ALL="TRASH_SELECT_ALL";t.trashChangeViewMode=function(){return{type:s}},t.trashSelectContact=function(e){return{type:i,contact:e}},t.trashSelectDocument=function(e){return{type:c,document:e}},t.trashSelectData=function(e){return{type:d,data:e}},t.trashSelectAll=function(e){return{type:f,count:e}},t.trashEmpty=function(){return function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,s,c,i,d,f,m,p,E,v,_,h,y,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:l}),e.prev=1,e.next=4,cozy.client.files.clearTrash();case 4:a=n().trash.contacts,s=!0,c=!1,i=void 0,e.prev=8,d=a[Symbol.iterator]();case 10:if(s=(f=d.next()).done){e.next=17;break}return m=f.value,e.next=14,cozy.client.data.delete(r.DOCTYPE_CONTACTS,m);case 14:s=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),c=!0,i=e.t0;case 23:e.prev=23,e.prev=24,!s&&d.return&&d.return();case 26:if(e.prev=26,!c){e.next=29;break}throw i;case 29:return e.finish(26);case 30:return e.finish(23);case 31:p=n().trash.data,E=!0,v=!1,_=void 0,e.prev=35,h=p[Symbol.iterator]();case 37:if(E=(y=h.next()).done){e.next=44;break}return S=y.value,e.next=41,cozy.client.data.delete(S.doctype,S);case 41:E=!0,e.next=37;break;case 44:e.next=50;break;case 46:e.prev=46,e.t1=e.catch(35),v=!0,_=e.t1;case 50:e.prev=50,e.prev=51,!E&&h.return&&h.return();case 53:if(e.prev=53,!v){e.next=56;break}throw _;case 56:return e.finish(53);case 57:return e.finish(50);case 58:return e.abrupt("return",t({type:o}));case 61:return e.prev=61,e.t2=e.catch(1),e.abrupt("return",t({type:u}));case 64:case"end":return e.stop()}},e,void 0,[[1,61],[8,19,23,31],[24,,26,30],[35,46,50,58],[51,,53,57]])}));return function(t,n){return e.apply(this,arguments)}}()}},"./src/components/elements/About.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.About=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./src/components/elements/Page.jsx"),u=a(o),s=t.About=function(e){return l.default.createElement(u.default,{title:"À propos de HOMEBOOK"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Qui sommes-nous ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Homebook est une application de carnet numérique de suivi et d’entretien du logement développée par EDF & Cozy Cloud dans le cadre d’une expérimentation lancée par le Ministère du Logement et du Développement Durable en 2016.",l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement("b",null,"EDF"),": Electricité De France est le premier producteur et fournisseur d'électricité en France et dans le monde.",l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement("b",null,"Cozy Cloud"),": Startup reconnue dans le domaine de la confidentialité des données qui offre un service de cloud personnel garantissant la non diffusion des données privées.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Pourquoi une expérimentation ?"),l.default.createElement("br",null),l.default.createElement("p",null,"HLa LTECV du 17 août 2015 (Article 11), instaure un « carnet numérique de suivi et d’entretien du logement » (hors bailleurs sociaux)",l.default.createElement("br",null),l.default.createElement("br",null),"Le carnet numérique sera obligatoire dès 2017 dans le neuf et à partir de 2025 dans l’existant (à la mutation)",l.default.createElement("br",null),l.default.createElement("br",null),"NB: Le décret d’application n’a pas été publié",l.default.createElement("br",null),l.default.createElement("br",null),"Septembre 2016 : Lancement d’un appel à projets par l’Etat",l.default.createElement("br",null),l.default.createElement("br",null),"Objectif: alimenter les réflexions pour la rédaction du décret d’application définissant le contenu du carnet numérique et les modalités de mise en oeuvre .",l.default.createElement("br",null),l.default.createElement("br",null),"Décembre 2016 : COZY CLOUD & EDF font parti des 12 lauréats de l’Appel A Projet du Plan Transition Numérique dans le Bâtiment (PTNB)",l.default.createElement("br",null),l.default.createElement("br",null),"L’expérimentation commence!")),l.default.createElement("li",null,l.default.createElement("h3",null,"Dois-je être client EDF pour utiliser Homebook ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Non, tout le monde peut utiliser Homebook.!"))))};t.default=s},"./src/components/elements/ContactList.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.ContactList=void 0;var l=n("./node_modules/react/react.js"),o=a(l),u=n("./node_modules/classnames/index.js"),s=a(u),c=n("./node_modules/moment/moment.js"),i=(a(c),n("./src/styles/DocumentList.sass")),d=a(i),f=n("./src/constants/index.js"),m=t.ContactList=function(e){var t;return o.default.createElement("div",{className:(0,s.default)(d.default.list,(t={},r(t,d.default.viewList,e.view===f.VIEW_LIST),r(t,d.default.viewGrid,e.view===f.VIEW_GRID),t))},e.children.map(function(t,n){return o.default.createElement("div",{key:n,onClick:function(n){return e.onClickItem(t,n)},className:(0,s.default)(d.default.document,r({},d.default.selected,t.selected))},e.onSelectItem&&t.selected&&o.default.createElement("i",{className:(0,s.default)(d.default.checkbox,"ion-android-checkbox-outline"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),e.onSelectItem&&!t.selected&&o.default.createElement("i",{className:(0,s.default)(d.default.checkbox,"ion-android-checkbox-outline-blank"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),o.default.createElement("div",{className:d.default.content},o.default.createElement("img",{src:t.selected?"/images/contact.selected.png":"/images/contact.png",onError:function(e){return console.log("Error icon")}})),o.default.createElement("div",{className:d.default.name,title:t.firstName+" "+t.lastName},o.default.createElement("span",null,t.firstName," ",t.lastName)),o.default.createElement("div",{className:d.default.contact,title:t.email},o.default.createElement("span",null,t.telephones&&t.telephones[0]&&t.telephones[0].phone),o.default.createElement("span",null,t.email)))}))};t.default=m},"./src/components/elements/Contacts.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./node_modules/react-portal/build/portal.js"),m=a(f),p=n("./src/constants/index.js"),E=n("./src/styles/buttons.scss"),v=a(E),_=n("./src/styles/contacts.sass"),h=a(_),y=n("./src/components/elements/ToolBoxOptions.jsx"),S=a(y),C=n("./node_modules/lodash/lodash.js"),b=a(C),O=n("./src/components/elements/Page.jsx"),T=a(O),g=n("./src/components/elements/Loader.jsx"),A=a(g),R=n("./src/components/elements/ContactList.jsx"),N=a(R),D=n("./src/components/modals/Modal.jsx"),x=a(D),j=n("./src/components/modals/ContactsModal.jsx"),L=a(j),k=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={current:null,modalOpen:!1,edition:!1},a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.onLoadContacts()}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.elements&&void 0!==e.count?e.elements.length!==e.count&&e.onLoadContacts():e.onLoadContacts()}},{key:"add",value:function(){this.setState({current:null,modalOpen:!0,edition:!0})}},{key:"open",value:function(e){this.setState({current:e,modalOpen:!0})}},{key:"select",value:function(e){this.props.onSelectContact(e)}},{key:"remove",value:function(){this.state.current&&(this.props.onRemoveContacts([this.state.current]),this.setState({modalOpen:!1,current:null}))}},{key:"addOrSaveContact",value:function(e){this.state.current?this.props.onSaveContact(this.state.current._id,e):this.props.onNewContact(e.firstName,e),this.setState({modalOpen:!1,current:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.elements,a=t.count,r=t.selectedCount,l=t.status,o=l===p.STATUS_LOAD,u=n.sort(function(e,t){return e.lastName<t.lastName?-1:e.lastName>t.lastName?1:0}),s=b.default.groupBy(u,function(e){var t=e.lastName||e.firstName||"_";t=t.trim().toUpperCase();var n=t[0];return/[0-9]/g.test(n)?"#":n}),i=c.default.createElement("button",{onClick:function(){return e.add()},className:(0,d.default)(v.default.button,v.default.default)},c.default.createElement("i",{className:"ion-ios-plus-empty"}),"AJOUTER"),f=c.default.createElement(S.default,null,c.default.createElement("ul",null,c.default.createElement("li",{onClick:function(){e.props.onSelectAll()}},c.default.createElement("i",{className:"ion-ios-checkmark-outline"},"TOUT SELECTIONNER")))),E=c.default.createElement("button",{onClick:function(){return e.props.onRemoveContacts(n.filter(function(e){return e.selected}))},className:(0,d.default)(v.default.button,v.default.assertive)},c.default.createElement("i",{className:"ion-ios-trash-outline"}),"SUPPRIMER"),_=[i,f];return r>0&&_.unshift(E),c.default.createElement(T.default,{title:"Contacts",subtitle:null!==a&&a+(a>1?" contacts":" contact"),actions:_},c.default.createElement(A.default,{display:o}),!o&&n.length>0&&b.default.map(s,function(t,n){return c.default.createElement("div",{key:n},c.default.createElement("h3",{className:h.default.letter},n),c.default.createElement(N.default,{view:p.VIEW_LIST,onClickItem:function(t){return e.open(t)},onSelectItem:function(t){return e.select(t)}},t))}),!o&&0===n.length&&"Aucun contacts",c.default.createElement(m.default,{isOpened:this.state.modalOpen,closeOnEsc:!0,onClose:function(){return e.setState({modalOpen:!1,current:null,edition:!1})}},c.default.createElement(x.default,null,c.default.createElement(L.default,{item:this.state.current,title:this.state.current?"Modifier contact":"Nouveaux contact",onSave:function(t){return e.addOrSaveContact(t)},onRemove:function(){return e.remove()},edit:this.state.edition}))))}}]),t}(s.Component);t.default=k},"./src/components/elements/Data.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./src/styles/buttons.scss"),m=a(f),p=n("./src/components/elements/Loader.jsx"),E=a(p),v=n("./src/components/elements/Page.jsx"),_=a(v),h=n("./src/scripts/dataFields.js"),y=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return console.log("Data",e),a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){this.infos=(0,h.getInfosFromSlug)(this.props.match.params.slug),this.id=this.props.match.params.id,this.props.onLoadData(this.infos.doctype,this.id)}},{key:"download",value:function(){console.log("Not implemented")}},{key:"remove",value:function(){console.log("Not implemented")}},{key:"render",value:function(){var e=this,t=!this.props.current,n=c.default.createElement("button",{onClick:function(){return e.remove()},className:(0,d.default)(m.default.button,m.default.assertive),title:"Supprimer"},c.default.createElement("i",{className:"ion-ios-trash-outline"}),c.default.createElement("span",{className:m.default.text},"SUPPRIMER")),a=this.infos.name;return this.props.current&&this.props.current.name&&(a+="/"+this.props.current.name),c.default.createElement(_.default,{title:a,subtitle:"",actions:[n],onBackPress:function(){return e.props.history.goBack()}},c.default.createElement(E.default,{display:t}),c.default.createElement("p",null,JSON.stringify(this.props.current,null,"    ")))}}]),t}(s.Component);t.default=y},"./src/components/elements/DataList.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.DataList=void 0;var l=n("./node_modules/react/react.js"),o=a(l),u=n("./node_modules/classnames/index.js"),s=a(u),c=n("./node_modules/moment/moment.js"),i=(a(c),n("./src/styles/DocumentList.sass")),d=a(i),f=n("./src/constants/index.js"),m=t.DataList=function(e){var t;return o.default.createElement("div",{className:(0,s.default)(d.default.list,(t={},r(t,d.default.viewList,e.view===f.VIEW_LIST),r(t,d.default.viewGrid,e.view===f.VIEW_GRID),t))},e.children.map(function(t,n){return o.default.createElement("div",{key:n,onClick:function(n){return e.onClickItem(t,n)},className:(0,s.default)(d.default.document,r({},d.default.selected,t.selected))},e.onSelectItem&&t.selected&&o.default.createElement("i",{className:(0,s.default)(d.default.checkbox,"ion-android-checkbox-outline"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),e.onSelectItem&&!t.selected&&o.default.createElement("i",{className:(0,s.default)(d.default.checkbox,"ion-android-checkbox-outline-blank"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),o.default.createElement("div",{className:d.default.content},o.default.createElement("img",{src:p(t),onError:function(e){return console.log("Error icon",e)}})),o.default.createElement("div",{className:d.default.name,title:t.name},t.name))}))},p=function(e){var t="/images/";switch(e._type||e.doctype){case f.DOCTYPE_DIAGNOSIS:t+="data-diagnostics";break;case f.DOCTYPE_HOMEDATA:t+="data-donnees-de-propriete";break;case f.DOCTYPE_EQUIPMENTS:t+="data-equipements";break;case f.DOCTYPE_MAINTENANCES:case f.DOCTYPE_WORKS:t+="data-travaux-et-entretien";break;default:t+="data-element"}return e.selected&&(t+=".selected"),t+".png"};t.default=m},"./src/components/elements/DirectoryPicker.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("./node_modules/react/react.js"),i=a(c),d=n("./src/styles/DirectoryPicker.sass"),f=a(d),m=n("./node_modules/classnames/index.js"),p=a(m),E=n("./node_modules/lodash/lodash.js"),v=a(E),_=function(e){function t(e,n){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return console.log("Tree",a.props.dirs),a.props.root?(a.default=a.props.default,a.rootDirectoryName=a.props.rootDirectoryName,a.state={current:a.props.default||a.props.root},a):o(a)}return u(t,e),s(t,[{key:"_onItemClick",value:function(e){e&&(this.setState({current:e}),v.default.isFunction(this.props.onPathChange)&&this.props.onPathChange(e))}},{key:"_toggleDir",value:function(e){var t=this.toggleDirRec(e,this.props.dirs.childs);console.log("BD click ok ",t),t&&this.setState({})}},{key:"toggleDirRec",value:function(e,t){var n=!0,a=!1,r=void 0;try{for(var l,o=t[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var u=l.value;if(u.path===e)return u.open=!u.open,!0;if(u.childs&&u.childs.length>0){if(this.toggleDirRec(e,u.childs))return!0}}}catch(e){a=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}return!1}},{key:"_renderDirs",value:function(){var e=this;if(this.props.dirs){var t=this.createDirList(this.props.dirs.childs),n=this.rootDirectoryName;return i.default.createElement("div",{className:f.default.container},i.default.createElement("span",{className:(0,p.default)(f.default.name,r({},f.default.selected,this.props.dirs.path===this.state.current)),onClick:function(){return e._onItemClick(e.props.dirs.path)}},i.default.createElement("i",{className:(0,p.default)(f.default.icon,"ion-ios-arrow-down")}),i.default.createElement("i",{className:(0,p.default)(f.default.icon,"ion-ios-folder-outline")}),n),t)}return null}},{key:"createDirList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===t.length)return null;var n=[],a=!0,l=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value,d=c.name.substring(c.name.lastIndexOf("/")+1);n.push(i.default.createElement("li",{key:c.name},i.default.createElement("span",{className:(0,p.default)(f.default.name,r({},f.default.selected,c.path===this.state.current)),"data-path":c.path,onDoubleClick:function(t){return e._toggleDir(t.target.dataset.path)},onClick:function(t){return e._onItemClick(t.target.dataset.path)}},i.default.createElement("i",{onClick:function(t){return e._toggleDir(t.target.dataset.path)},"data-path":c.path,className:(0,p.default)(f.default.icon,{"ion-ios-arrow-right":c.childs.length>0&&!c.open,"ion-ios-arrow-down":c.childs.length>0&&c.open})}),i.default.createElement("i",{className:(0,p.default)(f.default.icon,"ion-ios-folder-outline")}),d),c.open&&c.childs.length>0?this.createDirList(c.childs):null))}}catch(e){l=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(l)throw o}}return i.default.createElement("ul",{className:f.default.content},n)}},{key:"render",value:function(){return i.default.createElement("div",{className:f.default.main},this._renderDirs.bind(this)())}}]),t}(i.default.Component);t.default=_},"./src/components/elements/DocumentList.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentList=void 0;var l=n("./node_modules/react/react.js"),o=a(l),u=n("./node_modules/classnames/index.js"),s=a(u),c=n("./node_modules/moment/moment.js"),i=a(c),d=n("./src/styles/DocumentList.sass"),f=a(d),m=n("./src/constants/index.js"),p=t.DocumentList=function(e){var t;return o.default.createElement("div",{className:(0,s.default)(f.default.list,(t={},r(t,f.default.viewList,e.view===m.VIEW_LIST),r(t,f.default.viewGrid,e.view===m.VIEW_GRID),t))},e.children.map(function(t,n){return o.default.createElement("div",{key:n,onClick:function(n){return e.onClickItem(t,n)},className:(0,s.default)(f.default.document,r({},f.default.selected,t.selected))},e.onSelectItem&&t.selected&&o.default.createElement("i",{className:(0,s.default)(f.default.checkbox,"ion-android-checkbox-outline"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),e.onSelectItem&&!t.selected&&o.default.createElement("i",{className:(0,s.default)(f.default.checkbox,"ion-android-checkbox-outline-blank"),onClick:function(n){n.stopPropagation(),e.onSelectItem(t,n)}}),o.default.createElement("div",{className:f.default.content},o.default.createElement("img",{src:E(t),onError:function(e){return console.log("Error icon")}})),o.default.createElement("div",{className:f.default.name,title:t.name},t.name),o.default.createElement("div",{className:f.default.date},o.default.createElement("span",{className:f.default.dateText},"Dernière modification : "),o.default.createElement("span",null,(0,i.default)(t.updated_at).format("DD/MM/YYYY"))))}))},E=function(e){var t=e.type||"file",n="/images/file";if("file"===t)"image"===e.class&&e.links&&e.links.small||(n="/images/file");else switch(n="/images/",e.name){case"Diagnostics":n+="folder-diagnostic";break;case"Documents de propriété":n+="folder-document-de-propriete";break;case"Équipements":n+="folder-equipements";break;case"Travaux et entretien":n+="folder-travaux-et-entretien";break;case"Usages":n+="folder-document-de-propriete";break;default:n+="folder"}return e.selected&&(n+=".selected"),n+".png"};t.default=p},"./src/components/elements/DocumentView.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("./node_modules/react/react.js"),i=a(c),d=n("./src/components/utils/PDFViewer.jsx"),f=a(d),m=n("./src/components/utils/TXTViewer.jsx"),p=a(m),E=n("./src/components/elements/Loader.jsx"),v=a(E),_=function(e){function t(e,n){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={url:"",loading:!0},a.renderMethod=a.renderSimple,a}return u(t,e),s(t,[{key:"componentWillMount",value:function(){var e,t=this;console.log("View mount"),cozy.client.files.getDownloadLinkById(this.props.file.id).then(function(e){return cozy.client.fullpath(e)}).then(function(e){return t.setState({url:e,loading:!1})});var n=(e={},r(e,"application/pdf",this.renderPDF),r(e,"text/plain",this.renderText),r(e,"image/",this.renderImage),e),a=!0,l=!1,o=void 0;try{for(var u,s=Object.keys(n)[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value;if(-1!==this.props.file.mime.indexOf(c)){this.renderMethod=n[c];break}}}catch(e){l=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(l)throw o}}}},{key:"renderSimple",value:function(){return i.default.createElement("p",null,"URL du fichier : ",i.default.createElement("a",{href:this.state.url},this.state.url))}},{key:"renderText",value:function(){return i.default.createElement(p.default,{url:this.state.url})}},{key:"renderImage",value:function(){return i.default.createElement("div",null,i.default.createElement("a",{href:this.state.url},i.default.createElement("img",{style:{maxWidth:"100%"},src:this.state.url,alt:this.props.file.name})))}},{key:"renderPDF",value:function(){return i.default.createElement(f.default,{url:this.state.url})}},{key:"render",value:function(){return this.state.loading?i.default.createElement(v.default,{display:!0}):this.renderMethod()}}]),t}(c.Component);t.default=_},"./src/components/elements/Documents.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Documents=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./node_modules/react-portal/build/portal.js"),m=a(f),p=n("./node_modules/react-router-dom/es/index.js"),E=n("./src/tools/index.js"),v=n("./src/styles/Documents.sass"),_=a(v),h=n("./src/styles/buttons.scss"),y=a(h),S=n("./src/components/elements/Page.jsx"),C=a(S),b=n("./src/components/elements/Loader.jsx"),O=a(b),T=n("./src/components/elements/DocumentList.jsx"),g=a(T),A=n("./src/components/elements/DataList.jsx"),R=a(A),N=n("./src/components/elements/DocumentView.jsx"),D=a(N),x=n("./src/components/elements/ToolBoxOptions.jsx"),j=a(x),L=n("./src/components/modals/Modal.jsx"),k=a(L),M=n("./src/containers/Importer.js"),P=a(M),w=n("./src/containers/Mover.js"),I=a(w),U=n("./src/components/utils/RenameInput.jsx"),F=a(U),V=n("./src/constants/index.js"),q=n("./src/scripts/dataFields.js"),z=n("./src/scripts/confirm.js"),H=a(z),Y=n("./src/components/modals/ConfirmModal.jsx"),W=a(Y),G=c.default.createElement(W.default,null,c.default.createElement("p",null,"Voulez-vous supprimer ce(s) élément(s) ?")),B=t.Documents=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={importerOpen:!1,moveModalOpen:!1,file:!1,doctype:!1,renaming:!1},a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.createRealPath(this.props);e===this.props.path&&this.props.fileCount===this.props.files.length||this.props.onOpenFolder(e),this.checkForData(e)}},{key:"componentWillReceiveProps",value:function(e){console.log(e);var t=this.createRealPath(e);if(e.status===V.STATUS_ERROR){if(t===e.path)return;return e.onOpenFolder(t)}e.status!==V.STATUS_LOAD&&(t===e.path&&e.fileCount===e.files.length||e.onOpenFolder(t),this.checkForData(t))}},{key:"createRealPath",value:function(e){var t=e.match.params.path,n=V.ROOT_PATH;return t&&(n+="/"+t),n}},{key:"checkForData",value:function(e){var t=(0,q.getInfosFromPath)(e);t?this.state.doctype?this.state.doctype!==t.doctype&&this.props.onLoadData(t.doctype):(this.state.doctype=t.doctype,this.props.onLoadData(t.doctype)):this.state.doctype=!1}},{key:"openImporter",value:function(){this.props.onImporterClick(this.props.path),this.setState({importerOpen:!0})}},{key:"openMover",value:function(){this.props.onImporterClick(this.props.path),this.setState({moveModalOpen:!0})}},{key:"remove",value:function(){var e=this;this.props.selectedCount+this.props.selectedDataCount<=0||(0,H.default)(G).then(function(){e.props.selectedCount>0&&e.props.onRemove(e.props.files.filter(function(e){return e.selected})),e.props.selectedDataCount>0&&e.props.onRemoveData(e.state.doctype,e.props.data.filter(function(e){return e.selected}))}).catch(function(e){})}},{key:"move",value:function(e){this.props.folder.path!==e&&this.props.onMoveFile(this.props.files.filter(function(e){return e.selected}),e)}},{key:"download",value:function(){this.props.onDownload(files.filter(function(e){return e.selected}))}},{key:"rename",value:function(e){this.props.onRename(this.state.renaming.id,e),this.setState({renaming:!1})}},{key:"createBreadcrums",value:function(){var e=this.props.location.pathname.substring(1),t=e.split("/"),n=[];if(t.length>1){var a=t[0];if(n.push({path:a,fullPath:"/"+a}),t.length>3){t[t.length-3];n.push({path:"/...",fullPath:"/"+t.slice(0,t.length-2).join("/")});var r=t[t.length-2];n.push({path:"/"+r,fullPath:"/"+t.slice(0,t.length-1).join("/")})}else if(t.length>2){var r=t[t.length-2];n.push({path:"/"+r,fullPath:"/"+t.slice(0,t.length-1).join("/")})}}var l=(t.length>1?"/":"")+t[t.length-1];return c.default.createElement("span",{className:_.default.breadcrums},n.map(function(e,t){return c.default.createElement(p.Link,{key:t,to:e.fullPath},e.path)}),c.default.createElement("strong",null,l))}},{key:"renderDocuments",value:function(){if(!(this.props.lastType!==V.TYPE_FOLDER&&this.props.files.length>0)){var e=this.props,t=e.history,n=e.viewMode,a=e.files,r=e.folder,l=e.onSelect,o=e.onFileClick;return c.default.createElement(g.default,{view:n,onClickItem:function(e){var n=void 0;(0,E.isDirectory)(e)?(o(null),n=(0,E.createFakePath)(e.path)):(o(e),n=(0,E.createFakePath)(r.path+"/"+e.name)),console.log("Push path",n),t.push(n)},onSelectItem:function(e){return l(e)}},a)}}},{key:"renderData",value:function(){if(this.state.doctype){var e=this.props,t=e.history,n=e.viewMode,a=e.data,r=e.onSelectData,l=this.createRealPath(this.props),o=(0,q.getInfosFromPath)(l).slug;return c.default.createElement(R.default,{view:n,onClickItem:function(e){t.push("/data/"+o+"/"+e._id)},onSelectItem:function(e){return r(e)}},a)}}},{key:"renderFileViewer",value:function(){if(this.props.lastType===V.TYPE_FILE){var e=this.props.current;return c.default.createElement(D.default,{file:e})}}},{key:"renderError",value:function(){return c.default.createElement("div",null,c.default.createElement("h3",null,"Error"),c.default.createElement("p",null,"Essayer plus trad"))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.files,t.folder,t.fileCount),a=t.status,r=t.selectedCount,l=t.dataStatus,o=t.dataCount,u=t.selectedDataCount,s=t.lastType,i=a===V.STATUS_LOAD||l===V.STATUS_LOAD,f=!i&&0===n&&this.state.doctype&&0===o,p=null;p=this.state.renaming?c.default.createElement(F.default,{name:this.state.renaming.name,onRename:function(t){return e.rename(t)},onCancel:function(){return e.setState({renaming:!1})}}):this.createBreadcrums();var E=c.default.createElement("button",{onClick:function(){return e.openImporter()},className:(0,d.default)(y.default.button,y.default.default),title:"Importer"},c.default.createElement("i",{className:"ion-ios-cloud-upload-outline"}),c.default.createElement("span",{className:y.default.text},"IMPORTER")),v=c.default.createElement(j.default,null,c.default.createElement("ul",null,c.default.createElement("li",{onClick:function(){e.props.onChangeViewMode()}},this.props.viewMode===V.VIEW_LIST?c.default.createElement("i",{className:"ion-navicon"},"VUE LISTE"):c.default.createElement("i",{className:"ion-grid"},"VUE GRILLE")),c.default.createElement("li",{onClick:function(){e.props.onNewFolder()}},c.default.createElement("i",{className:"ion-ios-plus-empty"},"NOUVEAU DOSSIER")),c.default.createElement("li",{onClick:function(){e.props.onDownloadAll(e.props.files.slice(0))}},c.default.createElement("i",{className:"ion-ios-cloud-download-outline"},"TOUT TELECHARGER")))),_=c.default.createElement("select",{defaultValue:this.props.filter,onChange:function(t){return e.props.onChangeFilter(t.target.value)}},c.default.createElement("option",{value:V.SORT_DATE},"TRIER PAR DATE"),c.default.createElement("option",{value:V.SORT_NAME},"TRIER PAR NOM")),h=[E,v];if(r>0||u>0){var S=c.default.createElement("button",{onClick:function(){return e.remove()},className:(0,d.default)(y.default.button,y.default.assertive),title:"Supprimer"},c.default.createElement("i",{className:"ion-ios-trash-outline"}),c.default.createElement("span",{className:y.default.text},"SUPPRIMER"));h.unshift(S)}if(r>0){var b=c.default.createElement("button",{onClick:function(){return e.download()},className:(0,d.default)(y.default.button,y.default.stable),title:"Télécharger"},c.default.createElement("i",{className:"ion-ios-cloud-download-outline"}),c.default.createElement("span",{className:y.default.text},"TELECHARGER"));h.unshift(b);var T=c.default.createElement("button",{onClick:function(){return e.openMover()},className:(0,d.default)(y.default.button,y.default.stable),title:"Déplacer"},c.default.createElement("i",{className:"ion-ios-browsers-outline"}),c.default.createElement("span",{className:y.default.text},"DEPLACER"));if(h.unshift(T),1===r){var g=c.default.createElement("button",{className:(0,d.default)(y.default.button,y.default.stable),onClick:function(){return e.setState({renaming:e.props.files.filter(function(e){return e.selected}).pop()})},title:"Renommer"},c.default.createElement("i",{className:"ion-ios-compose-outline"}),c.default.createElement("span",{className:y.default.text},"RENOMMER"));h.unshift(g)}}var A=n;this.state.doctype&&(A+=o);var R=void 0,N=void 0,D=void 0,x=void 0;return i||(this.props.status!==V.STATUS_ERROR&&this.props.dataStatus!==V.STATUS_ERROR?(R=this.renderDocuments(),N=this.renderData(),D=this.renderFileViewer()):x=this.renderError()),c.default.createElement(C.default,{title:p,subtitle:null!==A&&a!=V.STATUS_ERROR&&s===V.TYPE_FOLDER&&A+" élément"+(A>1?"s":""),actions:h,onBackPress:this.props.match.params.path&&function(){return e.props.history.goBack()},options:[_]},c.default.createElement(O.default,{display:i}),f&&"Dossier vide",R,N,D,x,c.default.createElement(m.default,{closeOnEsc:!0,isOpened:this.state.importerOpen,onClose:function(){return e.setState({importerOpen:!1})}},c.default.createElement(k.default,null,c.default.createElement(P.default,null))),c.default.createElement(m.default,{closeOnEsc:!0,isOpened:this.state.moveModalOpen,onClose:function(){return e.setState({moveModalOpen:!1})}},c.default.createElement(k.default,null,c.default.createElement(I.default,{onMove:function(t){return e.move(t)}}))))}}]),t}(s.Component);t.default=B},"./src/components/elements/Footer.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./src/styles/Footer.sass"),u=a(o),s=t.Footer=function(e){return l.default.createElement("footer",{className:u.default.main},l.default.createElement("div",{className:u.default.content},"HOMEBOOK est un service proposé par edf - V","2.0.23"))};t.default=s},"./src/components/elements/Gauge.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./src/styles/Gauge.sass"),d=a(i),f=n("./node_modules/react-portal/build/portal.js"),m=a(f),p=n("./src/components/modals/Modal.jsx"),E=a(p),v=n("./src/containers/Importer.js"),_=a(v),h=n("./src/scripts/fileTypes.js"),y=n("./src/constants/index.js"),S=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.fileTypes=(0,h.getFileTypes)(),a.state={open:!1},a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){}},{key:"click",value:function(e,t){this.props.onFileClick(t,e),this.setState({open:!0})}},{key:"render",value:function(){var e=this,t=0;if(this.props.usedType){t=this.props.usedType.map(function(e){return e.type}).length/this.fileTypes.length*100}return c.default.createElement("div",{className:d.default.main},c.default.createElement("div",{className:d.default.title},c.default.createElement("span",null,"Remplissez votre HOMEBOOK :"),this.props.status===y.STATUS_LOAD&&c.default.createElement("span",{className:d.default.loader},c.default.createElement("img",{src:"/images/progress.gif",alt:"loader"}))),c.default.createElement("div",{className:d.default.gauge,title:"Jauge : "+t.toFixed(1)+"%"},c.default.createElement("div",{className:d.default.bar,style:{width:t+"%"}})),c.default.createElement("ul",{className:d.default.list},this.props.list.map(function(t,n){return c.default.createElement("li",{key:n,onClick:function(n){return e.click(t.key,t.location)}},c.default.createElement("i",{className:"ion-ios-plus-empty"}),t.name)})),c.default.createElement(m.default,{isOpened:this.state.open,closeOnEsc:!0,onClose:function(){return e.setState({open:!1})}},c.default.createElement(E.default,null,c.default.createElement(_.default,null))))}}]),t}(s.Component);t.default=S},"./src/components/elements/Help.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Help=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./node_modules/classnames/index.js"),u=(a(o),n("./node_modules/react-bootstrap/lib/Accordion.js")),s=a(u),c=n("./node_modules/react-bootstrap/lib/Panel.js"),i=a(c),d=n("./src/components/elements/Page.jsx"),f=a(d),m=t.Help=function(e){return l.default.createElement(f.default,{title:"Aide"},l.default.createElement(s.default,{defaultActiveKey:"2"},l.default.createElement(i.default,{header:"MES DOCUMENTS",eventKey:"2"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Comment ajouter des documents ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Pour ajouter des documents dans votre homebook, cliquer sur le dossier dans le homebook dans lequel vous souhaitez rajouter un document et utiliser le bouton en haut à droite « importer un document » puis sélectionner le document sur votre ordinateur.",l.default.createElement("br",null),l.default.createElement("br",null),"Par défaut le document est ajouté au niveau du dossier dans lequel vous étiez à la suite des autres documents et/ou dossiers.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Visualiser un document :"),l.default.createElement("br",null),l.default.createElement("p",null,"Sélectionner le document à visualiser en cochant la case à gauche puis cliquez sur « Télécharger ». Une nouvelle fenêtre s’ouvre dans laquelle vous pouvez visualiser le document, l’imprimer ou le télécharger sur votre ordinateur.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Je ne trouve pas le document que j’ai ajouté ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Par défaut le document est ajouté au niveau du dossier dans lequel vous étiez à la suite des autres documents et/ou dossiers. Il est peut être à la fin."),l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Je ne trouve toujours pas votre document ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Vérifiez que vous avez bien ajouté votre document depuis l’application Homebook. Si ce n’est pas le cas, rendez-vous dans l’application « Cozy Drive » où vous retrouverez l’intégralité de tous vos documents en navigant dans les différents dossiers.")))),l.default.createElement("li",null,l.default.createElement("h3",null,"Ajouter un document : quelle différence entre « Homebook » et « Cozy Drive » ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Homebook : est l’endroit dédié à privilégier pour les documents et données liés à votre logement afin de bénéficier de fonctionnalités supplémentaires.",l.default.createElement("br",null),l.default.createElement("br",null),"Cozy Drive :  c’est le navigateur de fichiers uniquement (pas les données) qui vous permet de gérer l’ensemble de vos fichiers qu’ils soient dans votre homebook ou non mais qui ne présente pas de fonctionnalités avancées pour vous aider à gérer votre logement.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment sont classés les documents ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Dans Homebook, vous disposez de 4 répertoires prédéfinis (Diagnostics, documents de propriété, équipements, travaux et entretiens) selon les documents importants à garder pour votre logement. Vous pouvez ajouter vos propres répertoires.",l.default.createElement("br",null),l.default.createElement("br",null),"Par défauts les documents sont classés par ordre alphabétique.")),l.default.createElement("li",null,l.default.createElement("h3",null,"A quoi correspond « dernière modification » ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Cette information correspond à la dernière modification du dossier ou du fichier correspondant.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment créer un dossier ?"),l.default.createElement("br",null),l.default.createElement("div",{className:"pull-left"},l.default.createElement("img",{src:"images/add_folder.png"})),l.default.createElement("div",{className:"pull-left"},"Cliquez sur le bouton « … » en haut à droite puis sur « Nouveau dossier »."),l.default.createElement("div",{className:"clearfix"})),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment télécharger mes documents ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Sélectionner le document à visualiser en cochant la case à gauche puis cliquez sur « Télécharger ». Une nouvelle fenêtre s’ouvre dans laquelle vous pouvez visualiser le document, l’imprimer ou le télécharger sur votre ordinateur.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Quels documents ajouter ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Pensez à collecter tous les documents qui ont un lien avec le logement.",l.default.createElement("br",null),l.default.createElement("br",null),"On peut esquisser 5 catégories :"),l.default.createElement("ul",null,l.default.createElement("li",null,"Documents contractuels de propriétés : il s’agit ici des plans, des documents notariaux, etc.."),l.default.createElement("li",null,"Documents concernant les équipements : il s’agit ici des caractéristiques et documents concernant par exemple, la climatisation, vos équipements de cuisine, etc…"),l.default.createElement("li",null,"Documents concernant les travaux et entretiens : il s’agit ici des devis, factures, caractéristiques, des travaux effectués dans votre logement (fenêtre, douche,…)"),l.default.createElement("li",null,"Documents concernant les diagnostics : il s’agit ici des documents type diagnostique thermique, analyse fuite d’eau, etc…"),l.default.createElement("li",null,"Document privés, autres : il s’agit ici par exemple de vos contrats et factures, d’eau, de téléphone, d’électricité, en lien avec votre logement")))),l.default.createElement(s.default,{defaultActiveKey:"1"},l.default.createElement(i.default,{header:"LOGEMENT",eventKey:"1"},l.default.createElement("table",{className:"table"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Type de document"),l.default.createElement("th",null,"Durée de conservation"),l.default.createElement("th",null,"Précisions"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Factures d'électricité et de gaz"),l.default.createElement("td",null,"5 ans"),l.default.createElement("td",null,"Délai pour contester une facture.",l.default.createElement("br",null),l.default.createElement("br",null),"Votre fournisseur a 2 ans pour réclamer un paiement.")),l.default.createElement("tr",null,l.default.createElement("td",null,"Factures d'eau"),l.default.createElement("td",null,"5 ans"),l.default.createElement("td",null,"Délai pour contester une facture.",l.default.createElement("br",null),l.default.createElement("br",null),"Pour réclamer un paiement, votre fournisseur a :",l.default.createElement("ul",null,l.default.createElement("li",null,"4 ans (fournisseur public),"),l.default.createElement("li",null,"2 ans (fournisseur privé).")))),l.default.createElement("tr",null,l.default.createElement("td",null,"Factures de téléphonie (fixe et mobile) et internet"),l.default.createElement("td",null,"1 an"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Preuve de restitution de matériel (box)"),l.default.createElement("td",null,"2 ans (à compter de la restitution)"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Factures liées aux travaux"),l.default.createElement("td",null,"10 ans ou 2 ans selon la nature des travaux"),l.default.createElement("td",null,l.default.createElement("ul",null,l.default.createElement("li",null,"Gros-œuvre : 10 ans"),l.default.createElement("li",null,"Petits travaux (fenêtres par exemple) : 2 ans")))),l.default.createElement("tr",null,l.default.createElement("td",null,"Certificats de ramonage"),l.default.createElement("td",null,"1 an"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Attestations d'entretien annuel des ",l.default.createElement("a",{href:"https://www.service-public.fr/particuliers/vosdroits/F20760",target:"_blank"},"chaudières"),"  "),l.default.createElement("td",null,"2 ans"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Titre de propriété"),l.default.createElement("td",null,"Permanente"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Preuve du paiement des charges de copropriété, correspondances avec le ",l.default.createElement("a",{href:"https://www.service-public.fr/particuliers/glossaire/R12430",target:"_blank"},"syndic"),", procès verbaux des assemblées générales de copropriété..."),l.default.createElement("td",null,"10 ans"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Contrat de location, état des lieux, quittances de loyer"),l.default.createElement("td",null,"Durée de la location + 3 ans"),l.default.createElement("td",null,"Ces délais s'appliquent aux logements loués comme résidence principale (vides ou meublés).")),l.default.createElement("tr",null,l.default.createElement("td",null,"Courrier de ",l.default.createElement("a",{href:"https://www.service-public.fr/particuliers/vosdroits/F1311",target:"_blank"},"révision de loyer")),l.default.createElement("td",null,"Durée de la location + 1 an"),l.default.createElement("td",null,"Ce délai s'applique aux logements loués à titre de résidence principale (vides ou meublés).")),l.default.createElement("tr",null,l.default.createElement("td",null,"Inventaire du mobilier pour les locations meublées"),l.default.createElement("td",null,"Durée de la location"),l.default.createElement("td",null,"Jusqu'à la restitution de l'éventuel dépôt de garantie")),l.default.createElement("tr",null,l.default.createElement("td",null,"Échéance APL"),l.default.createElement("td",null,"2 ans"),l.default.createElement("td",null))))),l.default.createElement(i.default,{header:"POUR LA VENTE OU LOCATION D’UN LOGEMENT",eventKey:"2"},l.default.createElement("p",null,"Diagnostiques obligatoires en cas de vente ou location.",l.default.createElement("br",null),l.default.createElement("br",null),"Les diagnostics immobiliers visent à informer l'acquéreur ou le locataire sur certains aspects du logement qu'il projette d'acheter ou de louer."),l.default.createElement("table",{className:"table"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Type de document"),l.default.createElement("th",null,"Durée de conservation"),l.default.createElement("th",null,"Précisions"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("b",null,"DPE"),l.default.createElement("br",null),"Diagnostic de perfomance Énergétique"),l.default.createElement("td",null,"Le DPE est valable 10 ans."),l.default.createElement("td",null,"Tout immeuble bâti à l'exception de ceux destinés à un bail rural ou à une location saisonnière.")),l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("b",null,"Superficie habitable"),l.default.createElement("br",null),"Loi Boutin"),l.default.createElement("td",null,"Aucune limite de validité sans modification de la surface"),l.default.createElement("td",null,"Tous les logements")),l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("b",null,"ERNMT"),l.default.createElement("br",null),"État des Risques Naturels, Miniers et Technologiques"),l.default.createElement("td",null,"6 mois"),l.default.createElement("td",null,"Tout bailleur a le devoir d'avertir les locataires de tout logement de l'existence des risques auxquels ce dernier est exposé")),l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("b",null,"PLOMB (CREP)"),l.default.createElement("br",null),"Constat de Risque d'Exposition au Plomb"),l.default.createElement("td",null,"Aucune limite de validité si absence de plomb 6 ans sinon"),l.default.createElement("td",null,"Bien immoblier à usage d'habitation et construit avant le 01/01/1949")),l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("b",null,"AMIANTE (DAPP)"),l.default.createElement("br",null),"Dossier Amiante Parties Privatives"),l.default.createElement("td",null,"Aucune limite de validité si négatif. Préconisations à suivre dans le cas contraire."),l.default.createElement("td",null,"Logement à usage d'habitation et construit avant le 01/07/1997")),l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("b",null,"Diagnostic Electricité:"),l.default.createElement("br",null),"état de l'installation intérieure d'électricité"),l.default.createElement("td",null,"3 ans"),l.default.createElement("td",null,"Les logements concernés sont ceux :",l.default.createElement("ul",null,l.default.createElement("li",null,"dont l'installation du gaz a plus de 15 ans,"),l.default.createElement("li",null,"ou dont le dernier certificat de conformité date de plus de 15 ans.")))),l.default.createElement("tr",null,l.default.createElement("td",null,"état de l'installation d'assainissement non collectif"),l.default.createElement("td",null,"Le diagnostic doit dater de moins de 3 ans au moment de la signature de la promesse de vente ou de l'acte de vente."),l.default.createElement("td",null,"L'obligation de faire réaliser un état de l'installation concerne les maisons et immeubles non raccordés :",l.default.createElement("br",null),l.default.createElement("ul",null,l.default.createElement("li",null,"soit parce qu'il n'existe pas encore de réseau de collecte des eaux usées,"),l.default.createElement("li",null,"soit parce que le réseau ne peut pas se faire pour des raisons techniques."))))))),l.default.createElement(i.default,{header:"IMPOTS ET TAXES",eventKey:"3"},l.default.createElement("table",{className:"table"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Type de document"),l.default.createElement("th",null,"Durée de conservation"),l.default.createElement("th",null,"Précisions"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Déclarations de revenus et avis d'imposition sur le revenu"),l.default.createElement("td",null,"3 ans (droit de reprise de l'administration)"),l.default.createElement("td",null,"À partir de l'année qui suit l'année d'imposition",l.default.createElement("br",null),l.default.createElement("br",null),"(exemple : déclaration 2013 à conserver jusqu'à la fin 2016)")),l.default.createElement("tr",null,l.default.createElement("td",null,"Avis d'impôts locaux (taxe foncière, taxe d'habitation)"),l.default.createElement("td",null,"1 an (droit de reprise de l'administration)"),l.default.createElement("td",null,"3 ans en cas de dégrèvement, exonération ou abattement"))))),l.default.createElement(i.default,{header:"ASSURANCE",eventKey:"4"},l.default.createElement("table",{className:"table"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Type de document"),l.default.createElement("th",null,"Durée de conservation"),l.default.createElement("th",null,"Précisions"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Quittances, avis d'échéance, courriers de résiliation, preuves du règlement"),l.default.createElement("td",null,"Date du document + 2 ans"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Contrat"),l.default.createElement("td",null,"Durée du contrat + 2 ans"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,"Relevé d'information automobile"),l.default.createElement("td",null,"Permanente"),l.default.createElement("td",null)),l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("a",{href:"https://www.service-public.fr/particuliers/vosdroits/F15337",target:"_blank"},"Assurance-vie")),l.default.createElement("td",null,"10 ans"),l.default.createElement("td",null,"Ce délai s'applique dès que vous avez connaissance du contrat en tant que bénéficiaire de l'assurance-vie.")),l.default.createElement("tr",null,l.default.createElement("td",null,"Dommages corporels"),l.default.createElement("td",null,"10 ans"),l.default.createElement("td",null))))),l.default.createElement(i.default,{header:"BANQUE",eventKey:"5"},l.default.createElement("table",{className:"table"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Type de document"),l.default.createElement("th",null,"Durée de conservation"),l.default.createElement("th",null,"Précisions"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Chèques à encaisser"),l.default.createElement("td",null,"1 an et 8 jours"),l.default.createElement("td",null,"Passé ce délai, le chèque ne peut plus être encaissé mais la dette reste due.")),l.default.createElement("tr",null,l.default.createElement("td",null,"Contrat de prêt (immobilier et consommation) et autres justificatifs"),l.default.createElement("td",null,"2 ans"),l.default.createElement("td",null,"À partir de la dernière échéance")),l.default.createElement("tr",null,l.default.createElement("td",null,"Relevés de compte, talons de chèque"),l.default.createElement("td",null,"5 ans"),l.default.createElement("td",null,"Un débit frauduleux peut être contesté dans un délai maximum de 18 mois.")),l.default.createElement("tr",null,l.default.createElement("td",null,"Convention de compte bancaire"),l.default.createElement("td",null,"Durée d'ouverture du compte"),l.default.createElement("td",null))))),l.default.createElement(i.default,{header:"VEHICULE",eventKey:"6"},l.default.createElement("table",{className:"table"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Type de document"),l.default.createElement("th",null,"Durée de conservation"),l.default.createElement("th",null,"Précisions"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"PV pour ",l.default.createElement("a",{href:"https://www.service-public.fr/particuliers/vosdroits/F18509",target:"_blank"},"amende forfaitaire")),l.default.createElement("td",null,"3 ans"),l.default.createElement("td",null,"Si le Trésor public n'a rien fait pour obtenir le paiement de l'amende 3 ans après sa notification, vous ne devez plus rien.")),l.default.createElement("tr",null,l.default.createElement("td",null,"Factures (achat, réparation...)"),l.default.createElement("td",null,"Durée de conservation du véhicule"),l.default.createElement("td",null,"+ 2 ans en cas de revente (",l.default.createElement("a",{href:"https://www.service-public.fr/particuliers/vosdroits/F11007",target:"_blank"},"vice caché"),")")),l.default.createElement("tr",null,l.default.createElement("td",null,"Certificat d'examen du permis de conduire"),l.default.createElement("td",null,"4 mois"),l.default.createElement("td",null,"+ jusqu'à réception du permis")),l.default.createElement("tr",null,l.default.createElement("td",null,"Certificat de cession du véhicule"),l.default.createElement("td",null,"Durée de conservation du véhicule"),l.default.createElement("td",null,"Il peut être utile de conserver ce certificat après la vente du véhicule, en cas de litige avec l'ancien propriétaire.")))))),l.default.createElement("div",null,l.default.createElement("p",null,"Source : ",l.default.createElement("a",{href:"https://www.service-public.fr/particuliers/vosdroits/F19134",target:"_blank"},"https://www.service-public.fr/particuliers/vosdroits/F19134")),l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Mes documents ne sont pas sous format numérique, comment faire ?"),l.default.createElement("br",null),"Vous avez la possibilité :",l.default.createElement("ul",null,l.default.createElement("li",null,"prendre une photo avec un téléphone mobile ou une tablette, en s’attachant à obtenir un document net."),l.default.createElement("li",null,"scanner le document au format .pdf")),l.default.createElement("p",null,"La meilleure solution reste de scanner vos documents en .pdf, ce qui permettra éventuellement d’en extraire des informations automatiquement.",l.default.createElement("br",null),l.default.createElement("br",null),"N’oubliez pas rajouter ensuite vos documents ou images dans votre homebook."))))),l.default.createElement(i.default,{header:"DONNEES",eventKey:"3"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Quelle est la différence entre documents et données ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Les documents sont des fichiers qui sont présents dans votre homebook. Ils peuvent avoir différents formats (.pdf, .Jpg, .doc, …).",l.default.createElement("br",null),l.default.createElement("br",null),"Les données correspondent à des informations sur votre logements, extraites ou non des documents présents dans votre homebook. Les données brutes sont des données dans leur forme la plus simple, à savoir par exemple un nombre (comme la superficie du pièce), un ou plusieurs mots (comme un propriétaire), exempt de tout traitement final (mise en document PDF, image etc)..")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment saisir / modifier des données ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Dans l’onglet « Données », vous disposer de 4 répertoires prédéfinis (Diagnostics, documents de propriété, équipements, travaux et entretiens). Cliquez sur le répertoire correspondant puis sur le fichier que vous souhaitez afficher et/ou modifier.",l.default.createElement("br",null),l.default.createElement("br",null),"Dans la page de données, cliquez sur « Modifier » en haut à droite pour modifier les données en les tapants dans les champs correspondants.",l.default.createElement("br",null),l.default.createElement("br",null),"Une fois fini, cliquez sur « sauvegarder ».")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment ajouter un nouveau jeu de données ?"),l.default.createElement("br",null),l.default.createElement("div",{className:"pull-left"},"Dans le dossier correspondant (par exemple ici « Diagnostics »), cliquez sur le bouton en haut à droite « Ajouter un diagnostic »."),l.default.createElement("div",{className:"pull-left"},l.default.createElement("img",{src:"images/add_diagnostic.png"})),l.default.createElement("div",{className:"clearfix"})),l.default.createElement("li",null,l.default.createElement("h3",null,"A quoi servent les données ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Les données sont utilisées dans pour effectuer des recherche via la barre de recherche mais aussi pour vous proposer des services personnalisés spécifiques : exemples : notifications, rappels adaptés à l’entretien de votre logement, conseils…")),l.default.createElement("li",null,l.default.createElement("h3",null,"Qui utilisent mes données ?"),l.default.createElement("br",null),l.default.createElement("p",null,"A aucun moment vos données ne sortent de votre espace personnel. Vos données ne peuvent être utilisées par une autre application de l’espace Cozy que sous votre autorisation.",l.default.createElement("br",null),l.default.createElement("br",null),"Pour plus d’information, vous pouvez vous référer à la convention d’expérimentation que vous avez signée.")))),l.default.createElement(i.default,{header:"RECHERCHE",eventKey:"4"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"A quoi sert la barre de recherche ?"),l.default.createElement("br",null),l.default.createElement("p",null,"La barre de recherche en haut est une recherche contextuelle sur l’ensemble de votre Homebook qui vous permet de retrouver un document, contact ou informations (données) rapidement.")))),l.default.createElement(i.default,{header:"EQUIPEMENTS",eventKey:"5"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Quels équipements ajouter ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Pensez à ajouter les équipements clés de votre logement. Il n’y a pas de limite dans le nombre d’équipements que vous pouvez rajouter.",l.default.createElement("br",null),l.default.createElement("br",null),"Nous vous conseillons d’ajouter vos équipements :"),l.default.createElement("ul",null,l.default.createElement("li",null,"Ventilation (ventilation naturelle, VMC, VMC gaz)"),l.default.createElement("li",null,"Eau chaude sanitaire (ballon d’accumulation électrique, eau chaude sanitaire thermodynamique, gaz, solaire)"),l.default.createElement("li",null,"Chauffage (électricité, gaz, autre combustible)"),l.default.createElement("li",null,"Autre installations liées à l’énergie (installation photovoltaïque, batterie)"),l.default.createElement("li",null,"Gros électroménager : machine à laver, four, frigo, lave-linge, sèche-linge, lave-vaisselle…"),l.default.createElement("li",null,"Petit électroménager : télévision, chaîne hi-fi, aspirateur,…"))),l.default.createElement("li",null,l.default.createElement("h3",null,"Pourquoi rajouter un équipement ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Pour capitaliser les informations en cas de panne, dysfonctionnement, travaux. Faciliter la récupération des notices et le suivi des garanties.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment ajouter un équipement ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Dans l’onglet « Données », cliquez sur « Equipements » puis en haut à droite « Ajouter un équipement ».")),l.default.createElement("li",null,l.default.createElement("h3",null,"Quels documents ajouter avec mes équipements ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Pensez à ajouter les devis/factures, documents liés à l’entretien.")))),l.default.createElement(i.default,{header:"APPLICATIONS",eventKey:"6"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"A quoi correspond le bouton « Applications » ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Votre Homebook est intégré dans un environnement sécurisé de stockage Cozy Cloud. Cozy Cloud permet d’ajouter d’autres applications pour vous faciliter la vie.",l.default.createElement("br",null),l.default.createElement("br",null),"Parmi elles vous trouverez :"),l.default.createElement("ul",null,l.default.createElement("li",null,"Cozy Collect : cette application vous aidera à lier votre compte facilement à d’autres services pour récupérer automatiquement les documents, comme par exemple vos factures d’énergie, vos documents d’assurance, santé, banque…"),l.default.createElement("li",null,"Cozy Drive : vous permet de gérer tous vos documents (qu’ils soient dans homebook ou non)"),l.default.createElement("li",null,"EDF : si vous êtes client EDF, cette application vous permet de retrouver directement toutes les informations liées à votre consommation énergétique et factures."),l.default.createElement("li",null,"Homebook : pour vous aider à mieux gérer votre logement"),l.default.createElement("li",null,"Photos : pour ajouter facilement des photos"))),l.default.createElement("li",null,l.default.createElement("h3",null,"Pourquoi rajouter un équipement ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Pour capitaliser les informations en cas de panne, dysfonctionnement, travaux. Faciliter la récupération des notices et le suivi des garanties.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment ajouter un équipement ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Dans l’onglet « Données », cliquez sur « Equipements » puis en haut à droite « Ajouter un équipement ».")),l.default.createElement("li",null,l.default.createElement("h3",null,"Quels documents ajouter avec mes équipements ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Pensez à ajouter les devis/factures, documents liés à l’entretien.")))),l.default.createElement(i.default,{header:"IDENTIFIANTS ET COMPTE UTILISATEUR",eventKey:"7"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Comment modifier mon mot de passe ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Allez dans « applications » puis « Cozy Drive », puis en haut à droite cliquez sur « Paramètres » puis « Profil » puis descendez pour aller sur les champs de modification de votre mot de passe.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment modifier mon profil ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Allez dans « applications » puis « Cozy Drive », puis en haut à droite cliquez sur « Paramètres » puis « Profil ».")))),l.default.createElement(i.default,{header:"RAPPELS",eventKey:"8"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"A quoi servent les rappels ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Vous avez la possibilité de vous créer des rappels pour ne pas oublier certaines échéances importantes comme l’entretien annuel de votre chaudière (si vous êtes concerné). Une fois programmé, votre homebook vous enverra automatique une notification à la date prévue.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment programmer un rappel ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Aller dans l’onglet « Rappels » puis en haut à droite, cliquer sur le bouton « Ajouter un rappel » et se laisser guider par l’interface.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Est-ce que je peux synchroniser mon calendrier perso avec mes rappels homebook ?"),l.default.createElement("p",null,"Non, malheureusement il n’est pas encore possible de le faire, mais nous y travaillons pour vous simplifier d’avantage la vie.")))),l.default.createElement(i.default,{header:"CONTACTS",eventKey:"9"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"A quoi servent les contacts ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Les contacts vous permettent de garder en mémoire les contacts importants liés à votre logement pour les avoir sous la main à tout moment.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment ajouter un contact ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Aller dans l’onglet « Contact », puis cliquer sur le bouton « Ajouter un contact » en haut à droite.")),l.default.createElement("li",null,l.default.createElement("h3",null,"Comment modifier un contact ?"),l.default.createElement("p",null,"Cliquez sur un contact, puis sur « modifier ». Une fois fini cliquer sur « Enregistrer ».")),l.default.createElement("li",null,l.default.createElement("h3",null,"Est-ce que je peux synchroniser mon annuaire perso avec mes contacts homebook ?"),l.default.createElement("p",null,"Non, malheureusement il n’est pas encore possible de le faire, mais nous y travaillons pour vous simplifier d’avantage la vie.")))),l.default.createElement(i.default,{header:"PROBLEMES TECHNIQUES – BESOIN D’AIDE",eventKey:"10"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("h3",null,"Besoin d’aide ?"),l.default.createElement("br",null),l.default.createElement("p",null,"Si vous avez besoin d’aide, envoyer un message à ",l.default.createElement("a",{href:"mailto:retd-sav-homebook@edf.fr"},"retd-sav-homebook@edf.fr"),"."))))))};t.default=m},"./src/components/elements/Loader.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./src/styles/Loader.sass"),u=a(o),s=t.Loader=function(e){var t=e.display;return void 0===t&&(t=!0),t?l.default.createElement("div",{className:u.default.loader},l.default.createElement("img",{src:"/images/progress.gif",alt:""})):null};t.default=s},"./src/components/elements/Main.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./src/styles/Main.sass"),u=a(o),s=t.Main=function(e){var t=e.children;return l.default.createElement("main",{className:u.default.main},t)};t.default=s},"./src/components/elements/Navigation.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomLink=t.Navigation=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./src/styles/Navigation.sass"),u=a(o),s=n("./node_modules/react-router-dom/es/index.js"),c=n("./node_modules/classnames/index.js"),i=(a(c),n("./src/containers/Gauge.js")),d=a(i),f=t.Navigation=function(e){return l.default.createElement("nav",{className:u.default.main},l.default.createElement("div",{className:u.default.nav},l.default.createElement("ul",{className:u.default.list},l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/Documents",onClick:function(){return console.log("Open documents")},activeClassName:u.default.active},l.default.createElement("i",{className:"ion-ios-folder"}),"Documents")),l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/contacts",onClick:function(){return console.log("Open contacts")},activeClassName:u.default.active},l.default.createElement("i",{className:"ion-ios-bookmarks-outline"}),"Contacts")),l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/rappels",onClick:function(){return console.log("Open rappels")},activeClassName:u.default.active},l.default.createElement("i",{className:"ion-ios-checkmark-outline"}),"Rappels")),l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/corbeille",onClick:function(){return console.log("Open corbeille")},activeClassName:u.default.active},l.default.createElement("i",{className:"ion-ios-trash-outline"}),"Corbeille")))),l.default.createElement(d.default,null),l.default.createElement("div",{className:u.default.other},l.default.createElement("ul",{className:u.default.list},l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/notifications",onClick:function(){return console.log("Open notifications")},activeClassName:u.default.active},"Notifications")),l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/preferences",onClick:function(){return console.log("Open preferences")},activeClassName:u.default.active},"Préférences")),l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/aide",onClick:function(){return console.log("Open help")},activeClassName:u.default.active},"Aide")),l.default.createElement("li",{className:u.default.button},l.default.createElement(p,{to:"/a-propos",onClick:function(){return console.log("Open about")},activeClassName:u.default.active},"À propos")))))},m=t.CustomLink=function(e){var t=function(t){t.preventDefault(),e.onClick(),e.history.push(e.to)},n=(e.router,e.location),a=e.to,r=e.activeClassName,o=e.children,u=0===n.pathname.indexOf(a);return l.default.createElement("a",{className:u&&r,onClick:function(e){console.log("Click link",e),t(e)}},o)},p=(0,s.withRouter)(m);t.default=f},"./src/components/elements/Onboarding.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("./node_modules/react/react.js"),i=a(c),d=n("./node_modules/classnames/index.js"),f=a(d),m=n("./node_modules/prop-types/index.js"),p=(a(m),n("./src/styles/Onboarding.sass")),E=a(p),v=n("./src/components/elements/Loader.jsx"),_=a(v),h=(n("./src/constants/index.js"),n("./src/scripts/onboarding.js")),y=function(e){function t(e,n){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.onboardingStep=[{title:"HOMEBOOK",content:"Bienvenue dans votre carnet numérique du logement"},{title:"Documents",content:"Disposez où que vous soyez de tous vos documents."},{title:"Données",content:"Votre logement et ses équipements, dans les moindres détails !"},{title:"Rappels",content:"Planifiez vos tâches et entretiens périodiques"},{title:"Contacts",content:"Accédez aux coordonnées de professionnels pour votre logement"}],a.state={activeText:a.onboardingStep[0].content,activeTitle:a.onboardingStep[0].title,currentIndex:0,loading:!0},a}return u(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;(0,h.isAlreadyShown)().then(function(t){return t?e.closeOnboarding():(0,h.markAsShown)(!0).then(function(){e.goToStep(0)})})}},{key:"goToStep",value:function(e){if(e>4)return this.closeOnboarding();this.setState({activeText:this.onboardingStep[e].content,activeTitle:this.onboardingStep[e].title,currentIndex:e,loading:!1})}},{key:"closeOnboarding",value:function(){console.log("Onboarding Close"),this.props.history.push("/Documents")}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:E.default.container},i.default.createElement(_.default,{display:this.state.loading}),!this.state.loading&&i.default.createElement("div",{className:E.default.background},i.default.createElement("div",{className:E.default.panel},i.default.createElement("i",{className:(0,f.default)("ion-close",E.default.close),onClick:function(){return e.closeOnboarding()}}),i.default.createElement("img",{src:"/images/logo.png",alt:"Logo",className:E.default.logo}),i.default.createElement("div",{className:E.default.sliderTitle},this.state.activeTitle),i.default.createElement("div",{className:E.default.sliderText},this.state.activeText),i.default.createElement("button",{className:E.default.button,onClick:function(){return e.goToStep(e.state.currentIndex+1)}},"Continuer"),i.default.createElement("ol",null,this.onboardingStep.map(function(t,n){return i.default.createElement("li",{key:n,className:(0,f.default)(E.default.dot,r({},E.default.active,n===e.state.currentIndex)),onClick:function(){return e.goToStep(n)}})})))))}}]),t}(c.Component);t.default=y},"./src/components/elements/Page.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var l=n("./node_modules/react/react.js"),o=a(l),u=n("./src/styles/Page.sass"),s=a(u),c=n("./node_modules/classnames/index.js"),i=a(c),d=n("./src/styles/buttons.scss"),f=a(d),m=t.Page=function(e){var t=e.children,n=e.actions,a=e.options,l=e.title,u=e.subtitle,c=e.onBackPress,d=e.flex;return o.default.createElement("section",{className:(0,i.default)(s.default.main,r({},s.default.flex,d))},o.default.createElement("div",{className:s.default.header},o.default.createElement("div",{className:s.default.row1},c&&o.default.createElement("button",{onClick:c,className:(0,i.default)(f.default.button,f.default.stable,s.default.back)},o.default.createElement("i",{className:"ion-ios-arrow-thin-left"})),o.default.createElement("ul",{className:s.default.actions},n&&n.map(function(e,t){return o.default.createElement("li",{key:t},e)})),o.default.createElement("h1",{className:s.default.title},l)),o.default.createElement("div",{className:s.default.row2},o.default.createElement("h2",{className:s.default.subtitle},u),o.default.createElement("ul",{className:s.default.options},a&&a.map(function(e,t){return o.default.createElement("li",{key:t},e)})))),o.default.createElement("div",{className:s.default.content},t))};t.default=m},"./src/components/elements/Preferences.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Preferences=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./node_modules/classnames/index.js"),u=a(o),s=n("./src/styles/buttons.scss"),c=a(s),i=n("./src/styles/Preferences.sass"),d=a(i),f=n("./src/components/elements/Page.jsx"),m=a(f),p=n("./src/scripts/onboarding.js"),E=(n("./src/constants/index.js"),t.Preferences=function(e){var t=function(){(0,p.markAsShown)(!1).then(function(){e.history.push("/")})};return l.default.createElement(m.default,{title:"Préférences"},l.default.createElement("article",null,l.default.createElement("h2",{className:d.default.title},"Importer votre Carnet Numérique du Logement (CNL)"),l.default.createElement("div",{className:d.default.article},l.default.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer molestie, ligula quis varius tristique, ex orci congue metus, eget accumsan enim diam vitae eros. Nullam ut nulla ac justo varius egestas. In id dapibus sapien. Nunc vel fringilla eros, ac tincidunt felis."),l.default.createElement("button",{className:(0,u.default)(c.default.button,c.default.default)},l.default.createElement("i",{className:"ion-ios-upload-outline"})," IMPORTER CNL"))),l.default.createElement("article",null,l.default.createElement("h2",{className:d.default.title},"Exporter votre HOMEBOOK"),l.default.createElement("div",{className:d.default.article},l.default.createElement("p",null,"Proin nisl libero, aliquet quis tristique id, scelerisque eget dui. Duis ultricies, tellus ac posuere blandit, sapien elit dapibus ligula, ut mollis tortor dui in massa. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam et orci odio."),l.default.createElement("button",{className:(0,u.default)(c.default.button,c.default.default)},l.default.createElement("i",{className:"ion-ios-upload-outline"})," IMPORTER HOMEBOOK"))),l.default.createElement("article",null,l.default.createElement("h2",{className:d.default.title},"Reset Onboarding"),l.default.createElement("div",{className:d.default.article},l.default.createElement("p",null,"Proin nisl libero, aliquet quis tristique id, scelerisque eget dui. Duis ultricies, tellus ac posuere blandit, sapien elit dapibus ligula, ut mollis tortor dui in massa. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam et orci odio."),l.default.createElement("button",{className:(0,u.default)(c.default.button,c.default.assertive),onClick:function(){return t()}},l.default.createElement("i",{className:"ion-ios-refresh-outline"})," RESET ONBOARDING"))))});t.default=E},"./src/components/elements/Recalls.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./node_modules/react-portal/build/portal.js"),m=a(f),p=n("./node_modules/react-big-calendar/lib/index.js"),E=a(p),v=n("./node_modules/moment/moment.js"),_=a(v);n("./node_modules/moment/locale/fr.js"),n("./node_modules/react-big-calendar/lib/css/react-big-calendar.css");var h=n("./src/constants/index.js"),y=n("./src/styles/buttons.scss"),S=a(y),C=n("./src/styles/Modal.sass"),b=(a(C),n("./src/styles/Recalls.sass")),O=(a(b),n("./src/components/elements/Page.jsx")),T=a(O),g=n("./src/components/elements/Loader.jsx"),A=a(g),R=n("./src/components/modals/Modal.jsx"),N=a(R),D=n("./src/components/modals/RecallsModal.jsx"),x=a(D);_.default.locale("fr"),E.default.momentLocalizer(_.default);var j=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={current:null,modalOpen:!1,defaultDate:null,edition:!1},a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.onLoadRecalls()}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.elements&&void 0!==e.count?e.elements.length!==e.count&&e.onLoadRecalls():e.onLoadRecalls()}},{key:"addOrSaveRecall",value:function(e){this.state.current?this.props.onSaveRecall(this.state.current._id,Object.assign(this.state.current,e)):this.props.onNewRecall(e.name,e),this.setState({modalOpen:!1,current:null})}},{key:"add",value:function(){this.setState({current:null,modalOpen:!0,defaultDate:void 0,edition:!0})}},{key:"open",value:function(e){this.setState({current:e,modalOpen:!0})}},{key:"remove",value:function(){this.state.current&&(this.props.onRemoveRecalls([this.state.current]),this.setState({modalOpen:!1,current:null,defaultDate:void 0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.elements,a=t.count,r=t.status,l=r===h.STATUS_LOAD,o=c.default.createElement("button",{onClick:function(){return e.add()},className:(0,d.default)(S.default.button,S.default.default)},c.default.createElement("i",{className:"ion-ios-plus-empty"}),"AJOUTER"),u=function(t){var n=t.event;return c.default.createElement("span",null,c.default.createElement("p",{className:"agenda-title",onClick:function(){return e.setState({modalOpen:!0,current:n.item,defaultDate:void 0})}},n.title),c.default.createElement("p",{onClick:function(){return e.setState({modalOpen:!0,current:n.item,defaultDate:void 0})}},n.item.deadline))};return c.default.createElement(T.default,{title:"Recalls",subtitle:null!==a&&a+(a>1?" rappels":" rappel"),actions:[o],flex:!0},c.default.createElement(A.default,{display:l}),!l&&c.default.createElement(E.default,{events:n.map(function(e){return{title:e.name,allDay:!0,start:(0,_.default)(e.deadline,"DD/MM/YYYY").toDate(),end:(0,_.default)(e.deadline,"DD/MM/YYYY").toDate(),item:e}}),selectable:!0,popup:!0,components:{agenda:{event:u}},views:["month","agenda"],onSelectSlot:function(t){return e.setState({modalOpen:!0,current:null,defaultDate:t.end,edition:!0})},onSelectEvent:function(t){return e.setState({modalOpen:!0,current:t.item,defaultDate:void 0})},messages:{allDay:"Journée",previous:"Précédent",next:"Suivant",today:"Aujourd'hui",month:"Mois",agenda:"Agenda",showMore:function(e){return"+"+e+" plus"}}}),c.default.createElement(m.default,{isOpened:this.state.modalOpen,closeOnEsc:!0,onClose:function(){return e.setState({modalOpen:!1,current:null,defaultDate:void 0,edition:!1})}},c.default.createElement(N.default,null,c.default.createElement(x.default,{defaultDate:this.state.defaultDate,item:this.state.current,title:this.state.current?"Modifier rappel":"Nouveaux rappel",onSave:function(t){return e.addOrSaveRecall(t)},onRemove:function(){return e.remove()},edit:this.state.edition}))))}}]),t}(s.Component);t.default=j},"./src/components/elements/ToolBoxOptions.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./src/styles/ToolBoxOptions.sass"),m=a(f),p=n("./src/styles/buttons.scss"),E=a(p),v=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={open:!1},a.intent=null,a}return o(t,e),u(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.intent)}},{key:"open",value:function(){this.state.open||(this.setState({open:!0}),this.props.onOpen&&this.props.onOpen())}},{key:"close",value:function(){this.state.open&&(this.setState({open:!1}),this.props.onClose&&this.props.onClose())}},{key:"toggle",value:function(){this.state.open?this.close():this.open()}},{key:"closeIntent",value:function(){var e=this;this.props.noAuto||(this.intent=setTimeout(function(){return e.close()},100))}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:m.default.toolBox},c.default.createElement("button",{type:"button",onClick:function(){return e.toggle()},onBlur:function(t){return e.closeIntent()},className:(0,d.default)(E.default.button,E.default.stable)},c.default.createElement("i",{className:"ion-more"})),this.state.open&&c.default.createElement("div",{className:m.default.content},c.default.createElement("div",{className:m.default.triangle}),this.props.children))}}]),t}(s.Component);t.default=v},"./src/components/elements/Trash.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./src/constants/index.js"),m=n("./src/styles/buttons.scss"),p=a(m),E=n("./src/components/elements/ToolBoxOptions.jsx"),v=a(E),_=n("./node_modules/lodash/lodash.js"),h=(a(_),n("./src/components/elements/Page.jsx")),y=a(h),S=n("./src/components/elements/Loader.jsx"),C=a(S),b=n("./src/components/elements/DocumentList.jsx"),O=a(b),T=n("./src/components/elements/ContactList.jsx"),g=a(T),A=n("./src/components/elements/DataList.jsx"),R=a(A),N=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={current:null,modalOpen:!1},a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.onLoadTrash()}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.contacts&&void 0!==e.files&&void 0!==e.data&&void 0!==e.count?e.contacts.length+e.files.length+e.data.length!==e.count&&e.onLoadTrash():e.onLoadTrash()}},{key:"empty",value:function(){this.props.onEmpty()}},{key:"restore",value:function(){var e=this.props.files.filter(function(e){return e.selected});e.length>0&&this.props.onRestoreDocuments(e);var t=this.props.contacts.filter(function(e){return e.selected});t.length>0&&this.props.onRestoreContacts(t);var n=this.props.data.filter(function(e){return e.selected});n.length>0&&this.props.onRestoreData(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.files,a=t.contacts,r=t.data,l=t.count,o=t.selectedCount,u=t.status,s=u===f.STATUS_LOAD,i=c.default.createElement("button",{onClick:function(){return e.empty()},className:(0,d.default)(p.default.button,p.default.assertive)},c.default.createElement("i",{className:"ion-ios-trash-outline"}),"VIDER"),m=c.default.createElement(v.default,null,c.default.createElement("ul",null,c.default.createElement("li",{onClick:function(){e.props.onSelectAll(e.props.count)}},c.default.createElement("i",{className:"ion-ios-checkmark-outline"},"TOUT SELECTIONNER")),c.default.createElement("li",{onClick:function(){e.props.onChangeViewMode()}},this.props.viewMode===f.VIEW_LIST?c.default.createElement("i",{className:"ion-navicon"},"VUE LISTE"):c.default.createElement("i",{className:"ion-grid"},"VUE GRILLE")))),E=c.default.createElement("button",{onClick:function(){return e.restore()},className:(0,d.default)(p.default.button,p.default.stable)},c.default.createElement("i",{className:"ion-ios-undo-outline"}),"RESTORER"),_=[m];return l>0&&_.unshift(i),o>0&&_.unshift(E),c.default.createElement(y.default,{title:"Corbeille",subtitle:null!==l&&l+(l>1?" éléments":" élément"),actions:_},c.default.createElement(C.default,{display:s}),c.default.createElement("div",{className:"files"},!s&&n.length>0&&c.default.createElement(O.default,{view:this.props.viewMode,onClickItem:function(t){e.props.onSelectFile(t)}},n),!s&&0===n.length&&"Aucun fichier"),c.default.createElement("div",{className:"contacts"},!s&&a.length>0&&c.default.createElement(g.default,{view:this.props.viewMode,onClickItem:function(t){e.props.onSelectContact(t)}},a),!s&&0===a.length&&"Aucun contact"),c.default.createElement("div",{className:"data"},!s&&r.length>0&&c.default.createElement(R.default,{view:this.props.viewMode,onClickItem:function(t){e.props.onSelectData(t)}},r),!s&&0===r.length&&"Aucune donnée"))}}]),t}(s.Component);t.default=N},"./src/components/modals/ConfirmModal.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),l=a(r),o=n("./node_modules/classnames/index.js"),u=a(o),s=n("./src/styles/buttons.scss"),c=a(s),i=n("./src/styles/ConfirmModal.sass"),d=a(i),f=n("./src/components/modals/Modal.jsx"),m=a(f),p=function(e){var t=e.confirm,n=e.abort,a=e.children;return l.default.createElement(m.default,null,l.default.createElement("div",{className:d.default.main},l.default.createElement("div",{className:d.default.content},a),l.default.createElement("div",{className:d.default.actions},l.default.createElement("button",{className:(0,u.default)(c.default.button,c.default.default),onClick:function(e){return n()}},"ANNULER"),l.default.createElement("button",{onClick:function(e){return t()},className:(0,u.default)(c.default.button,c.default.assertive)},"SUPPRIMER"))))};t.default=p},"./src/components/modals/ContactsModal.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("./node_modules/react/react.js"),d=a(i),f=n("./node_modules/classnames/index.js"),m=a(f),p=n("./src/constants/contactTypes.json"),E=a(p),v=n("./src/tools/index.js"),_=n("./src/styles/buttons.scss"),h=a(_),y=n("./src/styles/ContactsModal.sass"),S=a(y),C=function(e){function t(e,n){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));console.log("CM Constuctor",e);var r=e.item||{};return a.state={lastName:r.lastName||"",firstName:r.firstName||"",company:r.company||"",type:r.type||"",email:r.email||"",telephones:r.telephones||[],address:r.address||{line:"",code:"",city:""},commentary:r.commentary||"",edit:!1},a}return u(t,e),c(t,[{key:"componentWillMount",value:function(){!0===this.props.edit&&(this.state.edit=!0)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"save",value:function(e){var t=this.state,n=t.lastName,a=t.firstName,l=t.company,o=t.type,u=t.email,c=t.commentary,i=[].concat(r(this.state.telephones)),d=s({},this.state.address),f={lastName:n,firstName:a,company:l,type:o,email:u,commentary:c,telephones:i,address:d};this.props.onSave(f),this.close(e)}},{key:"close",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:"edit",value:function(e){e.stopPropagation(),this.setState({edit:!0})}},{key:"remove",value:function(e){this.props.onRemove(),this.close(e)}},{key:"addTelephone",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({telephones:[].concat(r(this.state.telephones),[{phone:"",type:"fixe"}])})}},{key:"renderEdition",value:function(){var e=this;return d.default.createElement("div",{className:S.default.main,onClick:function(e){return e.stopPropagation()}},d.default.createElement("div",{className:S.default.header},d.default.createElement("h1",null,this.props.title),d.default.createElement("button",{className:(0,m.default)(h.default.button,h.default.default),onClick:function(t){return e.save(t)}},d.default.createElement("i",{className:"fa fa-floppy-o"}),"Enregistrer"),d.default.createElement("button",{onClick:function(t){return e.close(t)},className:(0,m.default)(h.default.button,h.default.stable,h.default.clear)},d.default.createElement("i",{className:"ion-ios-close-empty"}))),d.default.createElement("form",{className:S.default.content},d.default.createElement("label",null,"Nom"),d.default.createElement("input",{type:"text",value:this.state.lastName,onChange:function(t){return e.setState({lastName:t.target.value})},className:"form-control"}),d.default.createElement("label",null,"Prénom"),d.default.createElement("input",{type:"text",value:this.state.firstName,onChange:function(t){return e.setState({firstName:t.target.value})},className:"form-control"}),d.default.createElement("label",null,"Société"),d.default.createElement("input",{type:"text",value:this.state.company,onChange:function(t){return e.setState({company:t.target.value})},className:"form-control"}),d.default.createElement("label",null,"Activité"),d.default.createElement("select",{type:"text",value:this.state.type,onChange:function(t){return e.setState({type:t.target.value})},className:"form-control"},d.default.createElement("option",null,"Aucune"),(0,v.createOptionsFromArray)(E.default)),d.default.createElement("label",null,"Téléphone"),d.default.createElement("button",{className:(0,m.default)(h.default.button,h.default.stable),onClick:function(t){return e.addTelephone(t)}},d.default.createElement("i",{className:"ion-ios-plus-empty"})," Ajouter"),this.state.telephones&&this.state.telephones.map(function(t,n){return d.default.createElement("div",{key:n,className:S.default.telephone},d.default.createElement("input",{type:"text",value:t.phone,onChange:function(n){t.phone=n.target.value,e.setState({})},className:"form-control"}),d.default.createElement("select",{value:t.type,onChange:function(n){t.type=n.target.value,e.setState({})},className:"form-control"},d.default.createElement("option",{value:"mobile"},"Mobile"),d.default.createElement("option",{value:"fixe"},"Fixe")))}),d.default.createElement("label",null,"Email"),d.default.createElement("input",{type:"email",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},className:"form-control"}),d.default.createElement("label",null,"Adresse"),d.default.createElement("input",{type:"text",placeholder:"Adresse",value:this.state.address.line,onChange:function(t){return e.setState({address:s({},e.state.address,{line:t.target.value})})},className:"form-control"}),d.default.createElement("input",{type:"text",placeholder:"Code postal",value:this.state.address.code,onChange:function(t){return e.setState({address:s({},e.state.address,{code:t.target.value})})},className:"form-control"}),d.default.createElement("input",{type:"text",placeholder:"Ville",value:this.state.address.city,onChange:function(t){return e.setState({address:s({},e.state.address,{city:t.target.value})})},className:"form-control"}),d.default.createElement("label",null,"Commentaire"),d.default.createElement("textarea",{value:this.state.commentary,onChange:function(t){return e.setState({commentary:t.target.value})},className:"form-control"})))}},{key:"renderView",value:function(){var e=this;return d.default.createElement("div",{className:S.default.main,onClick:function(e){return e.stopPropagation()}},d.default.createElement("div",{className:S.default.header},d.default.createElement("h1",null,this.state.firstName," ",this.state.lastName&&this.state.lastName.toUpperCase()),d.default.createElement("button",{className:(0,m.default)(h.default.button,h.default.default),onClick:function(t){return e.edit(t)}},d.default.createElement("i",{className:"fa fa-edit"}),"Modifier"),d.default.createElement("button",{onClick:function(t){return e.remove(t)},className:(0,m.default)(h.default.button,h.default.assertive)},d.default.createElement("i",{className:"ion-ios-trash-outline"}),"Supprimer"),d.default.createElement("button",{onClick:function(t){return e.close(t)},className:(0,m.default)(h.default.button,h.default.stable,h.default.clear)},d.default.createElement("i",{className:"ion-ios-close-empty"}))),d.default.createElement("div",{className:S.default.content},d.default.createElement("div",null,d.default.createElement("h3",null,"Société"),d.default.createElement("p",null,this.state.company)),d.default.createElement("div",null,d.default.createElement("h3",null,"Type / Spécialité"),d.default.createElement("p",null,this.state.type)),d.default.createElement("div",null,d.default.createElement("h3",null,"Téléphone"),this.state.telephones&&this.state.telephones.map(function(e,t){return d.default.createElement("p",{key:t},d.default.createElement("strong",null,e.type&&e.type.toUpperCase()+" :"),d.default.createElement("a",{href:"callto:"+e.phone},e.phone))})),d.default.createElement("div",null,d.default.createElement("h3",null,"Email"),d.default.createElement("p",null,d.default.createElement("a",{href:"mailto:"+this.state.email},this.state.email))),d.default.createElement("div",null,d.default.createElement("h3",null,"Adresse"),d.default.createElement("p",null,this.state.address.line),d.default.createElement("p",null,this.state.address.code),d.default.createElement("p",null,this.state.address.city)),d.default.createElement("div",null,d.default.createElement("h3",null,"Commentaire"),d.default.createElement("div",null,this.state.commentary&&this.state.commentary.split("\n").map(function(e,t){return d.default.createElement("div",{key:t},e)})))))}},{key:"render",value:function(){return this.state.edit?this.renderEdition():this.renderView()}}]),t}(i.Component);t.default=C},"./src/components/modals/ImporterModal.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("./node_modules/react/react.js"),d=a(i),f=n("./node_modules/lodash/lodash.js"),m=(a(f),n("./src/styles/ImporterModal.sass")),p=a(m),E=n("./src/styles/buttons.scss"),v=a(E),_=n("./node_modules/classnames/index.js"),h=a(_),y=n("./src/components/elements/DirectoryPicker.jsx"),S=a(y),C=n("./node_modules/react-dropzone/dist/index.js"),b=a(C),O=n("./src/scripts/fileTypes.js"),T=n("./src/constants/index.js"),g=function(e){var t=e.item,n=e.currentType,a=e.onDocChange,r=(0,O.getTypesByGroup)();t.typeFile||(t.typeFile=""!=n?n:"");var l="/images/file.png";return/^image\//.test(t.type)&&(l=t.preview),d.default.createElement("div",{className:p.default.doc,onClick:function(e){return e.stopPropagation()}},d.default.createElement("div",{className:p.default.image},d.default.createElement("img",{src:l,alt:"document"})),d.default.createElement("span",{className:p.default.docName},t.name),d.default.createElement("select",{className:p.default.select,value:t.typeFile,onChange:function(e){t.typeFile=e.target.value,a()}},d.default.createElement("option",{value:""},"Choisir un type"),r.map(function(e,t){return d.default.createElement("optgroup",{label:e.name,key:t},e.types.map(function(e,t){return d.default.createElement("option",{key:t,value:e.key},e.name)}))}),d.default.createElement("option",{value:""},"Autre")))},A=function(e){function t(e,n){o(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={documents:[],dropzoneActive:!1},a}return s(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({dropzoneActive:!1})}},{key:"cancel",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:"next",value:function(){this.props.onChangeView(T.VIEW_DIR)}},{key:"prev",value:function(){this.props.onChangeView(T.VIEW_FILE)}},{key:"import",value:function(e){var t=this;this.state.documents.length>0&&cozy.client.files.statByPath(this.props.currentPath).then(function(e){console.log("Parent",e),t.props.onImport(t.state.documents,e._id)}),this.cancel(e)}},{key:"_dropFiles",value:function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,u=this.state.documents[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value,c=!0,i=!0,d=!1,f=void 0;try{for(var m,p=e[Symbol.iterator]();!(i=(m=p.next()).done);i=!0){if(m.value.name===s.name){c=!1;break}}}catch(e){d=!0,f=e}finally{try{!i&&p.return&&p.return()}finally{if(d)throw f}}c&&t.push(s)}}catch(e){a=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw r}}if(this.props.currentType){var E=!0,v=!1,_=void 0;try{for(var h,y=e[Symbol.iterator]();!(E=(h=y.next()).done);E=!0){var S=h.value;console.log("Default",this.props.currentType),S.typeFile=this.props.currentType}}catch(e){v=!0,_=e}finally{try{!E&&y.return&&y.return()}finally{if(v)throw _}}}this.setState({dropzoneActive:!1,documents:[].concat(t,l(e))})}},{key:"_dragEnter",value:function(e){"Files"===e.dataTransfer.types[0]&&this.setState({dropzoneActive:!0})}},{key:"_dragLeave",value:function(e){this.setState({dropzoneActive:!1})}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{onClick:function(e){return e.stopPropagation()},className:p.default.main},this.props.view===T.VIEW_FILE&&d.default.createElement("div",{className:p.default.file},d.default.createElement("div",{className:p.default.header},d.default.createElement("span",null,"AJOUTER DES FICHIERS"),d.default.createElement("button",{className:(0,h.default)(v.default.button,v.default.stable,v.default.clear),onClick:function(t){return e.cancel(t)}},d.default.createElement("i",{className:"ion-ios-close-empty"}))),d.default.createElement("div",{className:p.default.content},d.default.createElement(b.default,{ref:"dropzone",disableClick:!1,disablePreview:!1,className:(0,h.default)(p.default.dropzone,r({},p.default.active,this.state.dropzoneActive)),onDrop:function(t){return e._dropFiles(t)},onDragEnter:function(t){return e._dragEnter(t)},onDragLeave:function(t){return e._dragLeave(t)}},this.state.documents.map(function(t,n){return d.default.createElement(g,{key:n,item:t,onDocChange:function(){return e.setState({})},currentType:e.props.currentType})}),0==this.state.documents.length?d.default.createElement("span",{className:p.default.message},"déposez vos fichiers ici"):null)),d.default.createElement("div",{className:p.default.footer},d.default.createElement("button",{type:"button",className:(0,h.default)(v.default.button,v.default.stable),onClick:function(t){return e.cancel(t)}},d.default.createElement("i",{className:"ion-ios-close-empty"}),"ANNULER"),d.default.createElement("button",{type:"button",className:(0,h.default)(v.default.button,v.default.stable),onClick:function(){return e.next()}},d.default.createElement("i",{className:"ion-ios-folder-outline"}),"CHANGER EMPLACEMENT"),d.default.createElement("button",{type:"button",className:(0,h.default)(v.default.button,v.default.stable),onClick:function(t){return e.import(t)}},d.default.createElement("i",{className:"ion-ios-cloud-upload-outline"}),"OK"))),this.props.view===T.VIEW_DIR&&d.default.createElement("div",{className:p.default.dir},d.default.createElement("div",{className:p.default.header},d.default.createElement("span",null,"CHOISIR UN EMPLACEMENT"),d.default.createElement("button",{className:(0,h.default)(v.default.button,v.default.stable,v.default.clear),onClick:function(t){return e.cancel(t)}},d.default.createElement("i",{className:"ion-ios-close-empty"}))),d.default.createElement("div",{className:p.default.content},d.default.createElement(S.default,{dirs:this.props.documentsTree,root:T.ROOT_PATH,default:this.props.currentPath,rootDirectoryName:T.ROOT_NAME,onPathChange:function(t){return e.props.onDirectoryChange(t)}})),d.default.createElement("div",{className:p.default.footer},d.default.createElement("button",{type:"button",className:(0,h.default)(v.default.button,v.default.stable),onClick:function(){return e.prev()}},d.default.createElement("i",{className:"ion-ios-arrow-left"}),"RETOUR"),d.default.createElement("button",{type:"button",className:(0,h.default)(v.default.button,v.default.stable),onClick:function(t){return e.import(t)}},d.default.createElement("i",{className:"ion-ios-cloud-upload-outline"}),"IMPORTER"))))}}]),t}(i.Component);t.default=A},"./src/components/modals/Modal.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./src/styles/Modal.sass"),u=a(o),s=t.Modal=function(e){var t=e.closePortal,n=e.children;return"function"==typeof n.type&&(n=l.default.cloneElement(n,{closePortal:t})),l.default.createElement("div",{className:u.default.modal,onClick:t},n)};t.default=s},"./src/components/modals/MoverModal.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/lodash/lodash.js"),d=(a(i),n("./src/styles/ImporterModal.sass")),f=a(d),m=n("./src/styles/buttons.scss"),p=a(m),E=n("./node_modules/classnames/index.js"),v=a(E),_=n("./src/components/elements/DirectoryPicker.jsx"),h=a(_),y=n("./src/constants/index.js"),S=function(e){function t(e,n){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e,t){}},{key:"cancel",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:"move",value:function(e){this.props.onMove(this.props.currentPath),this.cancel(e)}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{onClick:function(e){return e.stopPropagation()},className:f.default.main},c.default.createElement("div",{className:f.default.dir},c.default.createElement("div",{className:f.default.header},c.default.createElement("span",null,"CHOISIR UN EMPLACEMENT"),c.default.createElement("button",{className:(0,v.default)(p.default.button,p.default.stable,p.default.clear),onClick:function(t){return e.cancel(t)}},c.default.createElement("i",{className:"ion-ios-close-empty"}))),c.default.createElement("div",{className:f.default.content},c.default.createElement(h.default,{dirs:this.props.documentsTree,root:y.ROOT_PATH,default:this.props.currentPath,rootDirectoryName:y.ROOT_NAME,onPathChange:function(t){return e.props.onDirectoryChange(t)}})),c.default.createElement("div",{className:f.default.footer},c.default.createElement("button",{type:"button",className:(0,v.default)(p.default.button,p.default.stable),onClick:function(t){return e.cancel(t)}},c.default.createElement("i",{className:"ion-ios-arrow-left"}),"ANNULER"),c.default.createElement("button",{type:"button",className:(0,v.default)(p.default.button,p.default.stable),onClick:function(t){return e.move(t)}},c.default.createElement("i",{className:"ion-ios-cloud-upload-outline"}),"IMPORTER"))))}}]),t}(s.Component);t.default=S},"./src/components/modals/RecallsModal.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./node_modules/react-datepicker/dist/react-datepicker.min.js"),m=a(f);n("./node_modules/react-datepicker/dist/react-datepicker.css");var p=n("./node_modules/moment/moment.js"),E=a(p),v=n("./src/constants/recallsFrequencies.json"),_=a(v),h=n("./src/tools/index.js"),y=n("./src/styles/buttons.scss"),S=a(y),C=n("./src/styles/ContactsModal.sass"),b=a(C),O=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=e.item||{};return a.state={name:o.name||"",deadline:o.deadline||(0,E.default)(e.defaultDate).format("DD/MM/YYYY"),alert:o.alert,frequency:o.frequency||"",notes:o.notes||"",edit:!1},a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){!0===this.props.edit&&(this.state.edit=!0)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"save",value:function(e){var t=this.state,n=t.name,a=t.deadline,r=t.alert,l=t.frequency,o=t.notes,u={name:n,deadline:a,alert:r,frequency:l,notes:o};this.props.onSave(u),this.close(e)}},{key:"remove",value:function(e){this.props.onRemove(),this.close(e)}},{key:"edit",value:function(e){e.stopPropagation(),this.setState({edit:!0})}},{key:"close",value:function(e){e.stopPropagation(),this.props.closePortal()}},{key:"renderEdition",value:function(){var e=this;return c.default.createElement("div",{className:b.default.main,onClick:function(e){return e.stopPropagation()}},c.default.createElement("div",{className:b.default.header},c.default.createElement("h1",null,this.props.title),c.default.createElement("button",{className:(0,d.default)(S.default.button,S.default.default),onClick:function(t){return e.save(t)}},c.default.createElement("i",{className:"fa fa-floppy-o"})," Enregistrer"),c.default.createElement("button",{onClick:function(t){return e.close(t)},className:(0,d.default)(S.default.button,S.default.stable,S.default.clear)},c.default.createElement("i",{className:"ion-ios-close-empty"}))),c.default.createElement("form",{className:b.default.content},c.default.createElement("label",null,"Nom"),c.default.createElement("input",{type:"text",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},className:"form-control"}),c.default.createElement("label",null,"Echéance"),c.default.createElement(m.default,{dateFormat:"DD/MM/YYYY",locale:"fr-fr",isClearable:!1,selected:(0,E.default)(this.state.deadline,"DD/MM/YYYY"),onChange:function(t){return e.setState({deadline:t&&t.format("DD/MM/YYYY")})}}),c.default.createElement("label",null,"Alerte"),c.default.createElement(m.default,{dateFormat:"DD/MM/YYYY",locale:"fr-fr",isClearable:!0,selected:this.state.alert&&(0,E.default)(this.state.alert,"DD/MM/YYYY"),onChange:function(t){return e.setState({alert:t&&t.format("DD/MM/YYYY")})}}),c.default.createElement("label",null,"Fréquence"),c.default.createElement("select",{type:"text",value:this.state.frequency,onChange:function(t){return e.setState({frequency:t.target.value})},className:"form-control"},c.default.createElement("option",null,"Aucune"),(0,h.createOptionsFromArray)(_.default)),c.default.createElement("label",null,"Notes"),c.default.createElement("textarea",{value:this.state.notes,onChange:function(t){return e.setState({notes:t.target.value})},className:"form-control"})))}},{key:"renderView",value:function(){var e=this;return c.default.createElement("div",{className:b.default.main,onClick:function(e){return e.stopPropagation()}},c.default.createElement("div",{className:b.default.header},c.default.createElement("h1",null,this.state.name),c.default.createElement("button",{className:(0,d.default)(S.default.button,S.default.default),onClick:function(t){return e.edit(t)}},c.default.createElement("i",{className:"fa fa-edit"}),"Modifier"),c.default.createElement("button",{onClick:function(t){return e.remove(t)},className:(0,d.default)(S.default.button,S.default.assertive)},c.default.createElement("i",{className:"ion-ios-trash-outline"}),"Supprimer"),c.default.createElement("button",{onClick:function(t){return e.close(t)},className:(0,d.default)(S.default.button,S.default.stable,S.default.clear)},c.default.createElement("i",{className:"ion-ios-close-empty"}))),c.default.createElement("div",{className:b.default.content},c.default.createElement("div",null,c.default.createElement("h3",null,"Echéance"),c.default.createElement("p",null,this.state.deadline)),c.default.createElement("div",null,c.default.createElement("h3",null,"Alerte"),c.default.createElement("p",null,this.state.alert)),c.default.createElement("div",null,c.default.createElement("h3",null,"Fréquence"),c.default.createElement("p",null,this.state.frequency&&this.displayFreqency(this.state.frequency))),c.default.createElement("div",null,c.default.createElement("h3",null,"Note"),c.default.createElement("div",null,this.state.notes&&this.state.notes.split("\n").map(function(e,t){return c.default.createElement("div",{key:t},e)})))))}},{key:"displayFreqency",value:function(e){var t="Une fois";switch(e){case"year":t="Tous les ans";break;case"month":t="Tous les mois";break;case"day":t="Tous les jours"}return t}},{key:"render",value:function(){return this.state.edit?this.renderEdition():this.renderView()}}]),t}(s.Component);t.default=O},"./src/components/utils/PDFViewer.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./node_modules/react-pdf-js/lib/index.js"),m=a(f),p=n("./src/components/elements/Loader.jsx"),E=a(p),v=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperty(a,"onDocumentComplete",{enumerable:!0,writable:!0,value:function(e){a.setState({page:1,pages:e})}}),Object.defineProperty(a,"onPageComplete",{enumerable:!0,writable:!0,value:function(e){a.setState({page:e})}}),Object.defineProperty(a,"handlePrevious",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),1!==a.state.page&&a.setState({page:a.state.page-1})}}),Object.defineProperty(a,"handleNext",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.state.page!==a.state.pages&&a.setState({page:a.state.page+1})}}),Object.defineProperty(a,"handleZoom",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.state.zoom>=2&&(a.state.zoom=0),a.setState({zoom:a.state.zoom+.5})}}),Object.defineProperty(a,"renderPagination",{enumerable:!0,writable:!0,value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=c.default.createElement("li",{className:(0,d.default)("previous",{disabled:1===e}),onClick:a.handlePrevious},c.default.createElement("a",null,c.default.createElement("i",{className:"fa fa-arrow-left"}),"Previous")),l=c.default.createElement("li",{className:(0,d.default)("next",{disabled:e===t}),onClick:a.handleNext},c.default.createElement("a",null,"Next",c.default.createElement("i",{className:"fa fa-arrow-right"}))),o=void 0;return n&&(o=c.default.createElement("li",{className:(0,d.default)("zoom"),onClick:a.handleZoom},c.default.createElement("a",null,c.default.createElement("i",{className:"fa fa-search"}),"Zoom"))),c.default.createElement("nav",null,c.default.createElement("ul",{className:"pager"},r,n&&o,l))}}),a.state={page:0,pages:0,zoom:1},a}return o(t,e),u(t,[{key:"render",value:function(){var e=null;return this.state.pages&&(e=this.renderPagination(this.state.page,this.state.pages,!0)),c.default.createElement("div",null,e,c.default.createElement("div",{style:{textAlign:"center",overflow:"auto"}},c.default.createElement(m.default,{file:this.props.url,onDocumentComplete:this.onDocumentComplete,onPageComplete:this.onPageComplete,page:this.state.page,rotate:0,scale:this.state.zoom,loading:c.default.createElement(E.default,null)})),e,c.default.createElement("p",{style:{textAlign:"center"}},this.state.page+" / "+this.state.pages))}}]),t}(s.Component);t.default=v},"./src/components/utils/RenameInput.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=a(i),f=n("./src/styles/buttons.scss"),m=a(f),p=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.closeIntent=null,a.name=a.props.name,a.state={newName:a.props.name},a}return o(t,e),u(t,[{key:"cancelRename",value:function(e){var t=this;this.closeIntent=setTimeout(function(){t.props.onCancel()},100)}},{key:"stopCancelRename",value:function(){clearTimeout(this.closeIntent)}},{key:"checkNewName",value:function(e){/[\/*\\'":|=,\[\]]/.test(e)||this.setState({newName:e})}},{key:"rename",value:function(){if(this.name===this.state.newName)return this.props.onCancel();console.log("new name"+this.state.newName),this.props.onRename(this.state.newName)}},{key:"render",value:function(){var e=this;return c.default.createElement("span",{className:"main"},c.default.createElement("input",{autoFocus:!0,type:"text",value:this.state.newName,onChange:function(t){return e.checkNewName(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.rename()},style:{width:10+13.1*this.state.newName.length+"px"}}),c.default.createElement("button",{className:(0,d.default)(m.default.button,m.default.stable),onFocus:function(t){return e.stopCancelRename()},onClick:function(){return e.rename()}},c.default.createElement("i",{className:"ion-ios-checkmark-empty"})),c.default.createElement("button",{className:(0,d.default)(m.default.button,m.default.assertive),onClick:function(t){return e.cancelRename()}},c.default.createElement("i",{className:"ion-ios-close-empty"})))}}]),t}(s.Component);t.default=p},"./src/components/utils/TXTViewer.jsx":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("./node_modules/react/react.js"),c=a(s),i=n("./node_modules/classnames/index.js"),d=(a(i),n("./src/components/elements/Loader.jsx")),f=a(d),m=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={content:"",loading:!0,error:!1},a}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;fetch(this.props.url).then(function(e){return e.text()}).then(function(t){return e.setState({content:t,loading:!1})}).catch(function(t){return e.setState({error:t,content:"Impossible de lire le fichier",loading:!1})})}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(f.default,{display:this.state.loading}),!this.state.loading&&c.default.createElement("p",{style:{textAlign:"left",margin:"30px"}},this.state.content.split("\n").map(function(e,t){return c.default.createElement("div",{key:t},e)})),!this.state.loading&&this.state.error&&c.default.createElement("p",{style:{textAlign:"center"}},this.props.url,this.state.error))}}]),t}(s.Component);t.default=m},"./src/constants/contactTypes.json":function(e,t){e.exports=["Rénovation générale","Plomberie","Electricité","Couverture","Chauffage/Ventilation/Climatisation","Peinture","Autre"]},"./src/constants/data/contact.json":function(e,t){e.exports=[{name:"firstname",display:"Prénom"},{name:"lastname",display:"Nom"},{name:"telephone",display:"Téléphone",type:"telephone"},{name:"email",display:"Email",type:"email"},{name:"address",display:"Adresse",type:"address"},{name:"speciality",display:"Spécialité",type:"list",value:["A definir"]},{name:"satisfaction",display:"Satisfaction",type:"rate"},{name:"nbRealisedProjects",display:"Nombre de projets réalisés",type:"number"}]},"./src/constants/data/diagnosis.json":function(e,t){e.exports=[{name:"type",display:"",type:"list",values:["DPE","ERNMT","Plomb (CREP)","Amiante (DAPP)","Installation intérieur élétricité","Installation intérieur de gaz"]},{name:"date",display:"Date de réalisation",type:"date"},{name:"expirationDate",display:"Date d'expiration",type:"date"},{name:"DPEEnergyClass",display:"Étiquette énergétique DPE"},{name:"realEnergyConsommation",display:"Consommation énergétique réel"},{name:"carbonClass",display:"Étiquette carbon"},{name:"CO2emission",display:"Émission de CO2"},{name:"cep",display:"Valeur CEP",type:"number"},{name:"bbio",display:"Valeur BBIO",type:"number"},{name:"tic",display:"Valeur TIC",type:"degree"},{name:"data",display:"Donnée",type:"multi",values:[{name:"thermalBridge",display:"Pont thermal"},{name:"ventilation",display:"Ventilation"},{name:"lighting",display:"Lumière"}]},{name:"equipmentData",display:"Données d'équipements",type:"multi",values:[{name:"heat",display:"Chaleur"},{name:"cold",display:"Froid"},{name:"sanitary",display:"Sanitaire"}]}]},"./src/constants/data/equipment.json":function(e,t){e.exports=[{name:"type",display:"Type",type:"list",values:["Ventilation naturelle","VMC","VMC Gaz","Autre système de ventilation","Eau chaude sanitaire électrique","Eau chaude sanitaire thermodynamique","Eau chaude solaire","Chaudière à gaz","Chaudière fuel","Poêle à bois","Cheminée, foyer, insert","Radiateurs électriques","Chauffage solaire","Pompe à chaleur","Climatiseur","Installation photovoltaïques","Réfrigérateur","Lave-linge","Cuisinière","Table de cuisson","Four","Lave-vaisselle","Cave à vin","Sèche-linge","Box de pilotage maison","Autre"]},{name:"model",display:"Model"},{name:"brand",display:"Marque"},{name:"buyDate",display:"Date d'achat",type:"date"},{name:"installDate",display:"Date d'installation",type:"date"},{name:"guaranteeEndDate",display:"Date de fin de garantie",type:"date"},{name:"lastMaintenanceDate",display:"Date de la dernière maintenance",type:"date"},{name:"energyClass",display:"Classe énergetique"}]},"./src/constants/data/home.json":function(e,t){e.exports=[{name:"status",display:"Statut résident",type:"list",values:["Propriétaire","Locataire"]},{name:"type",display:"Type de logement",type:"list",values:["Individuel","Collectif"]},{name:"constructionDate",display:"Date de construction",type:"date"},{name:"address",display:"Adresse",type:"address"},{name:"telephone",display:"Téléphone",type:"telephone"},{name:"email",display:"Email",type:"email"},{name:"livingArea",display:"Surface habitable",type:"number"},{name:"roomsCount",display:"Nombre de pièces",type:"number"},{name:"rooms",display:"Pièces",type:"multi",values:[{name:"type",display:"Type de pièce",type:"list",values:["Logement entier","Cuisine","Salle de bain","Salon","Salle à manger","Wc","Parties communes","Toit","Cave","Combles","Chambre","Jardin","Façade extérieure","Balcon"]},{name:"size",display:"Surface",type:"area"},{name:"level",display:"Niveau",type:"number"}]}]},"./src/constants/data/maintenance.json":function(e,t){e.exports=[{name:"name",display:"Titre"},{name:"description",display:"Description"},{name:"contractId",display:"Numéro de contrat"},{name:"date",display:"Date de réalisation",type:"date"},{name:"deadline",display:"Date d'échéance",type:"list",values:["6 mois","1 ans","2 ans","3 ans","4 ans","5 ans"]},{name:"contract",display:"Contrat",type:"contract"}]},"./src/constants/data/work.json":function(e,t){e.exports=[{name:"description",display:"Description"},{name:"type",display:"Type",type:"list",values:["Fenêtres (PVC, bois, alu)","Construction - Extension","Rénovation intérieure","Chauffage - Chaudière","Menuiseries (alu, bois, pvc)","Toiture - Charpente -","Couverture","Climatisation - Ventilation","Electricité - Courant faible","Architecture - Expertise","Salle de bains - WC - SPA","Alarme - Sécurité - Incendie","Peinture - Tapisserie","Isolation thermique et ","Plomberie","Façade (ravalement, enduit,...)","Sols intérieurs","Piscine - Abri piscine","Aménagement intérieur","Assainissement - Terrassement","Sols extérieurs","Véranda - Pergola - Verrière","Diagnostics - Traitements","Plafond - Cloison - Plâtre","Jardin - Clôture - Portail","Maçonnerie - Démolition","Ascenseur - Monte-charges","Escalier - Garde corps","Cheminée et accessoires","Divers"]},{name:"roomNames",display:"Pièces",type:"multi",values:[{name:"roomName",display:"Type de la pièce",type:"list",values:["Logement entier","Cuisine","Salle de bain","Salon","Salle à manger","Wc","Parties communes","Toit","Cave","Combles","Chambre","Jardin","Façade extérieure","Balcon"]}]},{name:"equipmentNames",display:"Équipements",type:"multi",values:[{name:"equipmentName",display:"Type d'équipements",type:"list",value:["Ventilation naturelle","VMC","VMC Gaz","Autre système de ventilation","Eau chaude sanitaire électrique","Eau chaude sanitaire thermodynamique","Eau chaude solaire","Chaudière à gaz","Chaudière fuel","Poêle à bois","Cheminée, foyer, insert","Radiateurs électriques","Chauffage solaire","Pompe à chaleur","Climatiseur","Installation photovoltaïques","Réfrigérateur","Lave-linge","Cuisinière","Table de cuisson","Four","Lave-vaisselle","Cave à vin","Sèche-linge","Box de pilotage maison","Autre"]}]},{name:"craftsman",display:"Artisant"},{name:"lastname",display:"Nom"},{name:"firstname",display:"Prénom"},{name:"telephone",display:"Téléphone",type:"telephone"},{name:"cost",display:"Coût",type:"list",values:["< 500 €","500 – 1000 €","1000 – 2000 €","2000 – 5000 €","> 5000€"]},{name:"dateStart",display:"Date de début",type:"date"},{name:"dateEnd",display:"Date de fin",type:"date"},{name:"contract",display:"Contrat",type:"contract"}]},"./src/constants/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.DOCTYPE_EQUIPMENTS="com.homebook.equipment",r=t.DOCTYPE_WORKS="com.homebook.work",l=t.DOCTYPE_MAINTENANCES="com.homebook.maintenance",o=t.DOCTYPE_DIAGNOSIS="com.homebook.diagnosis",u=t.DOCTYPE_HOMEDATA="com.homebook.homeData",s=(t.DOCTYPE_DATA="com.homebook.data",t.DOCTYPE_CONTACTS="com.homebook.contacts",t.DOCTYPE_RECALLS="com.homebook.recalls",t.DOCTYPE_META="com.homebook.meta",t.COZY_ROOT_ID="io.cozy.files.root-dir",t.ROOT_PATH="/Homebook");t.ROOT_NAME="/Documents",t.DATA_LIST=[{name:"Diagnostics",singleName:"Diagnostic",addButton:"Ajouter un diagnostic",path:s+"/Diagnostics",doctype:o,slug:"diagnosis"},{name:"Données de propriété",singleName:"Donnée de propriété",addButton:"Ajouter une donnée de propriété",path:s+"/Documents de propriété",doctype:u,slug:"homedata"},{name:"Équipements",singleName:"Équipement",addButton:"Ajouter un équipement",path:s+"/Équipements",doctype:a,slug:"equipments"},{name:"Travaux",singleName:"Travaux",addButton:"Ajouter des travaux",path:s+"/Travaux",doctype:r,slug:"works"},{name:"Entretien",singleName:"Entretien",addButton:"Ajouter des entretiens",path:s+"/Entretiens",doctype:l,slug:"maintenances"}],t.FOLDER_LIST=[s+"/Diagnostics",s+"/Documents de propriété",s+"/Équipements",s+"/Travaux",s+"/Entretiens",s+"/Usages"],t.STATUS_DONE="loaded",t.STATUS_LOAD="pending",t.STATUS_ERROR="failed",t.VIEW_LIST="VIEW_LIST",t.VIEW_GRID="VIEW_GRID",t.VIEW_FILE="VIEW_FILE",t.VIEW_DIR="VIEW_DIR",t.SORT_NAME="SORT_NAME",t.SORT_DATE="SORT_DATE",t.TYPE_FOLDER="TYPE_FOLDER",t.TYPE_FILE="TYPE_FILE"},"./src/constants/recallsFrequencies.json":function(e,t){e.exports=["Une fois","Tous les ans","Tous les mois","Tous les jours"]},"./src/constants/types.json":function(e,t){e.exports=[{name:"Données contractuelles de propriétés",location:"/Documents de propriété",types:[{key:"Deed of superficies",name:"Acte de propriété"},{key:"plans",name:"Plans"}]},{name:"Equipements",location:"/Équipements",types:[{key:"equipments_notice",name:"Notice d’utilisation des équipements"},{key:"equipments_info",name:"Fiche équipement"}]},{name:"Travaux",location:"/Travaux et entretien",types:[{key:"works_invoice",name:"Devis, facture, éléments d’une opération de travaux"}]},{name:"Entretien",location:"/Travaux et entretien",types:[{key:"maintenance_contract",name:"Contrat d'entretien"}]},{name:"Données logements privées",location:"/Usages",types:[{key:"local_taxes",name:"Impôts locaux (TH, TF)"},{key:"supplies_contract",name:"Contrat de fourniture"},{key:"water_contract",name:"Contrat d'eau"},{key:"electricity_contract",name:"Contrat d'électricité"},{key:"telecom_contract",name:"Contrat télécom"},{key:"house insurance",name:"Assurance habitation"}]},{name:"Diagnostics",location:"/Diagnostics",types:[{key:"energetics_diagnosis",name:"Diagnostic de Performance Energétique"},{key:"ernmt_diagnosis",name:"État des Risques Naturels, Miniers et Technologiques (ERNMT)"},{key:"lead_diagnosis",name:"Plomb (CREP)"},{key:"asbestos_diagnosis",name:"Amiante (DAPP)"},{key:"electricity_diagnosis",name:"Diagnostic Electricité"},{key:"gas_diagnosis",name:"Diagnostic Gaz"}]},{name:"Copropriété",location:"/Documents de propriété",types:[{key:"condominium_regulation",name:"Règlement de copropriété"},{key:"1",name:"Procès-verbaux des 3 dernières AG"},{key:"2",name:"Fiche synthétique de copropriété"},{key:"3",name:"Carnet d’entretien de la copropriété"},{key:"4",name:"Impayés de charges au sein du syndicat et dettes"}]}]},"./src/containers/App.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react-redux/es/index.js"),r=n("./src/actions/index.js"),l=n("./src/App.jsx"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){return{initilizeGauge:function(){e((0,r.gaugeInitialize)())},initilizeDocs:function(){e((0,r.documentsInitialize)())}}},s=(0,a.connect)(null,u)(o.default);t.default=s},"./src/containers/Contacts.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react-redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/components/elements/Contacts.jsx"),u=a(o),s=n("./src/scripts/confirm.js"),c=a(s),i=n("./node_modules/react/react.js"),d=a(i),f=n("./src/components/modals/ConfirmModal.jsx"),m=a(f),p=d.default.createElement(m.default,null,d.default.createElement("p",null,"Voulez-vous supprimer ce contact ?")),E=function(e){return{elements:e.contacts.elements,count:e.contacts.elementCount,selectedCount:e.contacts.selectedCount,status:e.contacts.fetchStatus}},v=function(e){return{onSelectContact:function(t){e((0,l.contactsSelect)(t))},onNewContact:function(t,n){e((0,l.contactsNew)(t,n))},onRemoveContacts:function(t){(0,c.default)(p).then(function(){return e((0,l.contactsRemove)(t))}).catch(function(e){})},onSaveContact:function(t,n){e((0,l.contactsSave)(t,n))},onLoadContacts:function(){e((0,l.loadContacts)())}}},_=(0,r.connect)(E,v)(u.default);t.default=_},"./src/containers/Data.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react-redux/es/index.js"),r=n("./src/actions/index.js"),l=n("./src/components/elements/Data.jsx"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){return{current:e.data.current}},s=function(e){return{onLoadData:function(t,n){e((0,r.dataLoad)(t,n))}}},c=(0,a.connect)(u,s)(o.default);t.default=c},"./src/containers/Documents.js":function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react-redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/components/elements/Documents.jsx"),u=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n("./src/constants/index.js"),c=function(e,t,n){return n?(console.log("Sort files",e.length),e.sort(function(e,n){return t===s.SORT_DATE?(e=new Date(e.updated_at),n=new Date(n.updated_at)):t===s.SORT_NAME&&(e=e.name.toLowerCase(),n=n.name.toLowerCase()),e<n?-1:n<e?1:0})):e},i=function(e){return{files:c(e.documents.files,e.documents.filter,e.documents.needSort),status:e.documents.fetchStatus,folder:e.documents.folder,path:e.documents.path,fileCount:e.documents.fileCount,viewMode:e.viewMode,selectedCount:e.documents.selectedCount,filter:e.documents.filter,current:e.documents.current,lastType:e.documents.lastFetchType,data:e.data.data,dataStatus:e.data.fetchStatus,dataCount:e.data.dataCount,selectedDataCount:e.data.selectedCount}},d=function(e){var t;return t={onFileClick:function(t){e((0,l.documentsClick)(t))},onBackPress:function(){e((0,l.documentsBack)())},onChangeViewMode:function(){e((0,l.documentsChangeViewMode)())},onNewFolder:function(){var t=prompt("Nom du dossier");t&&e((0,l.documentsNewFolder)(t))},onOpenFolder:function(t){e((0,l.loadFolder)(t))},onLoadData:function(t){e((0,l.loadData)(t))},onRename:function(){console.log("RENAME No implemented yet")},onDownload:function(t){e((0,l.documentsDownload)(t))},onRemove:function(t){e((0,l.documentsRemove)(t))},onDownloadAll:function(t){e((0,l.documentsDownload)(t))},onSelect:function(t){e((0,l.documentsSelect)(t))},onInitialize:function(){e((0,l.documentsInitialize)())},onImporterClick:function(t){e((0,l.importerClick)(t))},onChangeFilter:function(t){e((0,l.documentsChangeFilter)(t))},onSelectData:function(t){e((0,l.dataSelect)(t))},onRemoveData:function(t,n){e((0,l.dataRemove)(t,n))}},a(t,"onRename",function(t,n){e((0,l.documentsRename)(t,n))}),a(t,"onMoveFile",function(t,n){e((0,l.documentsMove)(t,n))}),t},f=(0,r.connect)(i,d)(u.default);t.default=f},"./src/containers/Gauge.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react-redux/es/index.js"),r=n("./src/actions/index.js"),l=n("./src/components/elements/Gauge.jsx"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n("./src/scripts/fileTypes.js"),s=function(e){var t=e.usedTypes;return(0,u.getFileTypes)().filter(function(e){var n=!1,a=!0,r=!1,l=void 0;try{for(var o,u=t[Symbol.iterator]();!(a=(o=u.next()).done);a=!0)o.value.type===e.key&&(n=!0)}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return!n}).slice(0,3)},c=function(e){return{list:s(e.gauge),usedType:e.gauge.usedTypes,status:e.gauge.status}},i=function(e){return{onFileClick:function(t,n){e((0,r.importerClick)(t,n))}}},d=(0,a.connect)(c,i)(o.default);t.default=d},"./src/containers/Importer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react-redux/es/index.js"),r=n("./src/actions/index.js"),l=n("./src/components/modals/ImporterModal.jsx"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){return{currentType:e.importer.currentType,currentPath:e.importer.currentPath,documentsTree:e.importer.documentsTree,view:e.importer.view}},s=function(e){return{onDirectoryChange:function(t){e((0,r.importerDirectoryChange)(t))},onImport:function(t,n){e((0,r.importerFilesUpload)(t,n))},onTree:function(){e((0,r.importerTree)())},onChangeView:function(t){e((0,r.importerViewChange)(t))}}},c=(0,a.connect)(u,s)(o.default);t.default=c},"./src/containers/Mover.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react-redux/es/index.js"),r=n("./src/actions/index.js"),l=n("./src/components/modals/MoverModal.jsx"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){return{currentPath:e.importer.currentPath,documentsTree:e.importer.documentsTree}},s=function(e){return{onDirectoryChange:function(t){e((0,r.importerDirectoryChange)(t))}}},c=(0,a.connect)(u,s)(o.default);t.default=c},"./src/containers/Navigation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react-redux/es/index.js"),r=n("./src/actions/index.js"),l=n("./src/components/elements/Navigation.jsx"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n("./node_modules/react-router-dom/es/index.js"),s=function(e){return{onOpenFolder:function(){e((0,r.loadFolder)())},onOpenContacts:function(){e((0,r.loadContacts)())},onOpenRecalls:function(){e((0,r.loadRecalls)())},onOpenTrash:function(){e((0,r.loadTrash)())}}},c=(0,a.connect)(null,s)(o.default);t.default=(0,u.withRouter)(c)},"./src/containers/Recalls.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react-redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/components/elements/Recalls.jsx"),u=a(o),s=n("./src/scripts/confirm.js"),c=a(s),i=n("./node_modules/react/react.js"),d=a(i),f=n("./src/components/modals/ConfirmModal.jsx"),m=a(f),p=d.default.createElement(m.default,null,d.default.createElement("p",null,"Voulez-vous supprimer ce rappel ?")),E=function(e){return{elements:e.recalls.elements,count:e.recalls.elementCount,status:e.recalls.fetchStatus}},v=function(e){return{onNewRecall:function(t,n){e((0,l.recallsNew)(t,n))},onRemoveRecalls:function(t){(0,c.default)(p).then(function(){return e((0,l.recallsRemove)(t))}).catch(function(e){})},onSaveRecall:function(t,n){e((0,l.recallsSave)(t,n))},onClick:function(t){e((0,l.recallsCalendarClick)(t))},onLoadRecalls:function(){e((0,l.loadRecalls)())}}},_=(0,r.connect)(E,v)(u.default);t.default=_},"./src/containers/Trash.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react-redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/components/elements/Trash.jsx"),u=a(o),s=n("./src/scripts/confirm.js"),c=a(s),i=n("./node_modules/react/react.js"),d=a(i),f=n("./src/components/modals/ConfirmModal.jsx"),m=a(f),p=d.default.createElement(m.default,null,d.default.createElement("p",null,"Voulez-vous vider la corbeille ?")),E=function(e){return{files:e.trash.files,contacts:e.trash.contacts,data:e.trash.data,count:e.trash.elementCount,viewMode:e.viewMode,selectedCount:e.trash.selectedCount,status:e.trash.fetchStatus}},v=function(e){return{onEmpty:function(){(0,c.default)(p).then(function(){return e((0,l.trashEmpty)())}).catch(function(e){})},onRestoreDocuments:function(t){e((0,l.documentsRestore)(t))},onRestoreContacts:function(t){e((0,l.contactsRestore)(t))},onRestoreData:function(t){e((0,l.dataRestore)(t))},onSelectContact:function(t){e((0,l.trashSelectContact)(t))},onSelectFile:function(t){e((0,l.trashSelectDocument)(t))},onSelectData:function(t){e((0,l.trashSelectData)(t))},onLoadTrash:function(){e((0,l.loadTrash)())},onChangeViewMode:function(){e((0,l.trashChangeViewMode)())},onSelectAll:function(t){e((0,l.trashSelectAll)(t))}}},_=(0,r.connect)(E,v)(u.default);t.default=_},"./src/index.jsx":function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var a=n("./node_modules/react/react.js"),r=t(a),l=n("./node_modules/react-dom/index.js"),o=t(l),u=n("./src/containers/App.js"),s=t(u),c=n("./node_modules/react-redux/es/index.js"),i=n("./src/store/index.js"),d=t(i),f=n("./src/actions/index.js"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f);n("./bower_components/normalize-css/normalize.css"),n("./bower_components/bootstrap/dist/css/bootstrap.min.css"),n("./bower_components/font-awesome/css/font-awesome.css"),n("./bower_components/Ionicons/css/ionicons.css"),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("[role=application]"),n=t.dataset;console.log("Current Version:","2.0.23"),window.cozy.client.init({cozyURL:"//"+n.cozyDomain,token:n.cozyToken}),window.cozy.bar.init({appName:n.cozyAppName,appEditor:n.cozyAppEditor,iconPath:n.cozyIconPath,lang:n.cozyLocale,replaceTitleOnMobile:!0});var a=(0,d.default)();e.React=r.default,e.store=a,e.Actions=m,o.default.render(r.default.createElement(c.Provider,{store:a},r.default.createElement(s.default,null)),t)})}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./src/reducers/contacts.js":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.selectedCount=t.elements=void 0;var r=n("./node_modules/redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/constants/index.js"),u=t.elements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.LOAD_CONTACTS_SUCCESS:return t.contacts;case l.CONTACTS_NEW_SUCCESS:return[].concat(a(e),[t.contact]);case l.CONTACTS_REMOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case l.CONTACTS_SAVE_SUCCESS:return[].concat(a(e.filter(function(e){return e._id!==t.contact._id})),[t.contact]);case l.CONTACTS_SELECT:return[].concat(a(e.map(function(e){return e._id===t.contact._id&&(e.selected=!e.selected),e})));default:return e}},s=t.selectedCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.LOAD_CONTACTS_SUCCESS:case l.CONTACTS_REMOVE_SUCCESS:return 0;case l.CONTACTS_SELECT:return t.contact.selected?e-1:e+1;default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.LOAD_CONTACTS_SUCCESS:return t.contacts.length;case l.CONTACTS_REMOVE_SUCCESS:return e-t.ids.length;case l.CONTACTS_RESTORE_SUCCESS:return e+t.ids.length;case l.CONTACTS_NEW_SUCCESS:return e+1;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.STATUS_LOAD;switch(arguments[1].type){case l.LOAD_CONTACTS:case l.CONTACTS_REMOVE:case l.CONTACTS_SAVE:case l.CONTACTS_NEW:return o.STATUS_LOAD;case l.LOAD_CONTACTS_SUCCESS:case l.CONTACTS_NEW_SUCCESS:case l.CONTACTS_REMOVE_SUCCESS:case l.CONTACTS_SAVE_SUCCESS:return o.STATUS_DONE;case l.LOAD_CONTACTS_FAILURE:return o.STATUS_ERROR;default:return e}};t.default=(0,r.combineReducers)({selectedCount:s,elements:u,elementCount:c,fetchStatus:i})},"./src/reducers/data.js":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.current=t.selectedCount=t.dataCount=t.doctype=t.data=void 0;var r=n("./node_modules/redux/es/index.js"),l=n("./src/actions/index.js"),o=(n("./src/constants/index.js"),t.data=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.LOAD_DATA_SUCCESS:return t.data;case l.DATA_NEW_SUCCESS:return[].concat(a(e),[t.data]);case l.DATA_REMOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case l.DATA_SAVE_SUCCESS:return[].concat(a(e.filter(function(e){return e._id!==t.data._id})),[t.data]);case l.DATA_SELECT:return[].concat(a(e.map(function(e){return e._id===t.data._id&&(e.selected=!e.selected),e})));default:return e}}),u=t.doctype=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.LOAD_DATA_SUCCESS:case l.DATA_LOAD_SUCCESS:return t.doctype;default:return e}},s=t.dataCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.LOAD_DATA_SUCCESS:return t.data.length;case l.DATA_REMOVE_SUCCESS:return e-t.ids.length;case l.DATA_RESTORE_SUCCESS:return e+t.ids.length;case l.DATA_NEW_SUCCESS:return e+1;default:return e}},c=t.selectedCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.LOAD_DATA_SUCCESS:case l.DATA_REMOVE_SUCCESS:return 0;case l.DATA_SELECT:return t.data.selected?e-1:e+1;default:return e}},i=t.current=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.DATA_LOAD_SUCCESS:return t.data;default:return e}};t.default=(0,r.combineReducers)({selectedCount:c,data:o,doctype:u,dataCount:s,current:i})},"./src/reducers/documents.js":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/constants/index.js"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.LOAD_DOCS_SUCCESS:return t.folder;default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.SORT_DATE,t=arguments[1];switch(t.type){case l.DOCUMENTS_CHANGE_FILTER:return t.filter;default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.LOAD_DOCS:return t.path;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.LOAD_DOCS_SUCCESS:return t.fileCount;case l.IMPORTER_FILE_UPLOAD_SUCESS:return e+t.files.length;case l.DOCUMENTS_NEW_FOLDER_SUCCESS:return e+1;case l.DOCUMENTS_REMOVE_SUCCESS:case l.DOCUMENTS_MOVE_SUCCESS:return e-t.ids.length;case l.DOCUMENTS_RESTORE_SUCCESS:return e+t.ids.length;case l.DOCUMENTS_INITIALIZE_SUCCESS:return-1;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.LOAD_DOCS_SUCCESS:case l.DOCUMENTS_REMOVE_SUCCESS:case l.DOCUMENTS_RENAME_SUCCESS:case l.DOCUMENTS_MOVE_SUCCESS:return 0;case l.DOCUMENTS_SELECT:return t.document.selected?e-1:e+1;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.LOAD_DOCS_SUCCESS:return t.files;case l.IMPORTER_FILE_UPLOAD_SUCESS:return[].concat(a(e),a(t.files));case l.DOCUMENTS_NEW_FOLDER_SUCCESS:return[t.folder].concat(a(e));case l.DOCUMENTS_REMOVE_SUCCESS:case l.DOCUMENTS_MOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e.id)});case l.DOCUMENTS_SELECT:return[].concat(a(e.map(function(e){return e.id===t.document.id&&(e.selected=!e.selected),e})));case l.DOCUMENTS_RENAME_SUCCESS:return[].concat(a(e.map(function(e){return e.id===t.file.id&&(e=t.file),e})));default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.STATUS_LOAD;switch(arguments[1].type){case l.LOAD_DOCS:case l.DOCUMENTS_REMOVE:case l.DOCUMENTS_NEW_FOLDER:case l.IMPORTER_FILE_UPLOAD:return o.STATUS_LOAD;case l.LOAD_DOCS_SUCCESS:case l.LOAD_FILE_SUCCESS:case l.DOCUMENTS_REMOVE_SUCCESS:case l.IMPORTER_FILE_UPLOAD_SUCESS:case l.DOCUMENTS_MOVE_SUCCESS:case l.DOCUMENTS_NEW_FOLDER_SUCCESS:return o.STATUS_DONE;case l.DOCUMENTS_REMOVE_FAILURE:case l.LOAD_DOCS_FAILURE:return o.STATUS_ERROR;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case l.LOAD_DOCS_SUCCESS:return o.TYPE_FOLDER;case l.LOAD_FILE_SUCCESS:return o.TYPE_FILE;default:return e}},E=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(arguments[1].type){case l.DOCUMENTS_CHANGE_FILTER:case l.IMPORTER_FILE_UPLOAD_SUCESS:case l.LOAD_DOCS_SUCCESS:return!0;default:return!1}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.LOAD_FILE_SUCCESS:return t.file;case l.LOAD_DOCS_SUCCESS:return null;default:return e}};t.default=(0,r.combineReducers)({folder:u,path:c,fileCount:i,selectedCount:d,files:f,fetchStatus:m,lastFetchType:p,filter:s,needSort:E,current:v})},"./src/reducers/gauge.js":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.gauge=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n("./src/actions/index.js"),o=n("./src/constants/index.js"),u={usedTypes:[],status:o.STATUS_LOAD},s=t.gauge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case l.IMPORTER_FILE_UPLOAD_SUCESS:var n=[],s=!0,i=!1,d=void 0;try{for(var f,m=t.files[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var p=f.value,E=c(p);if(void 0!==E){var v=!1,_=!0,h=!1,y=void 0;try{for(var S,C=e.usedTypes[Symbol.iterator]();!(_=(S=C.next()).done);_=!0){var b=S.value;if(b.type===E){b.count=b.count+1||1,v=!0;break}}}catch(e){h=!0,y=e}finally{try{!_&&C.return&&C.return()}finally{if(h)throw y}}v||(console.log("Add type",E),n.push({type:E,count:1}))}}}catch(e){i=!0,d=e}finally{try{!s&&m.return&&m.return()}finally{if(i)throw d}}return r({},e,{usedTypes:[].concat(a(e.usedTypes),n)});case l.GAUGE_INITIALIZE:return r({},e,{status:o.STATUS_LOAD});case l.GAUGE_INITIALIZE_SUCCESS:return r({},e,{usedTypes:t.types,status:o.STATUS_DONE});case l.GAUGE_INITIALIZE_FAILURE:return r({},e,{status:o.STATUS_ERROR});default:return e}};t.default=s;var c=function(e){return e.tags&&e.tags[0]}},"./src/reducers/importer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n("./src/actions/index.js"),l=n("./src/constants/index.js"),o={currentPath:"",currentType:"",documentsTree:{},view:l.VIEW_FILE,status:l.STATUS_DONE},u=t.importer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.IMPORTER_DIRECTORY_CHANGE:return a({},e,{currentPath:t.path});case r.IMPORTER_CLICK:return a({},e,{currentPath:t.path,currentType:t.slug});case r.IMPORTER_VIEW_CHANGE:return a({},e,{view:t.view});case r.IMPORTER_TREE_SUCCESS:return a({},e,{documentsTree:t.tree});case r.IMPORTER_FILE_UPLOAD:return a({},e,{status:l.STATUS_LOAD});case r.IMPORTER_FILE_UPLOAD_SUCESS:return a({},e,{status:l.STATUS_DONE});case r.IMPORTER_FILE_UPLOAD_FAILURE:return a({},e,{status:l.STATUS_ERROR});default:return e}};t.default=u},"./src/reducers/index.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=n("./node_modules/redux/es/index.js"),l=n("./src/reducers/documents.js"),o=a(l),u=n("./src/reducers/gauge.js"),s=a(u),c=n("./src/reducers/importer.js"),i=a(c),d=n("./src/reducers/viewMode.js"),f=a(d),m=n("./src/reducers/contacts.js"),p=a(m),E=n("./src/reducers/recalls.js"),v=a(E),_=n("./src/reducers/data.js"),h=a(_),y=n("./src/reducers/trash.js"),S=a(y),C=t.reducers={documents:o.default,gauge:s.default,importer:i.default,viewMode:f.default,trash:S.default,data:h.default,recalls:v.default,contacts:p.default},b=(0,r.combineReducers)(C);t.default=b},"./src/reducers/recalls.js":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.selected=t.elements=void 0;var r=n("./node_modules/redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/constants/index.js"),u=t.elements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.LOAD_RECALLS_SUCCESS:return t.recalls;case l.RECALLS_NEW_SUCCESS:return[].concat(a(e),[t.recall]);case l.RECALLS_REMOVE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case l.RECALLS_SAVE_SUCCESS:return[].concat(a(e.filter(function(e){return e._id!==t.recall._id})),[t.recall]);default:return e}},s=t.selected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.RECALLS_SELECT:return-1===e.indexOf(t.recall._id)?[].concat(a(e),[t.recall._id]):e.filter(function(e){return e!==t.recall._id});default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.LOAD_RECALLS_SUCCESS:return t.recalls.length;case l.RECALLS_NEW_SUCCESS:return e+1;case l.RECALLS_REMOVE_SUCCESS:return e-t.ids.length;case l.RECALLS_RESTORE_SUCCESS:return e+t.ids.length;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.STATUS_LOAD;switch(arguments[1].type){case l.LOAD_RECALLS:case l.RECALLS_REMOVE:case l.RECALLS_SAVE:case l.RECALLS_NEW:return o.STATUS_LOAD;case l.LOAD_RECALLS_SUCCESS:case l.RECALLS_NEW_SUCCESS:case l.RECALLS_REMOVE_SUCCESS:case l.RECALLS_SAVE_SUCCESS:return o.STATUS_DONE;case l.LOAD_RECALLS_FAILURE:return o.STATUS_ERROR;default:return e}};t.default=(0,r.combineReducers)({elements:u,selected:s,elementCount:c,fetchStatus:i})},"./src/reducers/trash.js":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/redux/es/index.js"),l=n("./src/actions/index.js"),o=n("./src/constants/index.js"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.LOAD_TRASH_SUCCESS:return t.files.length+t.contacts.length+t.data.length;case l.CONTACTS_REMOVE_SUCCESS:case l.DOCUMENTS_REMOVE_SUCCESS:case l.DATA_REMOVE_SUCCESS:return e+1;case l.DOCUMENTS_RESTORE_SUCCESS:case l.CONTACTS_RESTORE_SUCCESS:case l.DATA_RESTORE_SUCCESS:return e-t.ids.length;case l.TRASH_EMPTY_SUCCESS:return 0;default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.LOAD_TRASH_SUCCESS:case l.DOCUMENTS_RESTORE_SUCCESS:case l.CONTACTS_RESTORE_SUCCESS:case l.DATA_RESTORE_SUCCESS:case l.TRASH_EMPTY_SUCCESS:return 0;case l.TRASH_SELECT_CONTACT:return t.contact.selected?e-1:e+1;case l.TRASH_SELECT_DOCUMENT:return t.document.selected?e-1:e+1;case l.TRASH_SELECT_DATA:return t.data.selected?e-1:e+1;case l.TRASH_SELECT_ALL:return t.count;default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.LOAD_TRASH_SUCCESS:return t.files;case l.DOCUMENTS_RESTORE_SUCCESS:return e.filter(function(e){return-1!==t.ids.indexOf(e._id)});case l.TRASH_EMPTY_SUCCESS:return[];case l.TRASH_SELECT_DOCUMENT:return[].concat(a(e.map(function(e){return e.id===t.document.id&&(e.selected=!e.selected),e})));case l.TRASH_SELECT_ALL:return[].concat(a(e.map(function(e){return e.selected=!e.selected,e})));default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.LOAD_TRASH_SUCCESS:return t.contacts;case l.CONTACTS_RESTORE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case l.TRASH_EMPTY_SUCCESS:return[];case l.TRASH_SELECT_CONTACT:return[].concat(a(e.map(function(e){return e._id===t.contact._id&&(e.selected=!e.selected),e})));case l.TRASH_SELECT_ALL:return[].concat(a(e.map(function(e){return e.selected=!e.selected,e})));default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case l.LOAD_TRASH_SUCCESS:return t.data;case l.DATA_RESTORE_SUCCESS:return e.filter(function(e){return-1===t.ids.indexOf(e._id)});case l.TRASH_EMPTY_SUCCESS:return[];case l.TRASH_SELECT_DATA:return[].concat(a(e.map(function(e){return e._id===t.data._id&&(e.selected=!e.selected),e})));case l.TRASH_SELECT_ALL:return[].concat(a(e.map(function(e){return e.selected=!e.selected,e})));default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.STATUS_LOAD;switch(arguments[1].type){case l.TRASH_EMPTY:case l.DOCUMENTS_RESTORE:case l.CONTACTS_RESTORE:return o.STATUS_LOAD;case l.LOAD_TRASH_SUCCESS:case l.TRASH_EMPTY_SUCCESS:case l.TRASH_EMPTY_FAILURE:case l.DOCUMENTS_RESTORE_SUCCESS:case l.DOCUMENTS_RESTORE_FAILURE:case l.CONTACTS_RESTORE_SUCCESS:case l.CONTACTS_RESTORE_FAILURE:return o.STATUS_DONE;case l.LOAD_TRASH_FAILURE:return o.STATUS_ERROR;default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case l.LOAD_TRASH_SUCCESS:case l.LOAD_TRASH_FAILURE:return Date.now();default:return e}};t.default=(0,r.combineReducers)({elementCount:u,selectedCount:s,files:c,contacts:i,data:d,fetchStatus:f,lastFetch:m})},"./src/reducers/viewMode.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewMode=void 0;var a=n("./src/actions/index.js"),r=n("./src/constants/index.js"),l=t.viewMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.VIEW_LIST;switch(arguments[1].type){case a.DOCUMENTS_CHANGE_VIEW_MODE:case a.TRASH_CHANGE_VIEW_MODE:return e===r.VIEW_GRID?r.VIEW_LIST:r.VIEW_GRID;default:return e}};t.default=l},"./src/scripts/confirm.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.alert=void 0;var r=n("./node_modules/react/react.js"),l=a(r),o=n("./node_modules/react-dom/index.js"),u=a(o),s=function(){return document.body.appendChild(document.createElement("div"))},c=function(e){return new Promise(function(t,n){var a=s(),r=function(){u.default.unmountComponentAtNode(a),a.remove(),console.log("ICI"),n()},o=function(){u.default.unmountComponentAtNode(a),a.remove(),t()};u.default.render(l.default.cloneElement(e,{confirm:o,abort:r}),a)})};t.default=c;t.alert=function(e){var t=s(),n=function(){u.default.unmountComponentAtNode(t),t.remove()};u.default.render(l.default.cloneElement(e,{close:n}),t)}},"./src/scripts/cozyRecalls.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getJobs=t.getTriggers=t.trigger=t.send=t.deleteTrigger=void 0;var r=n("./node_modules/moment/moment.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,r,l,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.authorize();case 2:return n=e.sent,e.next=5,cozy.client.fullpath(t);case 5:return a=e.sent,r={},r["Content-Type"]="application/json",r.Accept="application/json",r.Authorization=n.token.toAuthHeader(),l={headers:r,method:o,credentials:"include"},"POST"===o&&(u.data.type="io.cozy.jobs",l.body=JSON.stringify(u)),e.abrupt("return",fetch(a,l));case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),u=(t.deleteTrigger=function(e){return o("/jobs/triggers/"+e,"DELETE").then(function(e){return e.text()})},t.send=function(e){if(void 0===e)return Promise.reject("No arguments");var t=((0,l.default)(e.date,"DD/MM/YYYY").toDate(),s(e.deadline,e.recallName,e.username));return o("/jobs/queue/sendmail","POST",t).then(function(e){return e.json()})},t.trigger=function(e){if(void 0===e)return Promise.reject("No arguments");var t=(0,l.default)(e.date,"DD/MM/YYYY").toDate(),n=u(t,e.deadline,e.recallName,e.username);return o("/jobs/triggers","POST",n).then(function(e){return e.json()})},t.getTriggers=function(e){return e=e?"/"+e:"",o("/jobs/triggers"+e).then(function(e){return e.json()})},t.getJobs=function(){return o("/jobs/queue/sendmail").then(function(e){return e})},function(e,t,n,a){if(!(e&&e instanceof Date))throw Error("Bad date argument");return{data:{attributes:{type:"@at",arguments:e.toJSON(),worker:"sendmail",worker_arguments:c(t,n,a),options:{}}}}}),s=function(e,t,n){return{data:{attributes:{options:{},arguments:c(e,t,n)}}}},c=function(e,t,n){return{mode:"noreply",subject:"Rappel Homebook",parts:[{type:"text/plain",body:i(e,t,n)}]}},i=function(e,t){return"Bonjour "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")+",\n\nHomebook vous previent que le rappel "+t+" a pour échéance le "+e+".\n\nCordialement,\nHomebook"}},"./src/scripts/dataFields.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getInfosFromDoctype=t.getInfosFromSlug=t.getInfosFromPath=t.getFields=t.getMaintenanceFields=t.getWorkFields=t.getEquipmentFields=t.getHomeFields=t.getDiagnosisFields=t.getContactFields=void 0;var r=n("./src/constants/data/contact.json"),l=a(r),o=n("./src/constants/data/diagnosis.json"),u=a(o),s=n("./src/constants/data/home.json"),c=a(s),i=n("./src/constants/data/work.json"),d=a(i),f=n("./src/constants/data/maintenance.json"),m=a(f),p=n("./src/constants/data/equipment.json"),E=a(p),v=n("./src/constants/index.js");t.getContactFields=function(){return l.default},t.getDiagnosisFields=function(){return u.default},t.getHomeFields=function(){return c.default},t.getEquipmentFields=function(){return E.default},t.getWorkFields=function(){return d.default},t.getMaintenanceFields=function(){return m.default},t.getFields=function(e){switch(e){case v.DOCTYPE_DIAGNOSIS:return u.default;case v.DOCTYPE_EQUIPMENTS:return E.default;case v.DOCTYPE_HOMEDATA:return c.default;case v.DOCTYPE_MAINTENANCES:return m.default;case v.DOCTYPE_WORKS:return d.default}},t.getInfosFromPath=function(e){var t=!0,n=!1,a=void 0;try{for(var r,l=v.DATA_LIST[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var o=r.value;if(o.path===e)return o}}catch(e){n=!0,a=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw a}}},t.getInfosFromSlug=function(e){var t=!0,n=!1,a=void 0;try{for(var r,l=v.DATA_LIST[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var o=r.value;if(o.slug===e)return o}}catch(e){n=!0,a=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw a}}},t.getInfosFromDoctype=function(e){var t=!0,n=!1,a=void 0;try{for(var r,l=v.DATA_LIST[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var o=r.value;if(o.doctype===e)return o}}catch(e){n=!0,a=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw a}}}},"./src/scripts/fileTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayName=t.getTypesByGroup=t.getFileTypes=void 0;var a=n("./src/constants/types.json"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n("./src/constants/index.js");t.getFileTypes=function(){var e=[],t=!0,n=!1,a=void 0;try{for(var o,u=r.default[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var s=o.value,c=!0,i=!1,d=void 0;try{for(var f,m=s.types[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var p=f.value;p.location=l.ROOT_PATH+s.location,e.push(p)}}catch(e){i=!0,d=e}finally{try{!c&&m.return&&m.return()}finally{if(i)throw d}}}}catch(e){n=!0,a=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw a}}return e},t.getTypesByGroup=function(){return r.default},t.getDisplayName=function(e){var t=!0,n=!1,a=void 0;try{for(var l,o=r.default[Symbol.iterator]();!(t=(l=o.next()).done);t=!0){var u=l.value,s=!0,c=!1,i=void 0;try{for(var d,f=u.types[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var m=d.value;if(m.key===e)return m.name}}catch(e){c=!0,i=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw i}}}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}}},"./src/scripts/onboarding.js":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,l){try{var o=t[r](l),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.markAsShown=t.isAlreadyShown=t.getMeta=void 0;var r=n("./src/constants/index.js"),l=t.getMeta=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cozy.client.data.defineIndex(r.DOCTYPE_META,["name"]);case 3:return t=e.sent,n=cozy.client.data.query(t,{selector:{name:"onboarding"}}),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,void 0,[[0,8]])}));return function(){return e.apply(this,arguments)}}();t.isAlreadyShown=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a,o,u,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:if(t=e.sent,0!==t.length){e.next=7;break}return e.abrupt("return",!1);case 7:if(1!==t.length){e.next=11;break}return e.abrupt("return",t[0].value);case 11:n=t.shift(),a=!0,o=!1,u=void 0,e.prev=15,s=t[Symbol.iterator]();case 17:if(a=(c=s.next()).done){e.next=24;break}return i=c.value,e.next=21,cozy.client.data.delete(r.DOCTYPE_META,i);case 21:a=!0,e.next=17;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(15),o=!0,u=e.t0;case 30:e.prev=30,e.prev=31,!a&&s.return&&s.return();case 33:if(e.prev=33,!o){e.next=36;break}throw u;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt("return",n);case 39:case"end":return e.stop()}},e,void 0,[[15,26,30,38],[31,,33,37]])}));return function(){return e.apply(this,arguments)}}(),t.markAsShown=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a,o,u,s,c,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,n=!0,a=!1,o=void 0,e.prev=6,u=t[Symbol.iterator]();case 8:if(n=(s=u.next()).done){e.next=15;break}return c=s.value,e.next=12,cozy.client.data.delete(r.DOCTYPE_META,c);case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),a=!0,o=e.t0;case 21:e.prev=21,e.prev=22,!n&&u.return&&u.return();case 24:if(e.prev=24,!a){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.next=31,cozy.client.data.create("com.homebook.meta",{name:"onboarding",value:i});case 31:case"end":return e.stop()}},e,void 0,[[6,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}()},"./src/store/index.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/redux/es/index.js"),l=n("./src/tracker.js"),o=n("./node_modules/redux-thunk/lib/index.js"),u=a(o),s=n("./node_modules/redux-logger/dist/redux-logger.js"),c=a(s),i=n("./src/reducers/index.js"),d=a(i),f=function(){var e=[u.default,c.default];return(0,l.shouldEnableTracking)()&&(0,l.getTracker)()&&e.push((0,l.createTrackerMiddleware)()),(0,r.createStore)(d.default,(0,r.compose)(r.applyMiddleware.apply(void 0,e)))};t.default=f},"./src/styles/App.sass":function(e,t){e.exports={app:"main__3svTAjG",container:"main__2W5H6DW",page:"main__MJPXvQh"}},"./src/styles/ConfirmModal.sass":function(e,t){e.exports={main:"main__3pv0tKd",content:"main__oTcCMPj",actions:"main__3uVdkmq"}},"./src/styles/ContactsModal.sass":function(e,t){e.exports={main:"main__14W8XDP",header:"main__1eGPczN",content:"main__2Wz1ZvL"}},"./src/styles/DirectoryPicker.sass":function(e,t){e.exports={main:"main__2J43lkU",container:"main__2ak5yop",name:"main__3bIRD20",selected:"main__1EkEs-X",icon:"main__2wYnh-1",content:"main__2PNYpLd"}},"./src/styles/DocumentList.sass":function(e,t){e.exports={list:"main__V0ePA2F",content:"main__3ZaVp_w",checkbox:"main__2fD2YWd",viewList:"main__1XNqnir",document:"main__Ukdd5uT",selected:"main__IHUBBOD",viewGrid:"main__3dY6oVd",name:"main__3WJVcIN",contact:"main__3nhygn6",date:"main__YaSOhql",dateText:"main__S2klmEf"}},"./src/styles/Documents.sass":function(e,t){e.exports={breadcrums:"main__grwUWFc"}},"./src/styles/Footer.sass":function(e,t){e.exports={main:"main__3ovLQP-",content:"main__37qY8C-"}},"./src/styles/Gauge.sass":function(e,t){e.exports={main:"main__ofekOKn",gauge:"main__yPb_UVw",title:"main__vgdOYYr",loader:"main__1ALf4-x",bar:"main__Z3KcCu4",list:"main__3Ed48b6"}},"./src/styles/ImporterModal.sass":function(e,t){e.exports={main:"main__UcziIVu",header:"main__1pmB95T",content:"main__3bw__JO",footer:"main__15IOCI4",dropzone:"main___4oVXqr",active:"main__1s_c4NN",message:"main__2mUNzch",doc:"main__2F9XVQJ",image:"main__3PlukMF",docName:"main__VdOLhj8",select:"main__2_KFL-y"}},"./src/styles/Loader.sass":function(e,t){e.exports={loader:"main__3oQ1FKj"}},"./src/styles/Main.sass":function(e,t){e.exports={main:"main__2PFFSaI"}},"./src/styles/Modal.sass":function(e,t){e.exports={modal:"main__1nLqP2l"}},"./src/styles/Navigation.sass":function(e,t){e.exports={main:"main__18QynQg",nav:"main__3vIr2dw",list:"main__1s_fawV",button:"main__3aQBxq2",active:"main__1sZCTbE"}},"./src/styles/Onboarding.sass":function(e,t){e.exports={container:"main__1ajlB1D",background:"main__2v369sa",panel:"main__2DJkxV_",logo:"main__3Ebi-0U",sliderTitle:"main__N6ViV7G",sliderText:"main__R684Pc1",button:"main__34a0xOP",dot:"main__2FpaVKO",active:"main__3j2GOCl",close:"main__oaSyyi-"}},"./src/styles/Page.sass":function(e,t){e.exports={main:"main__1pYojXV",flex:"main__28Vg_jG",header:"main__1Ozy1Vk",row1:"main__1-uPPcn",row2:"main__1F-3peC",simpleList:"main__2H07KHW",actions:"main__1j4nIkL main__2H07KHW",options:"main__2YYsrM7 main__2H07KHW",headline:"main__12ij7nY",title:"main__MoztXUd main__12ij7nY",subtitle:"main__10YUF6i main__12ij7nY",content:"main__p72DAA6",back:"main__3YoKAZ1"}},"./src/styles/Preferences.sass":function(e,t){e.exports={title:"main__Vq_cI2O",article:"main__qHLujUF"}},"./src/styles/Recalls.sass":function(e,t){},"./src/styles/ToolBoxOptions.sass":function(e,t){e.exports={toolBox:"main__3mXeRjU",triangle:"main__1UEAhEs",content:"main__1GBzk5r",active:"main__202ApM_"}},"./src/styles/buttons.scss":function(e,t){e.exports={button:"main__2Pc5skE",positive:"main__22b7nGI",light:"main__23JmHcl",assertive:"main__utAurO8",stable:"main__2sFmQGG",default:"main__fJ7Wm8k",clear:"main__2QcKfEd",icon:"main__1t6_Ak-",text:"main__30hO-5e"}},"./src/styles/contacts.sass":function(e,t){e.exports={letter:"main__2ZWEbh6"}},"./src/tools/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptionsFromArray=t.findParentPath=t.createFakePath=t.exctractReelPath=t.promiseTimeout=t.isDirectory=t.extractFileAttributes=void 0;var a=n("./src/constants/index.js");t.extractFileAttributes=function(e){return Object.assign({},e.attributes,{id:e._id,links:e.links})},t.isDirectory=function(e){return e&&e.type&&"directory"===e.type},t.promiseTimeout=function(e){return new Promise(function(t,n){return setTimeout(t,e)})},t.exctractReelPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";0!==e.indexOf("/")&&(e="/"+e);var t=e.split("/");if(t.length<=1)return a.ROOT_PATH+"/"+e;var n=t.splice(2).join("/");return a.ROOT_PATH+(n.length>1?"/"+n:"")},t.createFakePath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";0!==e.indexOf("/")&&(e="/"+e);var t=e.split("/");if(t.length<=1)return a.ROOT_NAME+"/"+e;var n=t.splice(2).join("/");return a.ROOT_NAME+(n.length>1?"/"+n:"")},t.findParentPath=function(e){if(e){var t=e.split("/");if(t.length>2)return t.slice(0,t.length-1).join("/")}},t.createOptionsFromArray=function(e){return e.map(function(e,t){return React.createElement("option",{key:t,value:e},e)})}},"./src/tracker.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=null,r=(t.shouldEnableTracking=function(){var e=document.querySelector("[role=application]");if(e&&e.dataset){var t=e.dataset.cozyTracking;if(""===t||"true"===t)return!0;if("false"===t)return!1}},t.getTracker=function(e,t){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==a)return a;try{!1===o&&Piwik.getTracker();var u=n("./node_modules/piwik-react-router/index.js");return a=u({url:e||"https://piwik.cozycloud.cc",siteId:t||14,injectScript:o}),l&&r(),a}catch(e){return console.warn(e),a=null,null}},t.configureTracker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!==a){var t=void 0,n=void 0,r=document.querySelector("[role=application]");if(r&&r.dataset){n=r.dataset.cozyAppName,t=r.dataset.cozyDomain||"";var l=t.indexOf(":");l>=0&&(t=t.substring(0,l))}e=Object.assign({userId:t,appDimensionId:1,app:n,heartbeat:15},e),parseInt(e.heartbeat)>0&&a.push(["enableHeartBeatTimer",parseInt(e.heartbeat)]),a.push(["setUserId",e.userId]),a.push(["setCustomDimension",e.appDimensionId,e.app])}});t.createTrackerMiddleware=function(){return function(e){return function(e){return function(t){return a&&t.trackEvent&&t.trackEvent.category&&t.trackEvent.action&&a.push(["trackEvent",t.trackEvent.category,t.trackEvent.action,t.trackEvent.name,t.trackEvent.value]),e(t)}}}},t.resetTracker=function(){a&&(a.disconnectFromHistory(),a=null)}},0:function(e,t,n){e.exports=n("./src/index.jsx")}},[0]);
//# sourceMappingURL=main.bundle.js.map